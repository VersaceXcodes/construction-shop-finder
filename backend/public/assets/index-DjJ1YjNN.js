var Sh=t=>{throw TypeError(t)};var qo=(t,s,r)=>s.has(t)||Sh("Cannot "+r);var F=(t,s,r)=>(qo(t,s,"read from private field"),r?r.call(t):s.get(t)),oe=(t,s,r)=>s.has(t)?Sh("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,r),te=(t,s,r,n)=>(qo(t,s,"write to private field"),n?n.call(t,r):s.set(t,r),r),me=(t,s,r)=>(qo(t,s,"access private method"),r);var Fi=(t,s,r,n)=>({set _(a){te(t,s,a,r)},get _(){return F(t,s,n)}});function Kg(t,s){for(var r=0;r<s.length;r++){const n=s[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Gg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ux={exports:{}},mo={},hx={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ki=Symbol.for("react.element"),Yg=Symbol.for("react.portal"),Jg=Symbol.for("react.fragment"),Xg=Symbol.for("react.strict_mode"),ey=Symbol.for("react.profiler"),ty=Symbol.for("react.provider"),sy=Symbol.for("react.context"),ry=Symbol.for("react.forward_ref"),ny=Symbol.for("react.suspense"),ay=Symbol.for("react.memo"),iy=Symbol.for("react.lazy"),Ch=Symbol.iterator;function ly(t){return t===null||typeof t!="object"?null:(t=Ch&&t[Ch]||t["@@iterator"],typeof t=="function"?t:null)}var mx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xx=Object.assign,px={};function ua(t,s,r){this.props=t,this.context=s,this.refs=px,this.updater=r||mx}ua.prototype.isReactComponent={};ua.prototype.setState=function(t,s){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,s,"setState")};ua.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fx(){}fx.prototype=ua.prototype;function ou(t,s,r){this.props=t,this.context=s,this.refs=px,this.updater=r||mx}var cu=ou.prototype=new fx;cu.constructor=ou;xx(cu,ua.prototype);cu.isPureReactComponent=!0;var Eh=Array.isArray,gx=Object.prototype.hasOwnProperty,du={current:null},yx={key:!0,ref:!0,__self:!0,__source:!0};function bx(t,s,r){var n,a={},i=null,l=null;if(s!=null)for(n in s.ref!==void 0&&(l=s.ref),s.key!==void 0&&(i=""+s.key),s)gx.call(s,n)&&!yx.hasOwnProperty(n)&&(a[n]=s[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:ki,type:t,key:i,ref:l,props:a,_owner:du.current}}function oy(t,s){return{$$typeof:ki,type:t.type,key:s,ref:t.ref,props:t.props,_owner:t._owner}}function uu(t){return typeof t=="object"&&t!==null&&t.$$typeof===ki}function cy(t){var s={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return s[r]})}var Ph=/\/+/g;function zo(t,s){return typeof t=="object"&&t!==null&&t.key!=null?cy(""+t.key):s.toString(36)}function nl(t,s,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case ki:case Yg:l=!0}}if(l)return l=t,a=a(l),t=n===""?"."+zo(l,0):n,Eh(a)?(r="",t!=null&&(r=t.replace(Ph,"$&/")+"/"),nl(a,s,r,"",function(d){return d})):a!=null&&(uu(a)&&(a=oy(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(Ph,"$&/")+"/")+t)),s.push(a)),1;if(l=0,n=n===""?".":n+":",Eh(t))for(var o=0;o<t.length;o++){i=t[o];var c=n+zo(i,o);l+=nl(i,s,r,c,a)}else if(c=ly(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=n+zo(i,o++),l+=nl(i,s,r,c,a);else if(i==="object")throw s=String(t),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return l}function Oi(t,s,r){if(t==null)return t;var n=[],a=0;return nl(t,n,"","",function(i){return s.call(r,i,a++)}),n}function dy(t){if(t._status===-1){var s=t._result;s=s(),s.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=s)}if(t._status===1)return t._result.default;throw t._result}var ut={current:null},al={transition:null},uy={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:al,ReactCurrentOwner:du};function vx(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Oi,forEach:function(t,s,r){Oi(t,function(){s.apply(this,arguments)},r)},count:function(t){var s=0;return Oi(t,function(){s++}),s},toArray:function(t){return Oi(t,function(s){return s})||[]},only:function(t){if(!uu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=ua;ge.Fragment=Jg;ge.Profiler=ey;ge.PureComponent=ou;ge.StrictMode=Xg;ge.Suspense=ny;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uy;ge.act=vx;ge.cloneElement=function(t,s,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=xx({},t.props),a=t.key,i=t.ref,l=t._owner;if(s!=null){if(s.ref!==void 0&&(i=s.ref,l=du.current),s.key!==void 0&&(a=""+s.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in s)gx.call(s,c)&&!yx.hasOwnProperty(c)&&(n[c]=s[c]===void 0&&o!==void 0?o[c]:s[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:ki,type:t.type,key:a,ref:i,props:n,_owner:l}};ge.createContext=function(t){return t={$$typeof:sy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ty,_context:t},t.Consumer=t};ge.createElement=bx;ge.createFactory=function(t){var s=bx.bind(null,t);return s.type=t,s};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:ry,render:t}};ge.isValidElement=uu;ge.lazy=function(t){return{$$typeof:iy,_payload:{_status:-1,_result:t},_init:dy}};ge.memo=function(t,s){return{$$typeof:ay,type:t,compare:s===void 0?null:s}};ge.startTransition=function(t){var s=al.transition;al.transition={};try{t()}finally{al.transition=s}};ge.unstable_act=vx;ge.useCallback=function(t,s){return ut.current.useCallback(t,s)};ge.useContext=function(t){return ut.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return ut.current.useDeferredValue(t)};ge.useEffect=function(t,s){return ut.current.useEffect(t,s)};ge.useId=function(){return ut.current.useId()};ge.useImperativeHandle=function(t,s,r){return ut.current.useImperativeHandle(t,s,r)};ge.useInsertionEffect=function(t,s){return ut.current.useInsertionEffect(t,s)};ge.useLayoutEffect=function(t,s){return ut.current.useLayoutEffect(t,s)};ge.useMemo=function(t,s){return ut.current.useMemo(t,s)};ge.useReducer=function(t,s,r){return ut.current.useReducer(t,s,r)};ge.useRef=function(t){return ut.current.useRef(t)};ge.useState=function(t){return ut.current.useState(t)};ge.useSyncExternalStore=function(t,s,r){return ut.current.useSyncExternalStore(t,s,r)};ge.useTransition=function(){return ut.current.useTransition()};ge.version="18.3.1";hx.exports=ge;var u=hx.exports;const fn=Gg(u),hy=Kg({__proto__:null,default:fn},[u]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my=u,xy=Symbol.for("react.element"),py=Symbol.for("react.fragment"),fy=Object.prototype.hasOwnProperty,gy=my.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yy={key:!0,ref:!0,__self:!0,__source:!0};function jx(t,s,r){var n,a={},i=null,l=null;r!==void 0&&(i=""+r),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(l=s.ref);for(n in s)fy.call(s,n)&&!yy.hasOwnProperty(n)&&(a[n]=s[n]);if(t&&t.defaultProps)for(n in s=t.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:xy,type:t,key:i,ref:l,props:a,_owner:gy.current}}mo.Fragment=py;mo.jsx=jx;mo.jsxs=jx;ux.exports=mo;var e=ux.exports,wx={exports:{}},Rt={},Nx={exports:{}},_x={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function s(S,z){var O=S.length;S.push(z);e:for(;0<O;){var N=O-1>>>1,A=S[N];if(0<a(A,z))S[N]=z,S[O]=A,O=N;else break e}}function r(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var z=S[0],O=S.pop();if(O!==z){S[0]=O;e:for(var N=0,A=S.length,M=A>>>1;N<M;){var Q=2*(N+1)-1,v=S[Q],$=Q+1,K=S[$];if(0>a(v,O))$<A&&0>a(K,v)?(S[N]=K,S[$]=O,N=$):(S[N]=v,S[Q]=O,N=Q);else if($<A&&0>a(K,O))S[N]=K,S[$]=O,N=$;else break e}}return z}function a(S,z){var O=S.sortIndex-z.sortIndex;return O!==0?O:S.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],m=1,f=null,x=3,j=!1,y=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(S){for(var z=r(d);z!==null;){if(z.callback===null)n(d);else if(z.startTime<=S)n(d),z.sortIndex=z.expirationTime,s(c,z);else break;z=r(d)}}function k(S){if(b=!1,p(S),!y)if(r(c)!==null)y=!0,P(E);else{var z=r(d);z!==null&&C(k,z.startTime-S)}}function E(S,z){y=!1,b&&(b=!1,g(T),T=-1),j=!0;var O=x;try{for(p(z),f=r(c);f!==null&&(!(f.expirationTime>z)||S&&!D());){var N=f.callback;if(typeof N=="function"){f.callback=null,x=f.priorityLevel;var A=N(f.expirationTime<=z);z=t.unstable_now(),typeof A=="function"?f.callback=A:f===r(c)&&n(c),p(z)}else n(c);f=r(c)}if(f!==null)var M=!0;else{var Q=r(d);Q!==null&&C(k,Q.startTime-z),M=!1}return M}finally{f=null,x=O,j=!1}}var I=!1,_=null,T=-1,L=5,q=-1;function D(){return!(t.unstable_now()-q<L)}function R(){if(_!==null){var S=t.unstable_now();q=S;var z=!0;try{z=_(!0,S)}finally{z?B():(I=!1,_=null)}}else I=!1}var B;if(typeof h=="function")B=function(){h(R)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,U=Y.port2;Y.port1.onmessage=R,B=function(){U.postMessage(null)}}else B=function(){w(R,0)};function P(S){_=S,I||(I=!0,B())}function C(S,z){T=w(function(){S(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_continueExecution=function(){y||j||(y=!0,P(E))},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(S){switch(x){case 1:case 2:case 3:var z=3;break;default:z=x}var O=x;x=z;try{return S()}finally{x=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(S,z){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var O=x;x=S;try{return z()}finally{x=O}},t.unstable_scheduleCallback=function(S,z,O){var N=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?N+O:N):O=N,S){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=O+A,S={id:m++,callback:z,priorityLevel:S,startTime:O,expirationTime:A,sortIndex:-1},O>N?(S.sortIndex=O,s(d,S),r(c)===null&&S===r(d)&&(b?(g(T),T=-1):b=!0,C(k,O-N))):(S.sortIndex=A,s(c,S),y||j||(y=!0,P(E))),S},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(S){var z=x;return function(){var O=x;x=z;try{return S.apply(this,arguments)}finally{x=O}}}})(_x);Nx.exports=_x;var by=Nx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy=u,Pt=by;function J(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kx=new Set,Ga={};function un(t,s){Zn(t,s),Zn(t+"Capture",s)}function Zn(t,s){for(Ga[t]=s,t=0;t<s.length;t++)kx.add(s[t])}var Ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kc=Object.prototype.hasOwnProperty,jy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ah={},Rh={};function wy(t){return kc.call(Rh,t)?!0:kc.call(Ah,t)?!1:jy.test(t)?Rh[t]=!0:(Ah[t]=!0,!1)}function Ny(t,s,r,n){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _y(t,s,r,n){if(s===null||typeof s>"u"||Ny(t,s,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function ht(t,s,r,n,a,i,l){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=s,this.sanitizeURL=i,this.removeEmptyString=l}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ye[t]=new ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];Ye[s]=new ht(s,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ye[t]=new ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ye[t]=new ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ye[t]=new ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ye[t]=new ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ye[t]=new ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ye[t]=new ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ye[t]=new ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var hu=/[\-:]([a-z])/g;function mu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(hu,mu);Ye[s]=new ht(s,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(hu,mu);Ye[s]=new ht(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(hu,mu);Ye[s]=new ht(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ye[t]=new ht(t,1,!1,t.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ye[t]=new ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function xu(t,s,r,n){var a=Ye.hasOwnProperty(s)?Ye[s]:null;(a!==null?a.type!==0:n||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(_y(s,r,a,n)&&(r=null),n||a===null?wy(s)&&(r===null?t.removeAttribute(s):t.setAttribute(s,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(s=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(s):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,s,r):t.setAttribute(s,r))))}var $s=vy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$i=Symbol.for("react.element"),gn=Symbol.for("react.portal"),yn=Symbol.for("react.fragment"),pu=Symbol.for("react.strict_mode"),Sc=Symbol.for("react.profiler"),Sx=Symbol.for("react.provider"),Cx=Symbol.for("react.context"),fu=Symbol.for("react.forward_ref"),Cc=Symbol.for("react.suspense"),Ec=Symbol.for("react.suspense_list"),gu=Symbol.for("react.memo"),Ds=Symbol.for("react.lazy"),Ex=Symbol.for("react.offscreen"),Mh=Symbol.iterator;function va(t){return t===null||typeof t!="object"?null:(t=Mh&&t[Mh]||t["@@iterator"],typeof t=="function"?t:null)}var Te=Object.assign,Do;function Ra(t){if(Do===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);Do=s&&s[1]||""}return`
`+Do+t}var Uo=!1;function Vo(t,s){if(!t||Uo)return"";Uo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(d){var n=d}Reflect.construct(t,[],s)}else{try{s.call()}catch(d){n=d}t.call(s.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=o);break}}}finally{Uo=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ra(t):""}function ky(t){switch(t.tag){case 5:return Ra(t.type);case 16:return Ra("Lazy");case 13:return Ra("Suspense");case 19:return Ra("SuspenseList");case 0:case 2:case 15:return t=Vo(t.type,!1),t;case 11:return t=Vo(t.type.render,!1),t;case 1:return t=Vo(t.type,!0),t;default:return""}}function Pc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yn:return"Fragment";case gn:return"Portal";case Sc:return"Profiler";case pu:return"StrictMode";case Cc:return"Suspense";case Ec:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Cx:return(t.displayName||"Context")+".Consumer";case Sx:return(t._context.displayName||"Context")+".Provider";case fu:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gu:return s=t.displayName||null,s!==null?s:Pc(t.type)||"Memo";case Ds:s=t._payload,t=t._init;try{return Pc(t(s))}catch{}}return null}function Sy(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pc(s);case 8:return s===pu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Nr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Px(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Cy(t){var s=Px(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),n=""+t[s];if(!t.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(t,s,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Bi(t){t._valueTracker||(t._valueTracker=Cy(t))}function Ax(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),n="";return t&&(n=Px(t)?t.checked?"true":"false":t.value),t=n,t!==r?(s.setValue(t),!0):!1}function Sl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ac(t,s){var r=s.checked;return Te({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Lh(t,s){var r=s.defaultValue==null?"":s.defaultValue,n=s.checked!=null?s.checked:s.defaultChecked;r=Nr(s.value!=null?s.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Rx(t,s){s=s.checked,s!=null&&xu(t,"checked",s,!1)}function Rc(t,s){Rx(t,s);var r=Nr(s.value),n=s.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?Mc(t,s.type,r):s.hasOwnProperty("defaultValue")&&Mc(t,s.type,Nr(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function Th(t,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var n=s.type;if(!(n!=="submit"&&n!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,r||s===t.value||(t.value=s),t.defaultValue=s}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Mc(t,s,r){(s!=="number"||Sl(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ma=Array.isArray;function Pn(t,s,r,n){if(t=t.options,s){s={};for(var a=0;a<r.length;a++)s["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=s.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Nr(r),s=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}s!==null||t[a].disabled||(s=t[a])}s!==null&&(s.selected=!0)}}function Lc(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(J(91));return Te({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fh(t,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(J(92));if(Ma(r)){if(1<r.length)throw Error(J(93));r=r[0]}s=r}s==null&&(s=""),r=s}t._wrapperState={initialValue:Nr(r)}}function Mx(t,s){var r=Nr(s.value),n=Nr(s.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),s.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Oh(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function Lx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tc(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?Lx(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ii,Tx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(s,r,n,a)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(Ii=Ii||document.createElement("div"),Ii.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ii.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function Ya(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var Ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ey=["Webkit","ms","Moz","O"];Object.keys(Ba).forEach(function(t){Ey.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Ba[s]=Ba[t]})});function Fx(t,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||Ba.hasOwnProperty(t)&&Ba[t]?(""+s).trim():s+"px"}function Ox(t,s){t=t.style;for(var r in s)if(s.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Fx(r,s[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var Py=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fc(t,s){if(s){if(Py[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(J(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(J(61))}if(s.style!=null&&typeof s.style!="object")throw Error(J(62))}}function Oc(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $c=null;function yu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bc=null,An=null,Rn=null;function $h(t){if(t=Ei(t)){if(typeof Bc!="function")throw Error(J(280));var s=t.stateNode;s&&(s=yo(s),Bc(t.stateNode,t.type,s))}}function $x(t){An?Rn?Rn.push(t):Rn=[t]:An=t}function Bx(){if(An){var t=An,s=Rn;if(Rn=An=null,$h(t),s)for(t=0;t<s.length;t++)$h(s[t])}}function Ix(t,s){return t(s)}function qx(){}var Ho=!1;function zx(t,s,r){if(Ho)return t(s,r);Ho=!0;try{return Ix(t,s,r)}finally{Ho=!1,(An!==null||Rn!==null)&&(qx(),Bx())}}function Ja(t,s){var r=t.stateNode;if(r===null)return null;var n=yo(r);if(n===null)return null;r=n[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(J(231,s,typeof r));return r}var Ic=!1;if(Ls)try{var ja={};Object.defineProperty(ja,"passive",{get:function(){Ic=!0}}),window.addEventListener("test",ja,ja),window.removeEventListener("test",ja,ja)}catch{Ic=!1}function Ay(t,s,r,n,a,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{s.apply(r,d)}catch(m){this.onError(m)}}var Ia=!1,Cl=null,El=!1,qc=null,Ry={onError:function(t){Ia=!0,Cl=t}};function My(t,s,r,n,a,i,l,o,c){Ia=!1,Cl=null,Ay.apply(Ry,arguments)}function Ly(t,s,r,n,a,i,l,o,c){if(My.apply(this,arguments),Ia){if(Ia){var d=Cl;Ia=!1,Cl=null}else throw Error(J(198));El||(El=!0,qc=d)}}function hn(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function Dx(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Bh(t){if(hn(t)!==t)throw Error(J(188))}function Ty(t){var s=t.alternate;if(!s){if(s=hn(t),s===null)throw Error(J(188));return s!==t?null:t}for(var r=t,n=s;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Bh(a),t;if(i===n)return Bh(a),s;i=i.sibling}throw Error(J(188))}if(r.return!==n.return)r=a,n=i;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,n=i;break}if(o===n){l=!0,n=a,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=a;break}if(o===n){l=!0,n=i,r=a;break}o=o.sibling}if(!l)throw Error(J(189))}}if(r.alternate!==n)throw Error(J(190))}if(r.tag!==3)throw Error(J(188));return r.stateNode.current===r?t:s}function Ux(t){return t=Ty(t),t!==null?Vx(t):null}function Vx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=Vx(t);if(s!==null)return s;t=t.sibling}return null}var Hx=Pt.unstable_scheduleCallback,Ih=Pt.unstable_cancelCallback,Fy=Pt.unstable_shouldYield,Oy=Pt.unstable_requestPaint,$e=Pt.unstable_now,$y=Pt.unstable_getCurrentPriorityLevel,bu=Pt.unstable_ImmediatePriority,Wx=Pt.unstable_UserBlockingPriority,Pl=Pt.unstable_NormalPriority,By=Pt.unstable_LowPriority,Qx=Pt.unstable_IdlePriority,xo=null,hs=null;function Iy(t){if(hs&&typeof hs.onCommitFiberRoot=="function")try{hs.onCommitFiberRoot(xo,t,void 0,(t.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:Dy,qy=Math.log,zy=Math.LN2;function Dy(t){return t>>>=0,t===0?32:31-(qy(t)/zy|0)|0}var qi=64,zi=4194304;function La(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Al(t,s){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,l=r&268435455;if(l!==0){var o=l&~a;o!==0?n=La(o):(i&=l,i!==0&&(n=La(i)))}else l=r&~a,l!==0?n=La(l):i!==0&&(n=La(i));if(n===0)return 0;if(s!==0&&s!==n&&!(s&a)&&(a=n&-n,i=s&-s,a>=i||a===16&&(i&4194240)!==0))return s;if(n&4&&(n|=r&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=n;0<s;)r=31-Jt(s),a=1<<r,n|=t[r],s&=~a;return n}function Uy(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vy(t,s){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-Jt(i),o=1<<l,c=a[l];c===-1?(!(o&r)||o&n)&&(a[l]=Uy(o,s)):c<=s&&(t.expiredLanes|=o),i&=~o}}function zc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Zx(){var t=qi;return qi<<=1,!(qi&4194240)&&(qi=64),t}function Wo(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function Si(t,s,r){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Jt(s),t[s]=r}function Hy(t,s){var r=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-Jt(r),i=1<<a;s[a]=0,n[a]=-1,t[a]=-1,r&=~i}}function vu(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var n=31-Jt(r),a=1<<n;a&s|t[n]&s&&(t[n]|=s),r&=~a}}var Se=0;function Kx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Gx,ju,Yx,Jx,Xx,Dc=!1,Di=[],cr=null,dr=null,ur=null,Xa=new Map,ei=new Map,Ws=[],Wy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qh(t,s){switch(t){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":Xa.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ei.delete(s.pointerId)}}function wa(t,s,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:s,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},s!==null&&(s=Ei(s),s!==null&&ju(s)),t):(t.eventSystemFlags|=n,s=t.targetContainers,a!==null&&s.indexOf(a)===-1&&s.push(a),t)}function Qy(t,s,r,n,a){switch(s){case"focusin":return cr=wa(cr,t,s,r,n,a),!0;case"dragenter":return dr=wa(dr,t,s,r,n,a),!0;case"mouseover":return ur=wa(ur,t,s,r,n,a),!0;case"pointerover":var i=a.pointerId;return Xa.set(i,wa(Xa.get(i)||null,t,s,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,ei.set(i,wa(ei.get(i)||null,t,s,r,n,a)),!0}return!1}function ep(t){var s=Fr(t.target);if(s!==null){var r=hn(s);if(r!==null){if(s=r.tag,s===13){if(s=Dx(r),s!==null){t.blockedOn=s,Xx(t.priority,function(){Yx(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function il(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=Uc(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);$c=n,r.target.dispatchEvent(n),$c=null}else return s=Ei(r),s!==null&&ju(s),t.blockedOn=r,!1;s.shift()}return!0}function zh(t,s,r){il(t)&&r.delete(s)}function Zy(){Dc=!1,cr!==null&&il(cr)&&(cr=null),dr!==null&&il(dr)&&(dr=null),ur!==null&&il(ur)&&(ur=null),Xa.forEach(zh),ei.forEach(zh)}function Na(t,s){t.blockedOn===s&&(t.blockedOn=null,Dc||(Dc=!0,Pt.unstable_scheduleCallback(Pt.unstable_NormalPriority,Zy)))}function ti(t){function s(a){return Na(a,t)}if(0<Di.length){Na(Di[0],t);for(var r=1;r<Di.length;r++){var n=Di[r];n.blockedOn===t&&(n.blockedOn=null)}}for(cr!==null&&Na(cr,t),dr!==null&&Na(dr,t),ur!==null&&Na(ur,t),Xa.forEach(s),ei.forEach(s),r=0;r<Ws.length;r++)n=Ws[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ws.length&&(r=Ws[0],r.blockedOn===null);)ep(r),r.blockedOn===null&&Ws.shift()}var Mn=$s.ReactCurrentBatchConfig,Rl=!0;function Ky(t,s,r,n){var a=Se,i=Mn.transition;Mn.transition=null;try{Se=1,wu(t,s,r,n)}finally{Se=a,Mn.transition=i}}function Gy(t,s,r,n){var a=Se,i=Mn.transition;Mn.transition=null;try{Se=4,wu(t,s,r,n)}finally{Se=a,Mn.transition=i}}function wu(t,s,r,n){if(Rl){var a=Uc(t,s,r,n);if(a===null)sc(t,s,n,Ml,r),qh(t,n);else if(Qy(a,t,s,r,n))n.stopPropagation();else if(qh(t,n),s&4&&-1<Wy.indexOf(t)){for(;a!==null;){var i=Ei(a);if(i!==null&&Gx(i),i=Uc(t,s,r,n),i===null&&sc(t,s,n,Ml,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else sc(t,s,n,null,r)}}var Ml=null;function Uc(t,s,r,n){if(Ml=null,t=yu(n),t=Fr(t),t!==null)if(s=hn(t),s===null)t=null;else if(r=s.tag,r===13){if(t=Dx(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return Ml=t,null}function tp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($y()){case bu:return 1;case Wx:return 4;case Pl:case By:return 16;case Qx:return 536870912;default:return 16}default:return 16}}var nr=null,Nu=null,ll=null;function sp(){if(ll)return ll;var t,s=Nu,r=s.length,n,a="value"in nr?nr.value:nr.textContent,i=a.length;for(t=0;t<r&&s[t]===a[t];t++);var l=r-t;for(n=1;n<=l&&s[r-n]===a[i-n];n++);return ll=a.slice(t,1<n?1-n:void 0)}function ol(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Ui(){return!0}function Dh(){return!1}function Mt(t){function s(r,n,a,i,l){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ui:Dh,this.isPropagationStopped=Dh,this}return Te(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),s}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_u=Mt(ha),Ci=Te({},ha,{view:0,detail:0}),Yy=Mt(Ci),Qo,Zo,_a,po=Te({},Ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ku,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_a&&(_a&&t.type==="mousemove"?(Qo=t.screenX-_a.screenX,Zo=t.screenY-_a.screenY):Zo=Qo=0,_a=t),Qo)},movementY:function(t){return"movementY"in t?t.movementY:Zo}}),Uh=Mt(po),Jy=Te({},po,{dataTransfer:0}),Xy=Mt(Jy),eb=Te({},Ci,{relatedTarget:0}),Ko=Mt(eb),tb=Te({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),sb=Mt(tb),rb=Te({},ha,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nb=Mt(rb),ab=Te({},ha,{data:0}),Vh=Mt(ab),ib={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ob={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cb(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=ob[t])?!!s[t]:!1}function ku(){return cb}var db=Te({},Ci,{key:function(t){if(t.key){var s=ib[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=ol(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ku,charCode:function(t){return t.type==="keypress"?ol(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ol(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ub=Mt(db),hb=Te({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hh=Mt(hb),mb=Te({},Ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ku}),xb=Mt(mb),pb=Te({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),fb=Mt(pb),gb=Te({},po,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yb=Mt(gb),bb=[9,13,27,32],Su=Ls&&"CompositionEvent"in window,qa=null;Ls&&"documentMode"in document&&(qa=document.documentMode);var vb=Ls&&"TextEvent"in window&&!qa,rp=Ls&&(!Su||qa&&8<qa&&11>=qa),Wh=" ",Qh=!1;function np(t,s){switch(t){case"keyup":return bb.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ap(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bn=!1;function jb(t,s){switch(t){case"compositionend":return ap(s);case"keypress":return s.which!==32?null:(Qh=!0,Wh);case"textInput":return t=s.data,t===Wh&&Qh?null:t;default:return null}}function wb(t,s){if(bn)return t==="compositionend"||!Su&&np(t,s)?(t=sp(),ll=Nu=nr=null,bn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return rp&&s.locale!=="ko"?null:s.data;default:return null}}var Nb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Nb[t.type]:s==="textarea"}function ip(t,s,r,n){$x(n),s=Ll(s,"onChange"),0<s.length&&(r=new _u("onChange","change",null,r,n),t.push({event:r,listeners:s}))}var za=null,si=null;function _b(t){gp(t,0)}function fo(t){var s=wn(t);if(Ax(s))return t}function kb(t,s){if(t==="change")return s}var lp=!1;if(Ls){var Go;if(Ls){var Yo="oninput"in document;if(!Yo){var Kh=document.createElement("div");Kh.setAttribute("oninput","return;"),Yo=typeof Kh.oninput=="function"}Go=Yo}else Go=!1;lp=Go&&(!document.documentMode||9<document.documentMode)}function Gh(){za&&(za.detachEvent("onpropertychange",op),si=za=null)}function op(t){if(t.propertyName==="value"&&fo(si)){var s=[];ip(s,si,t,yu(t)),zx(_b,s)}}function Sb(t,s,r){t==="focusin"?(Gh(),za=s,si=r,za.attachEvent("onpropertychange",op)):t==="focusout"&&Gh()}function Cb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fo(si)}function Eb(t,s){if(t==="click")return fo(s)}function Pb(t,s){if(t==="input"||t==="change")return fo(s)}function Ab(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var ts=typeof Object.is=="function"?Object.is:Ab;function ri(t,s){if(ts(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),n=Object.keys(s);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!kc.call(s,a)||!ts(t[a],s[a]))return!1}return!0}function Yh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jh(t,s){var r=Yh(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=s&&n>=s)return{node:r,offset:s-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yh(r)}}function cp(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?cp(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function dp(){for(var t=window,s=Sl();s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=Sl(t.document)}return s}function Cu(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function Rb(t){var s=dp(),r=t.focusedElem,n=t.selectionRange;if(s!==r&&r&&r.ownerDocument&&cp(r.ownerDocument.documentElement,r)){if(n!==null&&Cu(r)){if(s=n.start,t=n.end,t===void 0&&(t=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(t,r.value.length);else if(t=(s=r.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=Jh(r,i);var l=Jh(r,n);a&&l&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(s=s.createRange(),s.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(s),t.extend(l.node,l.offset)):(s.setEnd(l.node,l.offset),t.addRange(s)))}}for(s=[],t=r;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)t=s[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Mb=Ls&&"documentMode"in document&&11>=document.documentMode,vn=null,Vc=null,Da=null,Hc=!1;function Xh(t,s,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hc||vn==null||vn!==Sl(n)||(n=vn,"selectionStart"in n&&Cu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Da&&ri(Da,n)||(Da=n,n=Ll(Vc,"onSelect"),0<n.length&&(s=new _u("onSelect","select",null,s,r),t.push({event:s,listeners:n}),s.target=vn)))}function Vi(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var jn={animationend:Vi("Animation","AnimationEnd"),animationiteration:Vi("Animation","AnimationIteration"),animationstart:Vi("Animation","AnimationStart"),transitionend:Vi("Transition","TransitionEnd")},Jo={},up={};Ls&&(up=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);function go(t){if(Jo[t])return Jo[t];if(!jn[t])return t;var s=jn[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in up)return Jo[t]=s[r];return t}var hp=go("animationend"),mp=go("animationiteration"),xp=go("animationstart"),pp=go("transitionend"),fp=new Map,em="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(t,s){fp.set(t,s),un(s,[t])}for(var Xo=0;Xo<em.length;Xo++){var ec=em[Xo],Lb=ec.toLowerCase(),Tb=ec[0].toUpperCase()+ec.slice(1);Cr(Lb,"on"+Tb)}Cr(hp,"onAnimationEnd");Cr(mp,"onAnimationIteration");Cr(xp,"onAnimationStart");Cr("dblclick","onDoubleClick");Cr("focusin","onFocus");Cr("focusout","onBlur");Cr(pp,"onTransitionEnd");Zn("onMouseEnter",["mouseout","mouseover"]);Zn("onMouseLeave",["mouseout","mouseover"]);Zn("onPointerEnter",["pointerout","pointerover"]);Zn("onPointerLeave",["pointerout","pointerover"]);un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));un("onBeforeInput",["compositionend","keypress","textInput","paste"]);un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ta));function tm(t,s,r){var n=t.type||"unknown-event";t.currentTarget=r,Ly(n,s,void 0,t),t.currentTarget=null}function gp(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(s)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;tm(a,o,d),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;tm(a,o,d),i=c}}}if(El)throw t=qc,El=!1,qc=null,t}function Ee(t,s){var r=s[Gc];r===void 0&&(r=s[Gc]=new Set);var n=t+"__bubble";r.has(n)||(yp(s,t,2,!1),r.add(n))}function tc(t,s,r){var n=0;s&&(n|=4),yp(r,t,n,s)}var Hi="_reactListening"+Math.random().toString(36).slice(2);function ni(t){if(!t[Hi]){t[Hi]=!0,kx.forEach(function(r){r!=="selectionchange"&&(Fb.has(r)||tc(r,!1,t),tc(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Hi]||(s[Hi]=!0,tc("selectionchange",!1,s))}}function yp(t,s,r,n){switch(tp(s)){case 1:var a=Ky;break;case 4:a=Gy;break;default:a=wu}r=a.bind(null,s,r,t),a=void 0,!Ic||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(s,r,{capture:!0,passive:a}):t.addEventListener(s,r,!0):a!==void 0?t.addEventListener(s,r,{passive:a}):t.addEventListener(s,r,!1)}function sc(t,s,r,n,a){var i=n;if(!(s&1)&&!(s&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=Fr(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}zx(function(){var d=i,m=yu(r),f=[];e:{var x=fp.get(t);if(x!==void 0){var j=_u,y=t;switch(t){case"keypress":if(ol(r)===0)break e;case"keydown":case"keyup":j=ub;break;case"focusin":y="focus",j=Ko;break;case"focusout":y="blur",j=Ko;break;case"beforeblur":case"afterblur":j=Ko;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Uh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Xy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=xb;break;case hp:case mp:case xp:j=sb;break;case pp:j=fb;break;case"scroll":j=Yy;break;case"wheel":j=yb;break;case"copy":case"cut":case"paste":j=nb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Hh}var b=(s&4)!==0,w=!b&&t==="scroll",g=b?x!==null?x+"Capture":null:x;b=[];for(var h=d,p;h!==null;){p=h;var k=p.stateNode;if(p.tag===5&&k!==null&&(p=k,g!==null&&(k=Ja(h,g),k!=null&&b.push(ai(h,k,p)))),w)break;h=h.return}0<b.length&&(x=new j(x,y,null,r,m),f.push({event:x,listeners:b}))}}if(!(s&7)){e:{if(x=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",x&&r!==$c&&(y=r.relatedTarget||r.fromElement)&&(Fr(y)||y[Ts]))break e;if((j||x)&&(x=m.window===m?m:(x=m.ownerDocument)?x.defaultView||x.parentWindow:window,j?(y=r.relatedTarget||r.toElement,j=d,y=y?Fr(y):null,y!==null&&(w=hn(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(j=null,y=d),j!==y)){if(b=Uh,k="onMouseLeave",g="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(b=Hh,k="onPointerLeave",g="onPointerEnter",h="pointer"),w=j==null?x:wn(j),p=y==null?x:wn(y),x=new b(k,h+"leave",j,r,m),x.target=w,x.relatedTarget=p,k=null,Fr(m)===d&&(b=new b(g,h+"enter",y,r,m),b.target=p,b.relatedTarget=w,k=b),w=k,j&&y)t:{for(b=j,g=y,h=0,p=b;p;p=mn(p))h++;for(p=0,k=g;k;k=mn(k))p++;for(;0<h-p;)b=mn(b),h--;for(;0<p-h;)g=mn(g),p--;for(;h--;){if(b===g||g!==null&&b===g.alternate)break t;b=mn(b),g=mn(g)}b=null}else b=null;j!==null&&sm(f,x,j,b,!1),y!==null&&w!==null&&sm(f,w,y,b,!0)}}e:{if(x=d?wn(d):window,j=x.nodeName&&x.nodeName.toLowerCase(),j==="select"||j==="input"&&x.type==="file")var E=kb;else if(Zh(x))if(lp)E=Pb;else{E=Cb;var I=Sb}else(j=x.nodeName)&&j.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(E=Eb);if(E&&(E=E(t,d))){ip(f,E,r,m);break e}I&&I(t,x,d),t==="focusout"&&(I=x._wrapperState)&&I.controlled&&x.type==="number"&&Mc(x,"number",x.value)}switch(I=d?wn(d):window,t){case"focusin":(Zh(I)||I.contentEditable==="true")&&(vn=I,Vc=d,Da=null);break;case"focusout":Da=Vc=vn=null;break;case"mousedown":Hc=!0;break;case"contextmenu":case"mouseup":case"dragend":Hc=!1,Xh(f,r,m);break;case"selectionchange":if(Mb)break;case"keydown":case"keyup":Xh(f,r,m)}var _;if(Su)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else bn?np(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(rp&&r.locale!=="ko"&&(bn||T!=="onCompositionStart"?T==="onCompositionEnd"&&bn&&(_=sp()):(nr=m,Nu="value"in nr?nr.value:nr.textContent,bn=!0)),I=Ll(d,T),0<I.length&&(T=new Vh(T,t,null,r,m),f.push({event:T,listeners:I}),_?T.data=_:(_=ap(r),_!==null&&(T.data=_)))),(_=vb?jb(t,r):wb(t,r))&&(d=Ll(d,"onBeforeInput"),0<d.length&&(m=new Vh("onBeforeInput","beforeinput",null,r,m),f.push({event:m,listeners:d}),m.data=_))}gp(f,s)})}function ai(t,s,r){return{instance:t,listener:s,currentTarget:r}}function Ll(t,s){for(var r=s+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Ja(t,r),i!=null&&n.unshift(ai(t,i,a)),i=Ja(t,s),i!=null&&n.push(ai(t,i,a))),t=t.return}return n}function mn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sm(t,s,r,n,a){for(var i=s._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,a?(c=Ja(r,i),c!=null&&l.unshift(ai(r,c,o))):a||(c=Ja(r,i),c!=null&&l.push(ai(r,c,o)))),r=r.return}l.length!==0&&t.push({event:s,listeners:l})}var Ob=/\r\n?/g,$b=/\u0000|\uFFFD/g;function rm(t){return(typeof t=="string"?t:""+t).replace(Ob,`
`).replace($b,"")}function Wi(t,s,r){if(s=rm(s),rm(t)!==s&&r)throw Error(J(425))}function Tl(){}var Wc=null,Qc=null;function Zc(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Kc=typeof setTimeout=="function"?setTimeout:void 0,Bb=typeof clearTimeout=="function"?clearTimeout:void 0,nm=typeof Promise=="function"?Promise:void 0,Ib=typeof queueMicrotask=="function"?queueMicrotask:typeof nm<"u"?function(t){return nm.resolve(null).then(t).catch(qb)}:Kc;function qb(t){setTimeout(function(){throw t})}function rc(t,s){var r=s,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),ti(s);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);ti(s)}function hr(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function am(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return t;s--}else r==="/$"&&s++}t=t.previousSibling}return null}var ma=Math.random().toString(36).slice(2),us="__reactFiber$"+ma,ii="__reactProps$"+ma,Ts="__reactContainer$"+ma,Gc="__reactEvents$"+ma,zb="__reactListeners$"+ma,Db="__reactHandles$"+ma;function Fr(t){var s=t[us];if(s)return s;for(var r=t.parentNode;r;){if(s=r[Ts]||r[us]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=am(t);t!==null;){if(r=t[us])return r;t=am(t)}return s}t=r,r=t.parentNode}return null}function Ei(t){return t=t[us]||t[Ts],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function yo(t){return t[ii]||null}var Yc=[],Nn=-1;function Er(t){return{current:t}}function Pe(t){0>Nn||(t.current=Yc[Nn],Yc[Nn]=null,Nn--)}function Ce(t,s){Nn++,Yc[Nn]=t.current,t.current=s}var _r={},rt=Er(_r),yt=Er(!1),Xr=_r;function Kn(t,s){var r=t.type.contextTypes;if(!r)return _r;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===s)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=s[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),a}function bt(t){return t=t.childContextTypes,t!=null}function Fl(){Pe(yt),Pe(rt)}function im(t,s,r){if(rt.current!==_r)throw Error(J(168));Ce(rt,s),Ce(yt,r)}function bp(t,s,r){var n=t.stateNode;if(s=s.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in s))throw Error(J(108,Sy(t)||"Unknown",a));return Te({},r,n)}function Ol(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_r,Xr=rt.current,Ce(rt,t),Ce(yt,yt.current),!0}function lm(t,s,r){var n=t.stateNode;if(!n)throw Error(J(169));r?(t=bp(t,s,Xr),n.__reactInternalMemoizedMergedChildContext=t,Pe(yt),Pe(rt),Ce(rt,t)):Pe(yt),Ce(yt,r)}var ws=null,bo=!1,nc=!1;function vp(t){ws===null?ws=[t]:ws.push(t)}function Ub(t){bo=!0,vp(t)}function Pr(){if(!nc&&ws!==null){nc=!0;var t=0,s=Se;try{var r=ws;for(Se=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ws=null,bo=!1}catch(a){throw ws!==null&&(ws=ws.slice(t+1)),Hx(bu,Pr),a}finally{Se=s,nc=!1}}return null}var _n=[],kn=0,$l=null,Bl=0,Ft=[],Ot=0,en=null,Ps=1,As="";function Mr(t,s){_n[kn++]=Bl,_n[kn++]=$l,$l=t,Bl=s}function jp(t,s,r){Ft[Ot++]=Ps,Ft[Ot++]=As,Ft[Ot++]=en,en=t;var n=Ps;t=As;var a=32-Jt(n)-1;n&=~(1<<a),r+=1;var i=32-Jt(s)+a;if(30<i){var l=a-a%5;i=(n&(1<<l)-1).toString(32),n>>=l,a-=l,Ps=1<<32-Jt(s)+a|r<<a|n,As=i+t}else Ps=1<<i|r<<a|n,As=t}function Eu(t){t.return!==null&&(Mr(t,1),jp(t,1,0))}function Pu(t){for(;t===$l;)$l=_n[--kn],_n[kn]=null,Bl=_n[--kn],_n[kn]=null;for(;t===en;)en=Ft[--Ot],Ft[Ot]=null,As=Ft[--Ot],Ft[Ot]=null,Ps=Ft[--Ot],Ft[Ot]=null}var Ct=null,St=null,Re=!1,Yt=null;function wp(t,s){var r=It(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=t,s=t.deletions,s===null?(t.deletions=[r],t.flags|=16):s.push(r)}function om(t,s){switch(t.tag){case 5:var r=t.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,Ct=t,St=hr(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,Ct=t,St=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=en!==null?{id:Ps,overflow:As}:null,t.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=It(18,null,null,0),r.stateNode=s,r.return=t,t.child=r,Ct=t,St=null,!0):!1;default:return!1}}function Jc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xc(t){if(Re){var s=St;if(s){var r=s;if(!om(t,s)){if(Jc(t))throw Error(J(418));s=hr(r.nextSibling);var n=Ct;s&&om(t,s)?wp(n,r):(t.flags=t.flags&-4097|2,Re=!1,Ct=t)}}else{if(Jc(t))throw Error(J(418));t.flags=t.flags&-4097|2,Re=!1,Ct=t}}}function cm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ct=t}function Qi(t){if(t!==Ct)return!1;if(!Re)return cm(t),Re=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!Zc(t.type,t.memoizedProps)),s&&(s=St)){if(Jc(t))throw Np(),Error(J(418));for(;s;)wp(t,s),s=hr(s.nextSibling)}if(cm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(s===0){St=hr(t.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}t=t.nextSibling}St=null}}else St=Ct?hr(t.stateNode.nextSibling):null;return!0}function Np(){for(var t=St;t;)t=hr(t.nextSibling)}function Gn(){St=Ct=null,Re=!1}function Au(t){Yt===null?Yt=[t]:Yt.push(t)}var Vb=$s.ReactCurrentBatchConfig;function ka(t,s,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(J(309));var n=r.stateNode}if(!n)throw Error(J(147,t));var a=n,i=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===i?s.ref:(s=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},s._stringRef=i,s)}if(typeof t!="string")throw Error(J(284));if(!r._owner)throw Error(J(290,t))}return t}function Zi(t,s){throw t=Object.prototype.toString.call(s),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function dm(t){var s=t._init;return s(t._payload)}function _p(t){function s(g,h){if(t){var p=g.deletions;p===null?(g.deletions=[h],g.flags|=16):p.push(h)}}function r(g,h){if(!t)return null;for(;h!==null;)s(g,h),h=h.sibling;return null}function n(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function a(g,h){return g=fr(g,h),g.index=0,g.sibling=null,g}function i(g,h,p){return g.index=p,t?(p=g.alternate,p!==null?(p=p.index,p<h?(g.flags|=2,h):p):(g.flags|=2,h)):(g.flags|=1048576,h)}function l(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,h,p,k){return h===null||h.tag!==6?(h=uc(p,g.mode,k),h.return=g,h):(h=a(h,p),h.return=g,h)}function c(g,h,p,k){var E=p.type;return E===yn?m(g,h,p.props.children,k,p.key):h!==null&&(h.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ds&&dm(E)===h.type)?(k=a(h,p.props),k.ref=ka(g,h,p),k.return=g,k):(k=pl(p.type,p.key,p.props,null,g.mode,k),k.ref=ka(g,h,p),k.return=g,k)}function d(g,h,p,k){return h===null||h.tag!==4||h.stateNode.containerInfo!==p.containerInfo||h.stateNode.implementation!==p.implementation?(h=hc(p,g.mode,k),h.return=g,h):(h=a(h,p.children||[]),h.return=g,h)}function m(g,h,p,k,E){return h===null||h.tag!==7?(h=Gr(p,g.mode,k,E),h.return=g,h):(h=a(h,p),h.return=g,h)}function f(g,h,p){if(typeof h=="string"&&h!==""||typeof h=="number")return h=uc(""+h,g.mode,p),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case $i:return p=pl(h.type,h.key,h.props,null,g.mode,p),p.ref=ka(g,null,h),p.return=g,p;case gn:return h=hc(h,g.mode,p),h.return=g,h;case Ds:var k=h._init;return f(g,k(h._payload),p)}if(Ma(h)||va(h))return h=Gr(h,g.mode,p,null),h.return=g,h;Zi(g,h)}return null}function x(g,h,p,k){var E=h!==null?h.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return E!==null?null:o(g,h,""+p,k);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case $i:return p.key===E?c(g,h,p,k):null;case gn:return p.key===E?d(g,h,p,k):null;case Ds:return E=p._init,x(g,h,E(p._payload),k)}if(Ma(p)||va(p))return E!==null?null:m(g,h,p,k,null);Zi(g,p)}return null}function j(g,h,p,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(p)||null,o(h,g,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case $i:return g=g.get(k.key===null?p:k.key)||null,c(h,g,k,E);case gn:return g=g.get(k.key===null?p:k.key)||null,d(h,g,k,E);case Ds:var I=k._init;return j(g,h,p,I(k._payload),E)}if(Ma(k)||va(k))return g=g.get(p)||null,m(h,g,k,E,null);Zi(h,k)}return null}function y(g,h,p,k){for(var E=null,I=null,_=h,T=h=0,L=null;_!==null&&T<p.length;T++){_.index>T?(L=_,_=null):L=_.sibling;var q=x(g,_,p[T],k);if(q===null){_===null&&(_=L);break}t&&_&&q.alternate===null&&s(g,_),h=i(q,h,T),I===null?E=q:I.sibling=q,I=q,_=L}if(T===p.length)return r(g,_),Re&&Mr(g,T),E;if(_===null){for(;T<p.length;T++)_=f(g,p[T],k),_!==null&&(h=i(_,h,T),I===null?E=_:I.sibling=_,I=_);return Re&&Mr(g,T),E}for(_=n(g,_);T<p.length;T++)L=j(_,g,T,p[T],k),L!==null&&(t&&L.alternate!==null&&_.delete(L.key===null?T:L.key),h=i(L,h,T),I===null?E=L:I.sibling=L,I=L);return t&&_.forEach(function(D){return s(g,D)}),Re&&Mr(g,T),E}function b(g,h,p,k){var E=va(p);if(typeof E!="function")throw Error(J(150));if(p=E.call(p),p==null)throw Error(J(151));for(var I=E=null,_=h,T=h=0,L=null,q=p.next();_!==null&&!q.done;T++,q=p.next()){_.index>T?(L=_,_=null):L=_.sibling;var D=x(g,_,q.value,k);if(D===null){_===null&&(_=L);break}t&&_&&D.alternate===null&&s(g,_),h=i(D,h,T),I===null?E=D:I.sibling=D,I=D,_=L}if(q.done)return r(g,_),Re&&Mr(g,T),E;if(_===null){for(;!q.done;T++,q=p.next())q=f(g,q.value,k),q!==null&&(h=i(q,h,T),I===null?E=q:I.sibling=q,I=q);return Re&&Mr(g,T),E}for(_=n(g,_);!q.done;T++,q=p.next())q=j(_,g,T,q.value,k),q!==null&&(t&&q.alternate!==null&&_.delete(q.key===null?T:q.key),h=i(q,h,T),I===null?E=q:I.sibling=q,I=q);return t&&_.forEach(function(R){return s(g,R)}),Re&&Mr(g,T),E}function w(g,h,p,k){if(typeof p=="object"&&p!==null&&p.type===yn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case $i:e:{for(var E=p.key,I=h;I!==null;){if(I.key===E){if(E=p.type,E===yn){if(I.tag===7){r(g,I.sibling),h=a(I,p.props.children),h.return=g,g=h;break e}}else if(I.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ds&&dm(E)===I.type){r(g,I.sibling),h=a(I,p.props),h.ref=ka(g,I,p),h.return=g,g=h;break e}r(g,I);break}else s(g,I);I=I.sibling}p.type===yn?(h=Gr(p.props.children,g.mode,k,p.key),h.return=g,g=h):(k=pl(p.type,p.key,p.props,null,g.mode,k),k.ref=ka(g,h,p),k.return=g,g=k)}return l(g);case gn:e:{for(I=p.key;h!==null;){if(h.key===I)if(h.tag===4&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){r(g,h.sibling),h=a(h,p.children||[]),h.return=g,g=h;break e}else{r(g,h);break}else s(g,h);h=h.sibling}h=hc(p,g.mode,k),h.return=g,g=h}return l(g);case Ds:return I=p._init,w(g,h,I(p._payload),k)}if(Ma(p))return y(g,h,p,k);if(va(p))return b(g,h,p,k);Zi(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,h!==null&&h.tag===6?(r(g,h.sibling),h=a(h,p),h.return=g,g=h):(r(g,h),h=uc(p,g.mode,k),h.return=g,g=h),l(g)):r(g,h)}return w}var Yn=_p(!0),kp=_p(!1),Il=Er(null),ql=null,Sn=null,Ru=null;function Mu(){Ru=Sn=ql=null}function Lu(t){var s=Il.current;Pe(Il),t._currentValue=s}function ed(t,s,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,n!==null&&(n.childLanes|=s)):n!==null&&(n.childLanes&s)!==s&&(n.childLanes|=s),t===r)break;t=t.return}}function Ln(t,s){ql=t,Ru=Sn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(gt=!0),t.firstContext=null)}function Dt(t){var s=t._currentValue;if(Ru!==t)if(t={context:t,memoizedValue:s,next:null},Sn===null){if(ql===null)throw Error(J(308));Sn=t,ql.dependencies={lanes:0,firstContext:t}}else Sn=Sn.next=t;return s}var Or=null;function Tu(t){Or===null?Or=[t]:Or.push(t)}function Sp(t,s,r,n){var a=s.interleaved;return a===null?(r.next=r,Tu(s)):(r.next=a.next,a.next=r),s.interleaved=r,Fs(t,n)}function Fs(t,s){t.lanes|=s;var r=t.alternate;for(r!==null&&(r.lanes|=s),r=t,t=t.return;t!==null;)t.childLanes|=s,r=t.alternate,r!==null&&(r.childLanes|=s),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Us=!1;function Fu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cp(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rs(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function mr(t,s,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,je&2){var a=n.pending;return a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s,Fs(t,r)}return a=n.interleaved,a===null?(s.next=s,Tu(n)):(s.next=a.next,a.next=s),n.interleaved=s,Fs(t,r)}function cl(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var n=s.lanes;n&=t.pendingLanes,r|=n,s.lanes=r,vu(t,r)}}function um(t,s){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?a=i=s:i=i.next=s}else a=i=s;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}function zl(t,s,r,n){var a=t.updateQueue;Us=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var m=t.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==l&&(o===null?m.firstBaseUpdate=d:o.next=d,m.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;l=0,m=d=c=null,o=i;do{var x=o.lane,j=o.eventTime;if((n&x)===x){m!==null&&(m=m.next={eventTime:j,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,b=o;switch(x=s,j=r,b.tag){case 1:if(y=b.payload,typeof y=="function"){f=y.call(j,f,x);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,x=typeof y=="function"?y.call(j,f,x):y,x==null)break e;f=Te({},f,x);break e;case 2:Us=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,x=a.effects,x===null?a.effects=[o]:x.push(o))}else j={eventTime:j,lane:x,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(d=m=j,c=f):m=m.next=j,l|=x;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;x=o,o=x.next,x.next=null,a.lastBaseUpdate=x,a.shared.pending=null}}while(!0);if(m===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=m,s=a.shared.interleaved,s!==null){a=s;do l|=a.lane,a=a.next;while(a!==s)}else i===null&&(a.shared.lanes=0);sn|=l,t.lanes=l,t.memoizedState=f}}function hm(t,s,r){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var n=t[s],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(J(191,a));a.call(n)}}}var Pi={},ms=Er(Pi),li=Er(Pi),oi=Er(Pi);function $r(t){if(t===Pi)throw Error(J(174));return t}function Ou(t,s){switch(Ce(oi,s),Ce(li,t),Ce(ms,Pi),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Tc(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=Tc(s,t)}Pe(ms),Ce(ms,s)}function Jn(){Pe(ms),Pe(li),Pe(oi)}function Ep(t){$r(oi.current);var s=$r(ms.current),r=Tc(s,t.type);s!==r&&(Ce(li,t),Ce(ms,r))}function $u(t){li.current===t&&(Pe(ms),Pe(li))}var Me=Er(0);function Dl(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ac=[];function Bu(){for(var t=0;t<ac.length;t++)ac[t]._workInProgressVersionPrimary=null;ac.length=0}var dl=$s.ReactCurrentDispatcher,ic=$s.ReactCurrentBatchConfig,tn=0,Le=null,Ue=null,Qe=null,Ul=!1,Ua=!1,ci=0,Hb=0;function Xe(){throw Error(J(321))}function Iu(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!ts(t[r],s[r]))return!1;return!0}function qu(t,s,r,n,a,i){if(tn=i,Le=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,dl.current=t===null||t.memoizedState===null?Kb:Gb,t=r(n,a),Ua){i=0;do{if(Ua=!1,ci=0,25<=i)throw Error(J(301));i+=1,Qe=Ue=null,s.updateQueue=null,dl.current=Yb,t=r(n,a)}while(Ua)}if(dl.current=Vl,s=Ue!==null&&Ue.next!==null,tn=0,Qe=Ue=Le=null,Ul=!1,s)throw Error(J(300));return t}function zu(){var t=ci!==0;return ci=0,t}function ls(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Le.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function Ut(){if(Ue===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var s=Qe===null?Le.memoizedState:Qe.next;if(s!==null)Qe=s,Ue=t;else{if(t===null)throw Error(J(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Qe===null?Le.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function di(t,s){return typeof s=="function"?s(t):s}function lc(t){var s=Ut(),r=s.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=t;var n=Ue,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=l=null,c=null,d=i;do{var m=d.lane;if((tn&m)===m)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var f={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=f,l=n):c=c.next=f,Le.lanes|=m,sn|=m}d=d.next}while(d!==null&&d!==i);c===null?l=n:c.next=o,ts(n,s.memoizedState)||(gt=!0),s.memoizedState=n,s.baseState=l,s.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do i=a.lane,Le.lanes|=i,sn|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function oc(t){var s=Ut(),r=s.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=s.memoizedState;if(a!==null){r.pending=null;var l=a=a.next;do i=t(i,l.action),l=l.next;while(l!==a);ts(i,s.memoizedState)||(gt=!0),s.memoizedState=i,s.baseQueue===null&&(s.baseState=i),r.lastRenderedState=i}return[i,n]}function Pp(){}function Ap(t,s){var r=Le,n=Ut(),a=s(),i=!ts(n.memoizedState,a);if(i&&(n.memoizedState=a,gt=!0),n=n.queue,Du(Lp.bind(null,r,n,t),[t]),n.getSnapshot!==s||i||Qe!==null&&Qe.memoizedState.tag&1){if(r.flags|=2048,ui(9,Mp.bind(null,r,n,a,s),void 0,null),Ze===null)throw Error(J(349));tn&30||Rp(r,s,a)}return a}function Rp(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=Le.updateQueue,s===null?(s={lastEffect:null,stores:null},Le.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function Mp(t,s,r,n){s.value=r,s.getSnapshot=n,Tp(s)&&Fp(t)}function Lp(t,s,r){return r(function(){Tp(s)&&Fp(t)})}function Tp(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!ts(t,r)}catch{return!0}}function Fp(t){var s=Fs(t,1);s!==null&&Xt(s,t,1,-1)}function mm(t){var s=ls();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:t},s.queue=t,t=t.dispatch=Zb.bind(null,Le,t),[s.memoizedState,t]}function ui(t,s,r,n){return t={tag:t,create:s,destroy:r,deps:n,next:null},s=Le.updateQueue,s===null?(s={lastEffect:null,stores:null},Le.updateQueue=s,s.lastEffect=t.next=t):(r=s.lastEffect,r===null?s.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,s.lastEffect=t)),t}function Op(){return Ut().memoizedState}function ul(t,s,r,n){var a=ls();Le.flags|=t,a.memoizedState=ui(1|s,r,void 0,n===void 0?null:n)}function vo(t,s,r,n){var a=Ut();n=n===void 0?null:n;var i=void 0;if(Ue!==null){var l=Ue.memoizedState;if(i=l.destroy,n!==null&&Iu(n,l.deps)){a.memoizedState=ui(s,r,i,n);return}}Le.flags|=t,a.memoizedState=ui(1|s,r,i,n)}function xm(t,s){return ul(8390656,8,t,s)}function Du(t,s){return vo(2048,8,t,s)}function $p(t,s){return vo(4,2,t,s)}function Bp(t,s){return vo(4,4,t,s)}function Ip(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function qp(t,s,r){return r=r!=null?r.concat([t]):null,vo(4,4,Ip.bind(null,s,t),r)}function Uu(){}function zp(t,s){var r=Ut();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&Iu(s,n[1])?n[0]:(r.memoizedState=[t,s],t)}function Dp(t,s){var r=Ut();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&Iu(s,n[1])?n[0]:(t=t(),r.memoizedState=[t,s],t)}function Up(t,s,r){return tn&21?(ts(r,s)||(r=Zx(),Le.lanes|=r,sn|=r,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,gt=!0),t.memoizedState=r)}function Wb(t,s){var r=Se;Se=r!==0&&4>r?r:4,t(!0);var n=ic.transition;ic.transition={};try{t(!1),s()}finally{Se=r,ic.transition=n}}function Vp(){return Ut().memoizedState}function Qb(t,s,r){var n=pr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Hp(t))Wp(s,r);else if(r=Sp(t,s,r,n),r!==null){var a=dt();Xt(r,t,n,a),Qp(r,s,n)}}function Zb(t,s,r){var n=pr(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Hp(t))Wp(s,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=s.lastRenderedReducer,i!==null))try{var l=s.lastRenderedState,o=i(l,r);if(a.hasEagerState=!0,a.eagerState=o,ts(o,l)){var c=s.interleaved;c===null?(a.next=a,Tu(s)):(a.next=c.next,c.next=a),s.interleaved=a;return}}catch{}finally{}r=Sp(t,s,a,n),r!==null&&(a=dt(),Xt(r,t,n,a),Qp(r,s,n))}}function Hp(t){var s=t.alternate;return t===Le||s!==null&&s===Le}function Wp(t,s){Ua=Ul=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function Qp(t,s,r){if(r&4194240){var n=s.lanes;n&=t.pendingLanes,r|=n,s.lanes=r,vu(t,r)}}var Vl={readContext:Dt,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useInsertionEffect:Xe,useLayoutEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useMutableSource:Xe,useSyncExternalStore:Xe,useId:Xe,unstable_isNewReconciler:!1},Kb={readContext:Dt,useCallback:function(t,s){return ls().memoizedState=[t,s===void 0?null:s],t},useContext:Dt,useEffect:xm,useImperativeHandle:function(t,s,r){return r=r!=null?r.concat([t]):null,ul(4194308,4,Ip.bind(null,s,t),r)},useLayoutEffect:function(t,s){return ul(4194308,4,t,s)},useInsertionEffect:function(t,s){return ul(4,2,t,s)},useMemo:function(t,s){var r=ls();return s=s===void 0?null:s,t=t(),r.memoizedState=[t,s],t},useReducer:function(t,s,r){var n=ls();return s=r!==void 0?r(s):s,n.memoizedState=n.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},n.queue=t,t=t.dispatch=Qb.bind(null,Le,t),[n.memoizedState,t]},useRef:function(t){var s=ls();return t={current:t},s.memoizedState=t},useState:mm,useDebugValue:Uu,useDeferredValue:function(t){return ls().memoizedState=t},useTransition:function(){var t=mm(!1),s=t[0];return t=Wb.bind(null,t[1]),ls().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,r){var n=Le,a=ls();if(Re){if(r===void 0)throw Error(J(407));r=r()}else{if(r=s(),Ze===null)throw Error(J(349));tn&30||Rp(n,s,r)}a.memoizedState=r;var i={value:r,getSnapshot:s};return a.queue=i,xm(Lp.bind(null,n,i,t),[t]),n.flags|=2048,ui(9,Mp.bind(null,n,i,r,s),void 0,null),r},useId:function(){var t=ls(),s=Ze.identifierPrefix;if(Re){var r=As,n=Ps;r=(n&~(1<<32-Jt(n)-1)).toString(32)+r,s=":"+s+"R"+r,r=ci++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=Hb++,s=":"+s+"r"+r.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},Gb={readContext:Dt,useCallback:zp,useContext:Dt,useEffect:Du,useImperativeHandle:qp,useInsertionEffect:$p,useLayoutEffect:Bp,useMemo:Dp,useReducer:lc,useRef:Op,useState:function(){return lc(di)},useDebugValue:Uu,useDeferredValue:function(t){var s=Ut();return Up(s,Ue.memoizedState,t)},useTransition:function(){var t=lc(di)[0],s=Ut().memoizedState;return[t,s]},useMutableSource:Pp,useSyncExternalStore:Ap,useId:Vp,unstable_isNewReconciler:!1},Yb={readContext:Dt,useCallback:zp,useContext:Dt,useEffect:Du,useImperativeHandle:qp,useInsertionEffect:$p,useLayoutEffect:Bp,useMemo:Dp,useReducer:oc,useRef:Op,useState:function(){return oc(di)},useDebugValue:Uu,useDeferredValue:function(t){var s=Ut();return Ue===null?s.memoizedState=t:Up(s,Ue.memoizedState,t)},useTransition:function(){var t=oc(di)[0],s=Ut().memoizedState;return[t,s]},useMutableSource:Pp,useSyncExternalStore:Ap,useId:Vp,unstable_isNewReconciler:!1};function Wt(t,s){if(t&&t.defaultProps){s=Te({},s),t=t.defaultProps;for(var r in t)s[r]===void 0&&(s[r]=t[r]);return s}return s}function td(t,s,r,n){s=t.memoizedState,r=r(n,s),r=r==null?s:Te({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var jo={isMounted:function(t){return(t=t._reactInternals)?hn(t)===t:!1},enqueueSetState:function(t,s,r){t=t._reactInternals;var n=dt(),a=pr(t),i=Rs(n,a);i.payload=s,r!=null&&(i.callback=r),s=mr(t,i,a),s!==null&&(Xt(s,t,a,n),cl(s,t,a))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var n=dt(),a=pr(t),i=Rs(n,a);i.tag=1,i.payload=s,r!=null&&(i.callback=r),s=mr(t,i,a),s!==null&&(Xt(s,t,a,n),cl(s,t,a))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=dt(),n=pr(t),a=Rs(r,n);a.tag=2,s!=null&&(a.callback=s),s=mr(t,a,n),s!==null&&(Xt(s,t,n,r),cl(s,t,n))}};function pm(t,s,r,n,a,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,l):s.prototype&&s.prototype.isPureReactComponent?!ri(r,n)||!ri(a,i):!0}function Zp(t,s,r){var n=!1,a=_r,i=s.contextType;return typeof i=="object"&&i!==null?i=Dt(i):(a=bt(s)?Xr:rt.current,n=s.contextTypes,i=(n=n!=null)?Kn(t,a):_r),s=new s(r,i),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=jo,t.stateNode=s,s._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),s}function fm(t,s,r,n){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,n),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,n),s.state!==t&&jo.enqueueReplaceState(s,s.state,null)}function sd(t,s,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},Fu(t);var i=s.contextType;typeof i=="object"&&i!==null?a.context=Dt(i):(i=bt(s)?Xr:rt.current,a.context=Kn(t,i)),a.state=t.memoizedState,i=s.getDerivedStateFromProps,typeof i=="function"&&(td(t,s,i,r),a.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&jo.enqueueReplaceState(a,a.state,null),zl(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Xn(t,s){try{var r="",n=s;do r+=ky(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:s,stack:a,digest:null}}function cc(t,s,r){return{value:t,source:null,stack:r??null,digest:s??null}}function rd(t,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var Jb=typeof WeakMap=="function"?WeakMap:Map;function Kp(t,s,r){r=Rs(-1,r),r.tag=3,r.payload={element:null};var n=s.value;return r.callback=function(){Wl||(Wl=!0,md=n),rd(t,s)},r}function Gp(t,s,r){r=Rs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=s.value;r.payload=function(){return n(a)},r.callback=function(){rd(t,s)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){rd(t,s),typeof n!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var l=s.stack;this.componentDidCatch(s.value,{componentStack:l!==null?l:""})}),r}function gm(t,s,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Jb;var a=new Set;n.set(s,a)}else a=n.get(s),a===void 0&&(a=new Set,n.set(s,a));a.has(r)||(a.add(r),t=hv.bind(null,t,s,r),s.then(t,t))}function ym(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function bm(t,s,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===s?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=Rs(-1,1),s.tag=2,mr(r,s,1))),r.lanes|=1),t)}var Xb=$s.ReactCurrentOwner,gt=!1;function lt(t,s,r,n){s.child=t===null?kp(s,null,r,n):Yn(s,t.child,r,n)}function vm(t,s,r,n,a){r=r.render;var i=s.ref;return Ln(s,a),n=qu(t,s,r,n,i,a),r=zu(),t!==null&&!gt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,Os(t,s,a)):(Re&&r&&Eu(s),s.flags|=1,lt(t,s,n,a),s.child)}function jm(t,s,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!Yu(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=i,Yp(t,s,i,n,a)):(t=pl(r.type,null,n,s,s.mode,a),t.ref=s.ref,t.return=s,s.child=t)}if(i=t.child,!(t.lanes&a)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:ri,r(l,n)&&t.ref===s.ref)return Os(t,s,a)}return s.flags|=1,t=fr(i,n),t.ref=s.ref,t.return=s,s.child=t}function Yp(t,s,r,n,a){if(t!==null){var i=t.memoizedProps;if(ri(i,n)&&t.ref===s.ref)if(gt=!1,s.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(gt=!0);else return s.lanes=t.lanes,Os(t,s,a)}return nd(t,s,r,n,a)}function Jp(t,s,r){var n=s.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(En,_t),_t|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Ce(En,_t),_t|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ce(En,_t),_t|=n}else i!==null?(n=i.baseLanes|r,s.memoizedState=null):n=r,Ce(En,_t),_t|=n;return lt(t,s,a,r),s.child}function Xp(t,s){var r=s.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function nd(t,s,r,n,a){var i=bt(r)?Xr:rt.current;return i=Kn(s,i),Ln(s,a),r=qu(t,s,r,n,i,a),n=zu(),t!==null&&!gt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a,Os(t,s,a)):(Re&&n&&Eu(s),s.flags|=1,lt(t,s,r,a),s.child)}function wm(t,s,r,n,a){if(bt(r)){var i=!0;Ol(s)}else i=!1;if(Ln(s,a),s.stateNode===null)hl(t,s),Zp(s,r,n),sd(s,r,n,a),n=!0;else if(t===null){var l=s.stateNode,o=s.memoizedProps;l.props=o;var c=l.context,d=r.contextType;typeof d=="object"&&d!==null?d=Dt(d):(d=bt(r)?Xr:rt.current,d=Kn(s,d));var m=r.getDerivedStateFromProps,f=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==d)&&fm(s,l,n,d),Us=!1;var x=s.memoizedState;l.state=x,zl(s,n,l,a),c=s.memoizedState,o!==n||x!==c||yt.current||Us?(typeof m=="function"&&(td(s,r,m,n),c=s.memoizedState),(o=Us||pm(s,r,o,n,x,c,d))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(s.flags|=4194308)):(typeof l.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=n,s.memoizedState=c),l.props=n,l.state=c,l.context=d,n=o):(typeof l.componentDidMount=="function"&&(s.flags|=4194308),n=!1)}else{l=s.stateNode,Cp(t,s),o=s.memoizedProps,d=s.type===s.elementType?o:Wt(s.type,o),l.props=d,f=s.pendingProps,x=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=Dt(c):(c=bt(r)?Xr:rt.current,c=Kn(s,c));var j=r.getDerivedStateFromProps;(m=typeof j=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==f||x!==c)&&fm(s,l,n,c),Us=!1,x=s.memoizedState,l.state=x,zl(s,n,l,a);var y=s.memoizedState;o!==f||x!==y||yt.current||Us?(typeof j=="function"&&(td(s,r,j,n),y=s.memoizedState),(d=Us||pm(s,r,d,n,x,y,c)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,y,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,y,c)),typeof l.componentDidUpdate=="function"&&(s.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&x===t.memoizedState||(s.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&x===t.memoizedState||(s.flags|=1024),s.memoizedProps=n,s.memoizedState=y),l.props=n,l.state=y,l.context=c,n=d):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&x===t.memoizedState||(s.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&x===t.memoizedState||(s.flags|=1024),n=!1)}return ad(t,s,r,n,i,a)}function ad(t,s,r,n,a,i){Xp(t,s);var l=(s.flags&128)!==0;if(!n&&!l)return a&&lm(s,r,!1),Os(t,s,i);n=s.stateNode,Xb.current=s;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return s.flags|=1,t!==null&&l?(s.child=Yn(s,t.child,null,i),s.child=Yn(s,null,o,i)):lt(t,s,o,i),s.memoizedState=n.state,a&&lm(s,r,!0),s.child}function ef(t){var s=t.stateNode;s.pendingContext?im(t,s.pendingContext,s.pendingContext!==s.context):s.context&&im(t,s.context,!1),Ou(t,s.containerInfo)}function Nm(t,s,r,n,a){return Gn(),Au(a),s.flags|=256,lt(t,s,r,n),s.child}var id={dehydrated:null,treeContext:null,retryLane:0};function ld(t){return{baseLanes:t,cachePool:null,transitions:null}}function tf(t,s,r){var n=s.pendingProps,a=Me.current,i=!1,l=(s.flags&128)!==0,o;if((o=l)||(o=t!==null&&t.memoizedState===null?!1:(a&2)!==0),o?(i=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Ce(Me,a&1),t===null)return Xc(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(l=n.children,t=n.fallback,i?(n=s.mode,i=s.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=_o(l,n,0,null),t=Gr(t,n,r,null),i.return=s,t.return=s,i.sibling=t,s.child=i,s.child.memoizedState=ld(r),s.memoizedState=id,t):Vu(s,l));if(a=t.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return ev(t,s,l,n,o,a,r);if(i){i=n.fallback,l=s.mode,a=t.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&s.child!==a?(n=s.child,n.childLanes=0,n.pendingProps=c,s.deletions=null):(n=fr(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=fr(o,i):(i=Gr(i,l,r,null),i.flags|=2),i.return=s,n.return=s,n.sibling=i,s.child=n,n=i,i=s.child,l=t.child.memoizedState,l=l===null?ld(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~r,s.memoizedState=id,n}return i=t.child,t=i.sibling,n=fr(i,{mode:"visible",children:n.children}),!(s.mode&1)&&(n.lanes=r),n.return=s,n.sibling=null,t!==null&&(r=s.deletions,r===null?(s.deletions=[t],s.flags|=16):r.push(t)),s.child=n,s.memoizedState=null,n}function Vu(t,s){return s=_o({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function Ki(t,s,r,n){return n!==null&&Au(n),Yn(s,t.child,null,r),t=Vu(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function ev(t,s,r,n,a,i,l){if(r)return s.flags&256?(s.flags&=-257,n=cc(Error(J(422))),Ki(t,s,l,n)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(i=n.fallback,a=s.mode,n=_o({mode:"visible",children:n.children},a,0,null),i=Gr(i,a,l,null),i.flags|=2,n.return=s,i.return=s,n.sibling=i,s.child=n,s.mode&1&&Yn(s,t.child,null,l),s.child.memoizedState=ld(l),s.memoizedState=id,i);if(!(s.mode&1))return Ki(t,s,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(J(419)),n=cc(i,n,void 0),Ki(t,s,l,n)}if(o=(l&t.childLanes)!==0,gt||o){if(n=Ze,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Fs(t,a),Xt(n,t,a,-1))}return Gu(),n=cc(Error(J(421))),Ki(t,s,l,n)}return a.data==="$?"?(s.flags|=128,s.child=t.child,s=mv.bind(null,t),a._reactRetry=s,null):(t=i.treeContext,St=hr(a.nextSibling),Ct=s,Re=!0,Yt=null,t!==null&&(Ft[Ot++]=Ps,Ft[Ot++]=As,Ft[Ot++]=en,Ps=t.id,As=t.overflow,en=s),s=Vu(s,n.children),s.flags|=4096,s)}function _m(t,s,r){t.lanes|=s;var n=t.alternate;n!==null&&(n.lanes|=s),ed(t.return,s,r)}function dc(t,s,r,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=s,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function sf(t,s,r){var n=s.pendingProps,a=n.revealOrder,i=n.tail;if(lt(t,s,n.children,r),n=Me.current,n&2)n=n&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_m(t,r,s);else if(t.tag===19)_m(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ce(Me,n),!(s.mode&1))s.memoizedState=null;else switch(a){case"forwards":for(r=s.child,a=null;r!==null;)t=r.alternate,t!==null&&Dl(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=s.child,s.child=null):(a=r.sibling,r.sibling=null),dc(s,!1,a,r,i);break;case"backwards":for(r=null,a=s.child,s.child=null;a!==null;){if(t=a.alternate,t!==null&&Dl(t)===null){s.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}dc(s,!0,r,null,i);break;case"together":dc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function hl(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function Os(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),sn|=s.lanes,!(r&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(J(153));if(s.child!==null){for(t=s.child,r=fr(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=fr(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function tv(t,s,r){switch(s.tag){case 3:ef(s),Gn();break;case 5:Ep(s);break;case 1:bt(s.type)&&Ol(s);break;case 4:Ou(s,s.stateNode.containerInfo);break;case 10:var n=s.type._context,a=s.memoizedProps.value;Ce(Il,n._currentValue),n._currentValue=a;break;case 13:if(n=s.memoizedState,n!==null)return n.dehydrated!==null?(Ce(Me,Me.current&1),s.flags|=128,null):r&s.child.childLanes?tf(t,s,r):(Ce(Me,Me.current&1),t=Os(t,s,r),t!==null?t.sibling:null);Ce(Me,Me.current&1);break;case 19:if(n=(r&s.childLanes)!==0,t.flags&128){if(n)return sf(t,s,r);s.flags|=128}if(a=s.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ce(Me,Me.current),n)break;return null;case 22:case 23:return s.lanes=0,Jp(t,s,r)}return Os(t,s,r)}var rf,od,nf,af;rf=function(t,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};od=function(){};nf=function(t,s,r,n){var a=t.memoizedProps;if(a!==n){t=s.stateNode,$r(ms.current);var i=null;switch(r){case"input":a=Ac(t,a),n=Ac(t,n),i=[];break;case"select":a=Te({},a,{value:void 0}),n=Te({},n,{value:void 0}),i=[];break;case"textarea":a=Lc(t,a),n=Lc(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Tl)}Fc(r,n);var l;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ga.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(o=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ga.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ee("scroll",t),i||o===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(s.updateQueue=d)&&(s.flags|=4)}};af=function(t,s,r,n){r!==n&&(s.flags|=4)};function Sa(t,s){if(!Re)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function et(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(s)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,s}function sv(t,s,r){var n=s.pendingProps;switch(Pu(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(s),null;case 1:return bt(s.type)&&Fl(),et(s),null;case 3:return n=s.stateNode,Jn(),Pe(yt),Pe(rt),Bu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Qi(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Yt!==null&&(fd(Yt),Yt=null))),od(t,s),et(s),null;case 5:$u(s);var a=$r(oi.current);if(r=s.type,t!==null&&s.stateNode!=null)nf(t,s,r,n,a),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!n){if(s.stateNode===null)throw Error(J(166));return et(s),null}if(t=$r(ms.current),Qi(s)){n=s.stateNode,r=s.type;var i=s.memoizedProps;switch(n[us]=s,n[ii]=i,t=(s.mode&1)!==0,r){case"dialog":Ee("cancel",n),Ee("close",n);break;case"iframe":case"object":case"embed":Ee("load",n);break;case"video":case"audio":for(a=0;a<Ta.length;a++)Ee(Ta[a],n);break;case"source":Ee("error",n);break;case"img":case"image":case"link":Ee("error",n),Ee("load",n);break;case"details":Ee("toggle",n);break;case"input":Lh(n,i),Ee("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ee("invalid",n);break;case"textarea":Fh(n,i),Ee("invalid",n)}Fc(r,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Wi(n.textContent,o,t),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Wi(n.textContent,o,t),a=["children",""+o]):Ga.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&Ee("scroll",n)}switch(r){case"input":Bi(n),Th(n,i,!0);break;case"textarea":Bi(n),Oh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Tl)}n=a,s.updateQueue=n,n!==null&&(s.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Lx(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=l.createElement(r,{is:n.is}):(t=l.createElement(r),r==="select"&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,r),t[us]=s,t[ii]=n,rf(t,s,!1,!1),s.stateNode=t;e:{switch(l=Oc(r,n),r){case"dialog":Ee("cancel",t),Ee("close",t),a=n;break;case"iframe":case"object":case"embed":Ee("load",t),a=n;break;case"video":case"audio":for(a=0;a<Ta.length;a++)Ee(Ta[a],t);a=n;break;case"source":Ee("error",t),a=n;break;case"img":case"image":case"link":Ee("error",t),Ee("load",t),a=n;break;case"details":Ee("toggle",t),a=n;break;case"input":Lh(t,n),a=Ac(t,n),Ee("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Te({},n,{value:void 0}),Ee("invalid",t);break;case"textarea":Fh(t,n),a=Lc(t,n),Ee("invalid",t);break;default:a=n}Fc(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Ox(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Tx(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ya(t,c):typeof c=="number"&&Ya(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ga.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ee("scroll",t):c!=null&&xu(t,i,c,l))}switch(r){case"input":Bi(t),Th(t,n,!1);break;case"textarea":Bi(t),Oh(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Nr(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Pn(t,!!n.multiple,i,!1):n.defaultValue!=null&&Pn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Tl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return et(s),null;case 6:if(t&&s.stateNode!=null)af(t,s,t.memoizedProps,n);else{if(typeof n!="string"&&s.stateNode===null)throw Error(J(166));if(r=$r(oi.current),$r(ms.current),Qi(s)){if(n=s.stateNode,r=s.memoizedProps,n[us]=s,(i=n.nodeValue!==r)&&(t=Ct,t!==null))switch(t.tag){case 3:Wi(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wi(n.nodeValue,r,(t.mode&1)!==0)}i&&(s.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[us]=s,s.stateNode=n}return et(s),null;case 13:if(Pe(Me),n=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&St!==null&&s.mode&1&&!(s.flags&128))Np(),Gn(),s.flags|=98560,i=!1;else if(i=Qi(s),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(J(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(J(317));i[us]=s}else Gn(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;et(s),i=!1}else Yt!==null&&(fd(Yt),Yt=null),i=!0;if(!i)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(s.child.flags|=8192,s.mode&1&&(t===null||Me.current&1?He===0&&(He=3):Gu())),s.updateQueue!==null&&(s.flags|=4),et(s),null);case 4:return Jn(),od(t,s),t===null&&ni(s.stateNode.containerInfo),et(s),null;case 10:return Lu(s.type._context),et(s),null;case 17:return bt(s.type)&&Fl(),et(s),null;case 19:if(Pe(Me),i=s.memoizedState,i===null)return et(s),null;if(n=(s.flags&128)!==0,l=i.rendering,l===null)if(n)Sa(i,!1);else{if(He!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(l=Dl(t),l!==null){for(s.flags|=128,Sa(i,!1),n=l.updateQueue,n!==null&&(s.updateQueue=n,s.flags|=4),s.subtreeFlags=0,n=r,r=s.child;r!==null;)i=r,t=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ce(Me,Me.current&1|2),s.child}t=t.sibling}i.tail!==null&&$e()>ea&&(s.flags|=128,n=!0,Sa(i,!1),s.lanes=4194304)}else{if(!n)if(t=Dl(l),t!==null){if(s.flags|=128,n=!0,r=t.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),Sa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Re)return et(s),null}else 2*$e()-i.renderingStartTime>ea&&r!==1073741824&&(s.flags|=128,n=!0,Sa(i,!1),s.lanes=4194304);i.isBackwards?(l.sibling=s.child,s.child=l):(r=i.last,r!==null?r.sibling=l:s.child=l,i.last=l)}return i.tail!==null?(s=i.tail,i.rendering=s,i.tail=s.sibling,i.renderingStartTime=$e(),s.sibling=null,r=Me.current,Ce(Me,n?r&1|2:r&1),s):(et(s),null);case 22:case 23:return Ku(),n=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(s.flags|=8192),n&&s.mode&1?_t&1073741824&&(et(s),s.subtreeFlags&6&&(s.flags|=8192)):et(s),null;case 24:return null;case 25:return null}throw Error(J(156,s.tag))}function rv(t,s){switch(Pu(s),s.tag){case 1:return bt(s.type)&&Fl(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Jn(),Pe(yt),Pe(rt),Bu(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return $u(s),null;case 13:if(Pe(Me),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(J(340));Gn()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Pe(Me),null;case 4:return Jn(),null;case 10:return Lu(s.type._context),null;case 22:case 23:return Ku(),null;case 24:return null;default:return null}}var Gi=!1,tt=!1,nv=typeof WeakSet=="function"?WeakSet:Set,re=null;function Cn(t,s){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Oe(t,s,n)}else r.current=null}function cd(t,s,r){try{r()}catch(n){Oe(t,s,n)}}var km=!1;function av(t,s){if(Wc=Rl,t=dp(),Cu(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,d=0,m=0,f=t,x=null;t:for(;;){for(var j;f!==r||a!==0&&f.nodeType!==3||(o=l+a),f!==i||n!==0&&f.nodeType!==3||(c=l+n),f.nodeType===3&&(l+=f.nodeValue.length),(j=f.firstChild)!==null;)x=f,f=j;for(;;){if(f===t)break t;if(x===r&&++d===a&&(o=l),x===i&&++m===n&&(c=l),(j=f.nextSibling)!==null)break;f=x,x=f.parentNode}f=j}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qc={focusedElem:t,selectionRange:r},Rl=!1,re=s;re!==null;)if(s=re,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,re=t;else for(;re!==null;){s=re;try{var y=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,w=y.memoizedState,g=s.stateNode,h=g.getSnapshotBeforeUpdate(s.elementType===s.type?b:Wt(s.type,b),w);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var p=s.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(k){Oe(s,s.return,k)}if(t=s.sibling,t!==null){t.return=s.return,re=t;break}re=s.return}return y=km,km=!1,y}function Va(t,s,r){var n=s.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&cd(s,r,i)}a=a.next}while(a!==n)}}function wo(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==s)}}function dd(t){var s=t.ref;if(s!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof s=="function"?s(t):s.current=t}}function lf(t){var s=t.alternate;s!==null&&(t.alternate=null,lf(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[us],delete s[ii],delete s[Gc],delete s[zb],delete s[Db])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function of(t){return t.tag===5||t.tag===3||t.tag===4}function Sm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||of(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ud(t,s,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(t,s):r.insertBefore(t,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(t,r)):(s=r,s.appendChild(t)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Tl));else if(n!==4&&(t=t.child,t!==null))for(ud(t,s,r),t=t.sibling;t!==null;)ud(t,s,r),t=t.sibling}function hd(t,s,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(hd(t,s,r),t=t.sibling;t!==null;)hd(t,s,r),t=t.sibling}var Ke=null,Kt=!1;function qs(t,s,r){for(r=r.child;r!==null;)cf(t,s,r),r=r.sibling}function cf(t,s,r){if(hs&&typeof hs.onCommitFiberUnmount=="function")try{hs.onCommitFiberUnmount(xo,r)}catch{}switch(r.tag){case 5:tt||Cn(r,s);case 6:var n=Ke,a=Kt;Ke=null,qs(t,s,r),Ke=n,Kt=a,Ke!==null&&(Kt?(t=Ke,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ke.removeChild(r.stateNode));break;case 18:Ke!==null&&(Kt?(t=Ke,r=r.stateNode,t.nodeType===8?rc(t.parentNode,r):t.nodeType===1&&rc(t,r),ti(t)):rc(Ke,r.stateNode));break;case 4:n=Ke,a=Kt,Ke=r.stateNode.containerInfo,Kt=!0,qs(t,s,r),Ke=n,Kt=a;break;case 0:case 11:case 14:case 15:if(!tt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&cd(r,s,l),a=a.next}while(a!==n)}qs(t,s,r);break;case 1:if(!tt&&(Cn(r,s),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Oe(r,s,o)}qs(t,s,r);break;case 21:qs(t,s,r);break;case 22:r.mode&1?(tt=(n=tt)||r.memoizedState!==null,qs(t,s,r),tt=n):qs(t,s,r);break;default:qs(t,s,r)}}function Cm(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new nv),s.forEach(function(n){var a=xv.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ht(t,s){var r=s.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=t,l=s,o=l;e:for(;o!==null;){switch(o.tag){case 5:Ke=o.stateNode,Kt=!1;break e;case 3:Ke=o.stateNode.containerInfo,Kt=!0;break e;case 4:Ke=o.stateNode.containerInfo,Kt=!0;break e}o=o.return}if(Ke===null)throw Error(J(160));cf(i,l,a),Ke=null,Kt=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Oe(a,s,d)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)df(s,t),s=s.sibling}function df(t,s){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ht(s,t),as(t),n&4){try{Va(3,t,t.return),wo(3,t)}catch(b){Oe(t,t.return,b)}try{Va(5,t,t.return)}catch(b){Oe(t,t.return,b)}}break;case 1:Ht(s,t),as(t),n&512&&r!==null&&Cn(r,r.return);break;case 5:if(Ht(s,t),as(t),n&512&&r!==null&&Cn(r,r.return),t.flags&32){var a=t.stateNode;try{Ya(a,"")}catch(b){Oe(t,t.return,b)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,l=r!==null?r.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Rx(a,i),Oc(o,l);var d=Oc(o,i);for(l=0;l<c.length;l+=2){var m=c[l],f=c[l+1];m==="style"?Ox(a,f):m==="dangerouslySetInnerHTML"?Tx(a,f):m==="children"?Ya(a,f):xu(a,m,f,d)}switch(o){case"input":Rc(a,i);break;case"textarea":Mx(a,i);break;case"select":var x=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var j=i.value;j!=null?Pn(a,!!i.multiple,j,!1):x!==!!i.multiple&&(i.defaultValue!=null?Pn(a,!!i.multiple,i.defaultValue,!0):Pn(a,!!i.multiple,i.multiple?[]:"",!1))}a[ii]=i}catch(b){Oe(t,t.return,b)}}break;case 6:if(Ht(s,t),as(t),n&4){if(t.stateNode===null)throw Error(J(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(b){Oe(t,t.return,b)}}break;case 3:if(Ht(s,t),as(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ti(s.containerInfo)}catch(b){Oe(t,t.return,b)}break;case 4:Ht(s,t),as(t);break;case 13:Ht(s,t),as(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Qu=$e())),n&4&&Cm(t);break;case 22:if(m=r!==null&&r.memoizedState!==null,t.mode&1?(tt=(d=tt)||m,Ht(s,t),tt=d):Ht(s,t),as(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!m&&t.mode&1)for(re=t,m=t.child;m!==null;){for(f=re=m;re!==null;){switch(x=re,j=x.child,x.tag){case 0:case 11:case 14:case 15:Va(4,x,x.return);break;case 1:Cn(x,x.return);var y=x.stateNode;if(typeof y.componentWillUnmount=="function"){n=x,r=x.return;try{s=n,y.props=s.memoizedProps,y.state=s.memoizedState,y.componentWillUnmount()}catch(b){Oe(n,r,b)}}break;case 5:Cn(x,x.return);break;case 22:if(x.memoizedState!==null){Pm(f);continue}}j!==null?(j.return=x,re=j):Pm(f)}m=m.sibling}e:for(m=null,f=t;;){if(f.tag===5){if(m===null){m=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Fx("display",l))}catch(b){Oe(t,t.return,b)}}}else if(f.tag===6){if(m===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(b){Oe(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;m===f&&(m=null),f=f.return}m===f&&(m=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ht(s,t),as(t),n&4&&Cm(t);break;case 21:break;default:Ht(s,t),as(t)}}function as(t){var s=t.flags;if(s&2){try{e:{for(var r=t.return;r!==null;){if(of(r)){var n=r;break e}r=r.return}throw Error(J(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Ya(a,""),n.flags&=-33);var i=Sm(t);hd(t,i,a);break;case 3:case 4:var l=n.stateNode.containerInfo,o=Sm(t);ud(t,o,l);break;default:throw Error(J(161))}}catch(c){Oe(t,t.return,c)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function iv(t,s,r){re=t,uf(t)}function uf(t,s,r){for(var n=(t.mode&1)!==0;re!==null;){var a=re,i=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||Gi;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||tt;o=Gi;var d=tt;if(Gi=l,(tt=c)&&!d)for(re=a;re!==null;)l=re,c=l.child,l.tag===22&&l.memoizedState!==null?Am(a):c!==null?(c.return=l,re=c):Am(a);for(;i!==null;)re=i,uf(i),i=i.sibling;re=a,Gi=o,tt=d}Em(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,re=i):Em(t)}}function Em(t){for(;re!==null;){var s=re;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:tt||wo(5,s);break;case 1:var n=s.stateNode;if(s.flags&4&&!tt)if(r===null)n.componentDidMount();else{var a=s.elementType===s.type?r.memoizedProps:Wt(s.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=s.updateQueue;i!==null&&hm(s,i,n);break;case 3:var l=s.updateQueue;if(l!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}hm(s,l,r)}break;case 5:var o=s.stateNode;if(r===null&&s.flags&4){r=o;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var d=s.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var f=m.dehydrated;f!==null&&ti(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}tt||s.flags&512&&dd(s)}catch(x){Oe(s,s.return,x)}}if(s===t){re=null;break}if(r=s.sibling,r!==null){r.return=s.return,re=r;break}re=s.return}}function Pm(t){for(;re!==null;){var s=re;if(s===t){re=null;break}var r=s.sibling;if(r!==null){r.return=s.return,re=r;break}re=s.return}}function Am(t){for(;re!==null;){var s=re;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{wo(4,s)}catch(c){Oe(s,r,c)}break;case 1:var n=s.stateNode;if(typeof n.componentDidMount=="function"){var a=s.return;try{n.componentDidMount()}catch(c){Oe(s,a,c)}}var i=s.return;try{dd(s)}catch(c){Oe(s,i,c)}break;case 5:var l=s.return;try{dd(s)}catch(c){Oe(s,l,c)}}}catch(c){Oe(s,s.return,c)}if(s===t){re=null;break}var o=s.sibling;if(o!==null){o.return=s.return,re=o;break}re=s.return}}var lv=Math.ceil,Hl=$s.ReactCurrentDispatcher,Hu=$s.ReactCurrentOwner,qt=$s.ReactCurrentBatchConfig,je=0,Ze=null,qe=null,Ge=0,_t=0,En=Er(0),He=0,hi=null,sn=0,No=0,Wu=0,Ha=null,pt=null,Qu=0,ea=1/0,js=null,Wl=!1,md=null,xr=null,Yi=!1,ar=null,Ql=0,Wa=0,xd=null,ml=-1,xl=0;function dt(){return je&6?$e():ml!==-1?ml:ml=$e()}function pr(t){return t.mode&1?je&2&&Ge!==0?Ge&-Ge:Vb.transition!==null?(xl===0&&(xl=Zx()),xl):(t=Se,t!==0||(t=window.event,t=t===void 0?16:tp(t.type)),t):1}function Xt(t,s,r,n){if(50<Wa)throw Wa=0,xd=null,Error(J(185));Si(t,r,n),(!(je&2)||t!==Ze)&&(t===Ze&&(!(je&2)&&(No|=r),He===4&&Qs(t,Ge)),vt(t,n),r===1&&je===0&&!(s.mode&1)&&(ea=$e()+500,bo&&Pr()))}function vt(t,s){var r=t.callbackNode;Vy(t,s);var n=Al(t,t===Ze?Ge:0);if(n===0)r!==null&&Ih(r),t.callbackNode=null,t.callbackPriority=0;else if(s=n&-n,t.callbackPriority!==s){if(r!=null&&Ih(r),s===1)t.tag===0?Ub(Rm.bind(null,t)):vp(Rm.bind(null,t)),Ib(function(){!(je&6)&&Pr()}),r=null;else{switch(Kx(n)){case 1:r=bu;break;case 4:r=Wx;break;case 16:r=Pl;break;case 536870912:r=Qx;break;default:r=Pl}r=bf(r,hf.bind(null,t))}t.callbackPriority=s,t.callbackNode=r}}function hf(t,s){if(ml=-1,xl=0,je&6)throw Error(J(327));var r=t.callbackNode;if(Tn()&&t.callbackNode!==r)return null;var n=Al(t,t===Ze?Ge:0);if(n===0)return null;if(n&30||n&t.expiredLanes||s)s=Zl(t,n);else{s=n;var a=je;je|=2;var i=xf();(Ze!==t||Ge!==s)&&(js=null,ea=$e()+500,Kr(t,s));do try{dv();break}catch(o){mf(t,o)}while(!0);Mu(),Hl.current=i,je=a,qe!==null?s=0:(Ze=null,Ge=0,s=He)}if(s!==0){if(s===2&&(a=zc(t),a!==0&&(n=a,s=pd(t,a))),s===1)throw r=hi,Kr(t,0),Qs(t,n),vt(t,$e()),r;if(s===6)Qs(t,n);else{if(a=t.current.alternate,!(n&30)&&!ov(a)&&(s=Zl(t,n),s===2&&(i=zc(t),i!==0&&(n=i,s=pd(t,i))),s===1))throw r=hi,Kr(t,0),Qs(t,n),vt(t,$e()),r;switch(t.finishedWork=a,t.finishedLanes=n,s){case 0:case 1:throw Error(J(345));case 2:Lr(t,pt,js);break;case 3:if(Qs(t,n),(n&130023424)===n&&(s=Qu+500-$e(),10<s)){if(Al(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){dt(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=Kc(Lr.bind(null,t,pt,js),s);break}Lr(t,pt,js);break;case 4:if(Qs(t,n),(n&4194240)===n)break;for(s=t.eventTimes,a=-1;0<n;){var l=31-Jt(n);i=1<<l,l=s[l],l>a&&(a=l),n&=~i}if(n=a,n=$e()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lv(n/1960))-n,10<n){t.timeoutHandle=Kc(Lr.bind(null,t,pt,js),n);break}Lr(t,pt,js);break;case 5:Lr(t,pt,js);break;default:throw Error(J(329))}}}return vt(t,$e()),t.callbackNode===r?hf.bind(null,t):null}function pd(t,s){var r=Ha;return t.current.memoizedState.isDehydrated&&(Kr(t,s).flags|=256),t=Zl(t,s),t!==2&&(s=pt,pt=r,s!==null&&fd(s)),t}function fd(t){pt===null?pt=t:pt.push.apply(pt,t)}function ov(t){for(var s=t;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!ts(i(),a))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Qs(t,s){for(s&=~Wu,s&=~No,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var r=31-Jt(s),n=1<<r;t[r]=-1,s&=~n}}function Rm(t){if(je&6)throw Error(J(327));Tn();var s=Al(t,0);if(!(s&1))return vt(t,$e()),null;var r=Zl(t,s);if(t.tag!==0&&r===2){var n=zc(t);n!==0&&(s=n,r=pd(t,n))}if(r===1)throw r=hi,Kr(t,0),Qs(t,s),vt(t,$e()),r;if(r===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,Lr(t,pt,js),vt(t,$e()),null}function Zu(t,s){var r=je;je|=1;try{return t(s)}finally{je=r,je===0&&(ea=$e()+500,bo&&Pr())}}function rn(t){ar!==null&&ar.tag===0&&!(je&6)&&Tn();var s=je;je|=1;var r=qt.transition,n=Se;try{if(qt.transition=null,Se=1,t)return t()}finally{Se=n,qt.transition=r,je=s,!(je&6)&&Pr()}}function Ku(){_t=En.current,Pe(En)}function Kr(t,s){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Bb(r)),qe!==null)for(r=qe.return;r!==null;){var n=r;switch(Pu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Fl();break;case 3:Jn(),Pe(yt),Pe(rt),Bu();break;case 5:$u(n);break;case 4:Jn();break;case 13:Pe(Me);break;case 19:Pe(Me);break;case 10:Lu(n.type._context);break;case 22:case 23:Ku()}r=r.return}if(Ze=t,qe=t=fr(t.current,null),Ge=_t=s,He=0,hi=null,Wu=No=sn=0,pt=Ha=null,Or!==null){for(s=0;s<Or.length;s++)if(r=Or[s],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=a,n.next=l}r.pending=n}Or=null}return t}function mf(t,s){do{var r=qe;try{if(Mu(),dl.current=Vl,Ul){for(var n=Le.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Ul=!1}if(tn=0,Qe=Ue=Le=null,Ua=!1,ci=0,Hu.current=null,r===null||r.return===null){He=1,hi=s,qe=null;break}e:{var i=t,l=r.return,o=r,c=s;if(s=Ge,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,m=o,f=m.tag;if(!(m.mode&1)&&(f===0||f===11||f===15)){var x=m.alternate;x?(m.updateQueue=x.updateQueue,m.memoizedState=x.memoizedState,m.lanes=x.lanes):(m.updateQueue=null,m.memoizedState=null)}var j=ym(l);if(j!==null){j.flags&=-257,bm(j,l,o,i,s),j.mode&1&&gm(i,d,s),s=j,c=d;var y=s.updateQueue;if(y===null){var b=new Set;b.add(c),s.updateQueue=b}else y.add(c);break e}else{if(!(s&1)){gm(i,d,s),Gu();break e}c=Error(J(426))}}else if(Re&&o.mode&1){var w=ym(l);if(w!==null){!(w.flags&65536)&&(w.flags|=256),bm(w,l,o,i,s),Au(Xn(c,o));break e}}i=c=Xn(c,o),He!==4&&(He=2),Ha===null?Ha=[i]:Ha.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,s&=-s,i.lanes|=s;var g=Kp(i,c,s);um(i,g);break e;case 1:o=c;var h=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(xr===null||!xr.has(p)))){i.flags|=65536,s&=-s,i.lanes|=s;var k=Gp(i,o,s);um(i,k);break e}}i=i.return}while(i!==null)}ff(r)}catch(E){s=E,qe===r&&r!==null&&(qe=r=r.return);continue}break}while(!0)}function xf(){var t=Hl.current;return Hl.current=Vl,t===null?Vl:t}function Gu(){(He===0||He===3||He===2)&&(He=4),Ze===null||!(sn&268435455)&&!(No&268435455)||Qs(Ze,Ge)}function Zl(t,s){var r=je;je|=2;var n=xf();(Ze!==t||Ge!==s)&&(js=null,Kr(t,s));do try{cv();break}catch(a){mf(t,a)}while(!0);if(Mu(),je=r,Hl.current=n,qe!==null)throw Error(J(261));return Ze=null,Ge=0,He}function cv(){for(;qe!==null;)pf(qe)}function dv(){for(;qe!==null&&!Fy();)pf(qe)}function pf(t){var s=yf(t.alternate,t,_t);t.memoizedProps=t.pendingProps,s===null?ff(t):qe=s,Hu.current=null}function ff(t){var s=t;do{var r=s.alternate;if(t=s.return,s.flags&32768){if(r=rv(r,s),r!==null){r.flags&=32767,qe=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{He=6,qe=null;return}}else if(r=sv(r,s,_t),r!==null){qe=r;return}if(s=s.sibling,s!==null){qe=s;return}qe=s=t}while(s!==null);He===0&&(He=5)}function Lr(t,s,r){var n=Se,a=qt.transition;try{qt.transition=null,Se=1,uv(t,s,r,n)}finally{qt.transition=a,Se=n}return null}function uv(t,s,r,n){do Tn();while(ar!==null);if(je&6)throw Error(J(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Hy(t,i),t===Ze&&(qe=Ze=null,Ge=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Yi||(Yi=!0,bf(Pl,function(){return Tn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=qt.transition,qt.transition=null;var l=Se;Se=1;var o=je;je|=4,Hu.current=null,av(t,r),df(r,t),Rb(Qc),Rl=!!Wc,Qc=Wc=null,t.current=r,iv(r),Oy(),je=o,Se=l,qt.transition=i}else t.current=r;if(Yi&&(Yi=!1,ar=t,Ql=a),i=t.pendingLanes,i===0&&(xr=null),Iy(r.stateNode),vt(t,$e()),s!==null)for(n=t.onRecoverableError,r=0;r<s.length;r++)a=s[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Wl)throw Wl=!1,t=md,md=null,t;return Ql&1&&t.tag!==0&&Tn(),i=t.pendingLanes,i&1?t===xd?Wa++:(Wa=0,xd=t):Wa=0,Pr(),null}function Tn(){if(ar!==null){var t=Kx(Ql),s=qt.transition,r=Se;try{if(qt.transition=null,Se=16>t?16:t,ar===null)var n=!1;else{if(t=ar,ar=null,Ql=0,je&6)throw Error(J(331));var a=je;for(je|=4,re=t.current;re!==null;){var i=re,l=i.child;if(re.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(re=d;re!==null;){var m=re;switch(m.tag){case 0:case 11:case 15:Va(8,m,i)}var f=m.child;if(f!==null)f.return=m,re=f;else for(;re!==null;){m=re;var x=m.sibling,j=m.return;if(lf(m),m===d){re=null;break}if(x!==null){x.return=j,re=x;break}re=j}}}var y=i.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}re=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,re=l;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Va(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,re=g;break e}re=i.return}}var h=t.current;for(re=h;re!==null;){l=re;var p=l.child;if(l.subtreeFlags&2064&&p!==null)p.return=l,re=p;else e:for(l=h;re!==null;){if(o=re,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:wo(9,o)}}catch(E){Oe(o,o.return,E)}if(o===l){re=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,re=k;break e}re=o.return}}if(je=a,Pr(),hs&&typeof hs.onPostCommitFiberRoot=="function")try{hs.onPostCommitFiberRoot(xo,t)}catch{}n=!0}return n}finally{Se=r,qt.transition=s}}return!1}function Mm(t,s,r){s=Xn(r,s),s=Kp(t,s,1),t=mr(t,s,1),s=dt(),t!==null&&(Si(t,1,s),vt(t,s))}function Oe(t,s,r){if(t.tag===3)Mm(t,t,r);else for(;s!==null;){if(s.tag===3){Mm(s,t,r);break}else if(s.tag===1){var n=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xr===null||!xr.has(n))){t=Xn(r,t),t=Gp(s,t,1),s=mr(s,t,1),t=dt(),s!==null&&(Si(s,1,t),vt(s,t));break}}s=s.return}}function hv(t,s,r){var n=t.pingCache;n!==null&&n.delete(s),s=dt(),t.pingedLanes|=t.suspendedLanes&r,Ze===t&&(Ge&r)===r&&(He===4||He===3&&(Ge&130023424)===Ge&&500>$e()-Qu?Kr(t,0):Wu|=r),vt(t,s)}function gf(t,s){s===0&&(t.mode&1?(s=zi,zi<<=1,!(zi&130023424)&&(zi=4194304)):s=1);var r=dt();t=Fs(t,s),t!==null&&(Si(t,s,r),vt(t,r))}function mv(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),gf(t,r)}function xv(t,s){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(J(314))}n!==null&&n.delete(s),gf(t,r)}var yf;yf=function(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps||yt.current)gt=!0;else{if(!(t.lanes&r)&&!(s.flags&128))return gt=!1,tv(t,s,r);gt=!!(t.flags&131072)}else gt=!1,Re&&s.flags&1048576&&jp(s,Bl,s.index);switch(s.lanes=0,s.tag){case 2:var n=s.type;hl(t,s),t=s.pendingProps;var a=Kn(s,rt.current);Ln(s,r),a=qu(null,s,n,t,a,r);var i=zu();return s.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,bt(n)?(i=!0,Ol(s)):i=!1,s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Fu(s),a.updater=jo,s.stateNode=a,a._reactInternals=s,sd(s,n,t,r),s=ad(null,s,n,!0,i,r)):(s.tag=0,Re&&i&&Eu(s),lt(null,s,a,r),s=s.child),s;case 16:n=s.elementType;e:{switch(hl(t,s),t=s.pendingProps,a=n._init,n=a(n._payload),s.type=n,a=s.tag=fv(n),t=Wt(n,t),a){case 0:s=nd(null,s,n,t,r);break e;case 1:s=wm(null,s,n,t,r);break e;case 11:s=vm(null,s,n,t,r);break e;case 14:s=jm(null,s,n,Wt(n.type,t),r);break e}throw Error(J(306,n,""))}return s;case 0:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:Wt(n,a),nd(t,s,n,a,r);case 1:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:Wt(n,a),wm(t,s,n,a,r);case 3:e:{if(ef(s),t===null)throw Error(J(387));n=s.pendingProps,i=s.memoizedState,a=i.element,Cp(t,s),zl(s,n,null,r);var l=s.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},s.updateQueue.baseState=i,s.memoizedState=i,s.flags&256){a=Xn(Error(J(423)),s),s=Nm(t,s,n,r,a);break e}else if(n!==a){a=Xn(Error(J(424)),s),s=Nm(t,s,n,r,a);break e}else for(St=hr(s.stateNode.containerInfo.firstChild),Ct=s,Re=!0,Yt=null,r=kp(s,null,n,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Gn(),n===a){s=Os(t,s,r);break e}lt(t,s,n,r)}s=s.child}return s;case 5:return Ep(s),t===null&&Xc(s),n=s.type,a=s.pendingProps,i=t!==null?t.memoizedProps:null,l=a.children,Zc(n,a)?l=null:i!==null&&Zc(n,i)&&(s.flags|=32),Xp(t,s),lt(t,s,l,r),s.child;case 6:return t===null&&Xc(s),null;case 13:return tf(t,s,r);case 4:return Ou(s,s.stateNode.containerInfo),n=s.pendingProps,t===null?s.child=Yn(s,null,n,r):lt(t,s,n,r),s.child;case 11:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:Wt(n,a),vm(t,s,n,a,r);case 7:return lt(t,s,s.pendingProps,r),s.child;case 8:return lt(t,s,s.pendingProps.children,r),s.child;case 12:return lt(t,s,s.pendingProps.children,r),s.child;case 10:e:{if(n=s.type._context,a=s.pendingProps,i=s.memoizedProps,l=a.value,Ce(Il,n._currentValue),n._currentValue=l,i!==null)if(ts(i.value,l)){if(i.children===a.children&&!yt.current){s=Os(t,s,r);break e}}else for(i=s.child,i!==null&&(i.return=s);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Rs(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?c.next=c:(c.next=m.next,m.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ed(i.return,r,s),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===s.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(J(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),ed(l,r,s),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===s){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}lt(t,s,a.children,r),s=s.child}return s;case 9:return a=s.type,n=s.pendingProps.children,Ln(s,r),a=Dt(a),n=n(a),s.flags|=1,lt(t,s,n,r),s.child;case 14:return n=s.type,a=Wt(n,s.pendingProps),a=Wt(n.type,a),jm(t,s,n,a,r);case 15:return Yp(t,s,s.type,s.pendingProps,r);case 17:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:Wt(n,a),hl(t,s),s.tag=1,bt(n)?(t=!0,Ol(s)):t=!1,Ln(s,r),Zp(s,n,a),sd(s,n,a,r),ad(null,s,n,!0,t,r);case 19:return sf(t,s,r);case 22:return Jp(t,s,r)}throw Error(J(156,s.tag))};function bf(t,s){return Hx(t,s)}function pv(t,s,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(t,s,r,n){return new pv(t,s,r,n)}function Yu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fv(t){if(typeof t=="function")return Yu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fu)return 11;if(t===gu)return 14}return 2}function fr(t,s){var r=t.alternate;return r===null?(r=It(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function pl(t,s,r,n,a,i){var l=2;if(n=t,typeof t=="function")Yu(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case yn:return Gr(r.children,a,i,s);case pu:l=8,a|=8;break;case Sc:return t=It(12,r,s,a|2),t.elementType=Sc,t.lanes=i,t;case Cc:return t=It(13,r,s,a),t.elementType=Cc,t.lanes=i,t;case Ec:return t=It(19,r,s,a),t.elementType=Ec,t.lanes=i,t;case Ex:return _o(r,a,i,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Sx:l=10;break e;case Cx:l=9;break e;case fu:l=11;break e;case gu:l=14;break e;case Ds:l=16,n=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return s=It(l,r,s,a),s.elementType=t,s.type=n,s.lanes=i,s}function Gr(t,s,r,n){return t=It(7,t,n,s),t.lanes=r,t}function _o(t,s,r,n){return t=It(22,t,n,s),t.elementType=Ex,t.lanes=r,t.stateNode={isHidden:!1},t}function uc(t,s,r){return t=It(6,t,null,s),t.lanes=r,t}function hc(t,s,r){return s=It(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function gv(t,s,r,n,a){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wo(0),this.expirationTimes=Wo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wo(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ju(t,s,r,n,a,i,l,o,c){return t=new gv(t,s,r,o,c),s===1?(s=1,i===!0&&(s|=8)):s=0,i=It(3,null,null,s),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fu(i),t}function yv(t,s,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gn,key:n==null?null:""+n,children:t,containerInfo:s,implementation:r}}function vf(t){if(!t)return _r;t=t._reactInternals;e:{if(hn(t)!==t||t.tag!==1)throw Error(J(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(bt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(J(171))}if(t.tag===1){var r=t.type;if(bt(r))return bp(t,r,s)}return s}function jf(t,s,r,n,a,i,l,o,c){return t=Ju(r,n,!0,t,a,i,l,o,c),t.context=vf(null),r=t.current,n=dt(),a=pr(r),i=Rs(n,a),i.callback=s??null,mr(r,i,a),t.current.lanes=a,Si(t,a,n),vt(t,n),t}function ko(t,s,r,n){var a=s.current,i=dt(),l=pr(a);return r=vf(r),s.context===null?s.context=r:s.pendingContext=r,s=Rs(i,l),s.payload={element:t},n=n===void 0?null:n,n!==null&&(s.callback=n),t=mr(a,s,l),t!==null&&(Xt(t,a,l,i),cl(t,a,l)),l}function Kl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Lm(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function Xu(t,s){Lm(t,s),(t=t.alternate)&&Lm(t,s)}function bv(){return null}var wf=typeof reportError=="function"?reportError:function(t){console.error(t)};function eh(t){this._internalRoot=t}So.prototype.render=eh.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(J(409));ko(t,s,null,null)};So.prototype.unmount=eh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;rn(function(){ko(null,t,null,null)}),s[Ts]=null}};function So(t){this._internalRoot=t}So.prototype.unstable_scheduleHydration=function(t){if(t){var s=Jx();t={blockedOn:null,target:t,priority:s};for(var r=0;r<Ws.length&&s!==0&&s<Ws[r].priority;r++);Ws.splice(r,0,t),r===0&&ep(t)}};function th(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Co(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Tm(){}function vv(t,s,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Kl(l);i.call(d)}}var l=jf(s,n,t,0,null,!1,!1,"",Tm);return t._reactRootContainer=l,t[Ts]=l.current,ni(t.nodeType===8?t.parentNode:t),rn(),l}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var d=Kl(c);o.call(d)}}var c=Ju(t,0,!1,null,null,!1,!1,"",Tm);return t._reactRootContainer=c,t[Ts]=c.current,ni(t.nodeType===8?t.parentNode:t),rn(function(){ko(s,c,r,n)}),c}function Eo(t,s,r,n,a){var i=r._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=Kl(l);o.call(c)}}ko(s,l,t,a)}else l=vv(r,s,t,a,n);return Kl(l)}Gx=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var r=La(s.pendingLanes);r!==0&&(vu(s,r|1),vt(s,$e()),!(je&6)&&(ea=$e()+500,Pr()))}break;case 13:rn(function(){var n=Fs(t,1);if(n!==null){var a=dt();Xt(n,t,1,a)}}),Xu(t,1)}};ju=function(t){if(t.tag===13){var s=Fs(t,134217728);if(s!==null){var r=dt();Xt(s,t,134217728,r)}Xu(t,134217728)}};Yx=function(t){if(t.tag===13){var s=pr(t),r=Fs(t,s);if(r!==null){var n=dt();Xt(r,t,s,n)}Xu(t,s)}};Jx=function(){return Se};Xx=function(t,s){var r=Se;try{return Se=t,s()}finally{Se=r}};Bc=function(t,s,r){switch(s){case"input":if(Rc(t,r),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var n=r[s];if(n!==t&&n.form===t.form){var a=yo(n);if(!a)throw Error(J(90));Ax(n),Rc(n,a)}}}break;case"textarea":Mx(t,r);break;case"select":s=r.value,s!=null&&Pn(t,!!r.multiple,s,!1)}};Ix=Zu;qx=rn;var jv={usingClientEntryPoint:!1,Events:[Ei,wn,yo,$x,Bx,Zu]},Ca={findFiberByHostInstance:Fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wv={bundleType:Ca.bundleType,version:Ca.version,rendererPackageName:Ca.rendererPackageName,rendererConfig:Ca.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$s.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ux(t),t===null?null:t.stateNode},findFiberByHostInstance:Ca.findFiberByHostInstance||bv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ji=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ji.isDisabled&&Ji.supportsFiber)try{xo=Ji.inject(wv),hs=Ji}catch{}}Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jv;Rt.createPortal=function(t,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!th(s))throw Error(J(200));return yv(t,s,null,r)};Rt.createRoot=function(t,s){if(!th(t))throw Error(J(299));var r=!1,n="",a=wf;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(n=s.identifierPrefix),s.onRecoverableError!==void 0&&(a=s.onRecoverableError)),s=Ju(t,1,!1,null,null,r,!1,n,a),t[Ts]=s.current,ni(t.nodeType===8?t.parentNode:t),new eh(s)};Rt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=Ux(s),t=t===null?null:t.stateNode,t};Rt.flushSync=function(t){return rn(t)};Rt.hydrate=function(t,s,r){if(!Co(s))throw Error(J(200));return Eo(null,t,s,!0,r)};Rt.hydrateRoot=function(t,s,r){if(!th(t))throw Error(J(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",l=wf;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),s=jf(s,null,t,1,r??null,a,!1,i,l),t[Ts]=s.current,ni(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,a]:s.mutableSourceEagerHydrationData.push(r,a);return new So(s)};Rt.render=function(t,s,r){if(!Co(s))throw Error(J(200));return Eo(null,t,s,!1,r)};Rt.unmountComponentAtNode=function(t){if(!Co(t))throw Error(J(40));return t._reactRootContainer?(rn(function(){Eo(null,null,t,!1,function(){t._reactRootContainer=null,t[Ts]=null})}),!0):!1};Rt.unstable_batchedUpdates=Zu;Rt.unstable_renderSubtreeIntoContainer=function(t,s,r,n){if(!Co(r))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return Eo(t,s,r,!1,n)};Rt.version="18.3.1-next-f1338f8080-20240426";function Nf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nf)}catch(t){console.error(t)}}Nf(),wx.exports=Rt;var Nv=wx.exports,_f,Fm=Nv;_f=Fm.createRoot,Fm.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mi(){return mi=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mi.apply(this,arguments)}var ir;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ir||(ir={}));const Om="popstate";function _v(t){t===void 0&&(t={});function s(n,a){let{pathname:i,search:l,hash:o}=n.location;return gd("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Gl(a)}return Sv(s,r,null,t)}function Be(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function kf(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function kv(){return Math.random().toString(36).substr(2,8)}function $m(t,s){return{usr:t.state,key:t.key,idx:s}}function gd(t,s,r,n){return r===void 0&&(r=null),mi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?xa(s):s,{state:r,key:s&&s.key||n||kv()})}function Gl(t){let{pathname:s="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function xa(t){let s={};if(t){let r=t.indexOf("#");r>=0&&(s.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(s.search=t.substr(n),t=t.substr(0,n)),t&&(s.pathname=t)}return s}function Sv(t,s,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,o=ir.Pop,c=null,d=m();d==null&&(d=0,l.replaceState(mi({},l.state,{idx:d}),""));function m(){return(l.state||{idx:null}).idx}function f(){o=ir.Pop;let w=m(),g=w==null?null:w-d;d=w,c&&c({action:o,location:b.location,delta:g})}function x(w,g){o=ir.Push;let h=gd(b.location,w,g);d=m()+1;let p=$m(h,d),k=b.createHref(h);try{l.pushState(p,"",k)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(k)}i&&c&&c({action:o,location:b.location,delta:1})}function j(w,g){o=ir.Replace;let h=gd(b.location,w,g);d=m();let p=$m(h,d),k=b.createHref(h);l.replaceState(p,"",k),i&&c&&c({action:o,location:b.location,delta:0})}function y(w){let g=a.location.origin!=="null"?a.location.origin:a.location.href,h=typeof w=="string"?w:Gl(w);return h=h.replace(/ $/,"%20"),Be(g,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,g)}let b={get action(){return o},get location(){return t(a,l)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Om,f),c=w,()=>{a.removeEventListener(Om,f),c=null}},createHref(w){return s(a,w)},createURL:y,encodeLocation(w){let g=y(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:x,replace:j,go(w){return l.go(w)}};return b}var Bm;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Bm||(Bm={}));function Cv(t,s,r){return r===void 0&&(r="/"),Ev(t,s,r)}function Ev(t,s,r,n){let a=typeof s=="string"?xa(s):s,i=sh(a.pathname||"/",r);if(i==null)return null;let l=Sf(t);Pv(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=zv(i);o=Bv(l[c],d)}return o}function Sf(t,s,r,n){s===void 0&&(s=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(Be(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=gr([n,c.relativePath]),m=r.concat(c);i.children&&i.children.length>0&&(Be(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Sf(i.children,s,m,d)),!(i.path==null&&!i.index)&&s.push({path:d,score:Ov(d,i.index),routesMeta:m})};return t.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,l);else for(let c of Cf(i.path))a(i,l,c)}),s}function Cf(t){let s=t.split("/");if(s.length===0)return[];let[r,...n]=s,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let l=Cf(n.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...l),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function Pv(t){t.sort((s,r)=>s.score!==r.score?r.score-s.score:$v(s.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Av=/^:[\w-]+$/,Rv=3,Mv=2,Lv=1,Tv=10,Fv=-2,Im=t=>t==="*";function Ov(t,s){let r=t.split("/"),n=r.length;return r.some(Im)&&(n+=Fv),s&&(n+=Mv),r.filter(a=>!Im(a)).reduce((a,i)=>a+(Av.test(i)?Rv:i===""?Lv:Tv),n)}function $v(t,s){return t.length===s.length&&t.slice(0,-1).every((n,a)=>n===s[a])?t[t.length-1]-s[s.length-1]:0}function Bv(t,s,r){let{routesMeta:n}=t,a={},i="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,m=i==="/"?s:s.slice(i.length)||"/",f=Iv({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),x=c.route;if(!f)return null;Object.assign(a,f.params),l.push({params:a,pathname:gr([i,f.pathname]),pathnameBase:Hv(gr([i,f.pathnameBase])),route:x}),f.pathnameBase!=="/"&&(i=gr([i,f.pathnameBase]))}return l}function Iv(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=qv(t.path,t.caseSensitive,t.end),a=s.match(r);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((d,m,f)=>{let{paramName:x,isOptional:j}=m;if(x==="*"){let b=o[f]||"";l=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const y=o[f];return j&&!y?d[x]=void 0:d[x]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:t}}function qv(t,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),kf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,s?void 0:"i"),n]}function zv(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return kf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function sh(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Dv(t,s){s===void 0&&(s="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?xa(t):t;return{pathname:r?r.startsWith("/")?r:Uv(r,s):s,search:Wv(n),hash:Qv(a)}}function Uv(t,s){let r=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function mc(t,s,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Vv(t){return t.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function rh(t,s){let r=Vv(t);return s?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function nh(t,s,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=xa(t):(a=mi({},t),Be(!a.pathname||!a.pathname.includes("?"),mc("?","pathname","search",a)),Be(!a.pathname||!a.pathname.includes("#"),mc("#","pathname","hash",a)),Be(!a.search||!a.search.includes("#"),mc("#","search","hash",a)));let i=t===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=r;else{let f=s.length-1;if(!n&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),f-=1;a.pathname=x.join("/")}o=f>=0?s[f]:"/"}let c=Dv(a,o),d=l&&l!=="/"&&l.endsWith("/"),m=(i||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}const gr=t=>t.join("/").replace(/\/\/+/g,"/"),Hv=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Wv=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Qv=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Zv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ef=["post","put","patch","delete"];new Set(Ef);const Kv=["get",...Ef];new Set(Kv);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xi(){return xi=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xi.apply(this,arguments)}const ah=u.createContext(null),Gv=u.createContext(null),Ar=u.createContext(null),Po=u.createContext(null),Bs=u.createContext({outlet:null,matches:[],isDataRoute:!1}),Pf=u.createContext(null);function Yv(t,s){let{relative:r}=s===void 0?{}:s;pa()||Be(!1);let{basename:n,navigator:a}=u.useContext(Ar),{hash:i,pathname:l,search:o}=Rf(t,{relative:r}),c=l;return n!=="/"&&(c=l==="/"?n:gr([n,l])),a.createHref({pathname:c,search:o,hash:i})}function pa(){return u.useContext(Po)!=null}function Rr(){return pa()||Be(!1),u.useContext(Po).location}function Af(t){u.useContext(Ar).static||u.useLayoutEffect(t)}function Is(){let{isDataRoute:t}=u.useContext(Bs);return t?d2():Jv()}function Jv(){pa()||Be(!1);let t=u.useContext(ah),{basename:s,future:r,navigator:n}=u.useContext(Ar),{matches:a}=u.useContext(Bs),{pathname:i}=Rr(),l=JSON.stringify(rh(a,r.v7_relativeSplatPath)),o=u.useRef(!1);return Af(()=>{o.current=!0}),u.useCallback(function(d,m){if(m===void 0&&(m={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let f=nh(d,JSON.parse(l),i,m.relative==="path");t==null&&s!=="/"&&(f.pathname=f.pathname==="/"?s:gr([s,f.pathname])),(m.replace?n.replace:n.push)(f,m.state,m)},[s,n,l,i,t])}function ih(){let{matches:t}=u.useContext(Bs),s=t[t.length-1];return s?s.params:{}}function Rf(t,s){let{relative:r}=s===void 0?{}:s,{future:n}=u.useContext(Ar),{matches:a}=u.useContext(Bs),{pathname:i}=Rr(),l=JSON.stringify(rh(a,n.v7_relativeSplatPath));return u.useMemo(()=>nh(t,JSON.parse(l),i,r==="path"),[t,l,i,r])}function Xv(t,s){return e2(t,s)}function e2(t,s,r,n){pa()||Be(!1);let{navigator:a}=u.useContext(Ar),{matches:i}=u.useContext(Bs),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=Rr(),m;if(s){var f;let w=typeof s=="string"?xa(s):s;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||Be(!1),m=w}else m=d;let x=m.pathname||"/",j=x;if(c!=="/"){let w=c.replace(/^\//,"").split("/");j="/"+x.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=Cv(t,{pathname:j}),b=a2(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:gr([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:gr([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return s&&b?u.createElement(Po.Provider,{value:{location:xi({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:ir.Pop}},b):b}function t2(){let t=c2(),s=Zv(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},s),r?u.createElement("pre",{style:a},r):null,null)}const s2=u.createElement(t2,null);class r2 extends u.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?u.createElement(Bs.Provider,{value:this.props.routeContext},u.createElement(Pf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function n2(t){let{routeContext:s,match:r,children:n}=t,a=u.useContext(ah);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),u.createElement(Bs.Provider,{value:s},n)}function a2(t,s,r,n){var a;if(s===void 0&&(s=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,o=(a=r)==null?void 0:a.errors;if(o!=null){let m=l.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);m>=0||Be(!1),l=l.slice(0,Math.min(l.length,m+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<l.length;m++){let f=l[m];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=m),f.route.id){let{loaderData:x,errors:j}=r,y=f.route.loader&&x[f.route.id]===void 0&&(!j||j[f.route.id]===void 0);if(f.route.lazy||y){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((m,f,x)=>{let j,y=!1,b=null,w=null;r&&(j=o&&f.route.id?o[f.route.id]:void 0,b=f.route.errorElement||s2,c&&(d<0&&x===0?(u2("route-fallback"),y=!0,w=null):d===x&&(y=!0,w=f.route.hydrateFallbackElement||null)));let g=s.concat(l.slice(0,x+1)),h=()=>{let p;return j?p=b:y?p=w:f.route.Component?p=u.createElement(f.route.Component,null):f.route.element?p=f.route.element:p=m,u.createElement(n2,{match:f,routeContext:{outlet:m,matches:g,isDataRoute:r!=null},children:p})};return r&&(f.route.ErrorBoundary||f.route.errorElement||x===0)?u.createElement(r2,{location:r.location,revalidation:r.revalidation,component:b,error:j,children:h(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):h()},null)}var Mf=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Mf||{}),Lf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Lf||{});function i2(t){let s=u.useContext(ah);return s||Be(!1),s}function l2(t){let s=u.useContext(Gv);return s||Be(!1),s}function o2(t){let s=u.useContext(Bs);return s||Be(!1),s}function Tf(t){let s=o2(),r=s.matches[s.matches.length-1];return r.route.id||Be(!1),r.route.id}function c2(){var t;let s=u.useContext(Pf),r=l2(),n=Tf();return s!==void 0?s:(t=r.errors)==null?void 0:t[n]}function d2(){let{router:t}=i2(Mf.UseNavigateStable),s=Tf(Lf.UseNavigateStable),r=u.useRef(!1);return Af(()=>{r.current=!0}),u.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,xi({fromRouteId:s},i)))},[t,s])}const qm={};function u2(t,s,r){qm[t]||(qm[t]=!0)}function h2(t,s){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ff(t){let{to:s,replace:r,state:n,relative:a}=t;pa()||Be(!1);let{future:i,static:l}=u.useContext(Ar),{matches:o}=u.useContext(Bs),{pathname:c}=Rr(),d=Is(),m=nh(s,rh(o,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(m);return u.useEffect(()=>d(JSON.parse(f),{replace:r,state:n,relative:a}),[d,f,a,r,n]),null}function ke(t){Be(!1)}function m2(t){let{basename:s="/",children:r=null,location:n,navigationType:a=ir.Pop,navigator:i,static:l=!1,future:o}=t;pa()&&Be(!1);let c=s.replace(/^\/*/,"/"),d=u.useMemo(()=>({basename:c,navigator:i,static:l,future:xi({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof n=="string"&&(n=xa(n));let{pathname:m="/",search:f="",hash:x="",state:j=null,key:y="default"}=n,b=u.useMemo(()=>{let w=sh(m,c);return w==null?null:{location:{pathname:w,search:f,hash:x,state:j,key:y},navigationType:a}},[c,m,f,x,j,y,a]);return b==null?null:u.createElement(Ar.Provider,{value:d},u.createElement(Po.Provider,{children:r,value:b}))}function x2(t){let{children:s,location:r}=t;return Xv(yd(s),r)}new Promise(()=>{});function yd(t,s){s===void 0&&(s=[]);let r=[];return u.Children.forEach(t,(n,a)=>{if(!u.isValidElement(n))return;let i=[...s,a];if(n.type===u.Fragment){r.push.apply(r,yd(n.props.children,i));return}n.type!==ke&&Be(!1),!n.props.index||!n.props.children||Be(!1);let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=yd(n.props.children,i)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bd(){return bd=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bd.apply(this,arguments)}function p2(t,s){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(s.indexOf(a)>=0)&&(r[a]=t[a]);return r}function f2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function g2(t,s){return t.button===0&&(!s||s==="_self")&&!f2(t)}function vd(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((s,r)=>{let n=t[r];return s.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function y2(t,s){let r=vd(t);return s&&s.forEach((n,a)=>{r.has(a)||s.getAll(a).forEach(i=>{r.append(a,i)})}),r}const b2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],v2="6";try{window.__reactRouterVersion=v2}catch{}const j2="startTransition",zm=hy[j2];function w2(t){let{basename:s,children:r,future:n,window:a}=t,i=u.useRef();i.current==null&&(i.current=_v({window:a,v5Compat:!0}));let l=i.current,[o,c]=u.useState({action:l.action,location:l.location}),{v7_startTransition:d}=n||{},m=u.useCallback(f=>{d&&zm?zm(()=>c(f)):c(f)},[c,d]);return u.useLayoutEffect(()=>l.listen(m),[l,m]),u.useEffect(()=>h2(n),[n]),u.createElement(m2,{basename:s,children:r,location:o.location,navigationType:o.action,navigator:l,future:n})}const N2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z=u.forwardRef(function(s,r){let{onClick:n,relative:a,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:m,viewTransition:f}=s,x=p2(s,b2),{basename:j}=u.useContext(Ar),y,b=!1;if(typeof d=="string"&&_2.test(d)&&(y=d,N2))try{let p=new URL(window.location.href),k=d.startsWith("//")?new URL(p.protocol+d):new URL(d),E=sh(k.pathname,j);k.origin===p.origin&&E!=null?d=E+k.search+k.hash:b=!0}catch{}let w=Yv(d,{relative:a}),g=k2(d,{replace:l,state:o,target:c,preventScrollReset:m,relative:a,viewTransition:f});function h(p){n&&n(p),p.defaultPrevented||g(p)}return u.createElement("a",bd({},x,{href:y||w,onClick:b||i?n:h,ref:r,target:c}))});var Dm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Dm||(Dm={}));var Um;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Um||(Um={}));function k2(t,s){let{target:r,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:o}=s===void 0?{}:s,c=Is(),d=Rr(),m=Rf(t,{relative:l});return u.useCallback(f=>{if(g2(f,r)){f.preventDefault();let x=n!==void 0?n:Gl(d)===Gl(m);c(t,{replace:x,state:a,preventScrollReset:i,relative:l,viewTransition:o})}},[d,c,m,n,a,r,t,i,l,o])}function nt(t){let s=u.useRef(vd(t)),r=u.useRef(!1),n=Rr(),a=u.useMemo(()=>y2(n.search,r.current?null:s.current),[n.search]),i=Is(),l=u.useCallback((o,c)=>{const d=vd(typeof o=="function"?o(a):o);r.current=!0,i("?"+d,c)},[i,a]);return[a,l]}var fa=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},S2={setTimeout:(t,s)=>setTimeout(t,s),clearTimeout:t=>clearTimeout(t),setInterval:(t,s)=>setInterval(t,s),clearInterval:t=>clearInterval(t)},Ks,lu,ex,C2=(ex=class{constructor(){oe(this,Ks,S2);oe(this,lu,!1)}setTimeoutProvider(t){te(this,Ks,t)}setTimeout(t,s){return F(this,Ks).setTimeout(t,s)}clearTimeout(t){F(this,Ks).clearTimeout(t)}setInterval(t,s){return F(this,Ks).setInterval(t,s)}clearInterval(t){F(this,Ks).clearInterval(t)}},Ks=new WeakMap,lu=new WeakMap,ex),Br=new C2;function E2(t){setTimeout(t,0)}var nn=typeof window>"u"||"Deno"in globalThis;function ot(){}function P2(t,s){return typeof t=="function"?t(s):t}function jd(t){return typeof t=="number"&&t>=0&&t!==1/0}function Of(t,s){return Math.max(t+(s||0)-Date.now(),0)}function yr(t,s){return typeof t=="function"?t(s):t}function Tt(t,s){return typeof t=="function"?t(s):t}function Vm(t,s){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:l,stale:o}=t;if(l){if(n){if(s.queryHash!==lh(l,s.options))return!1}else if(!pi(s.queryKey,l))return!1}if(r!=="all"){const c=s.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&s.isStale()!==o||a&&a!==s.state.fetchStatus||i&&!i(s))}function Hm(t,s){const{exact:r,status:n,predicate:a,mutationKey:i}=t;if(i){if(!s.options.mutationKey)return!1;if(r){if(an(s.options.mutationKey)!==an(i))return!1}else if(!pi(s.options.mutationKey,i))return!1}return!(n&&s.state.status!==n||a&&!a(s))}function lh(t,s){return((s==null?void 0:s.queryKeyHashFn)||an)(t)}function an(t){return JSON.stringify(t,(s,r)=>wd(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function pi(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?Object.keys(s).every(r=>pi(t[r],s[r])):!1}var A2=Object.prototype.hasOwnProperty;function $f(t,s){if(t===s)return t;const r=Wm(t)&&Wm(s);if(!r&&!(wd(t)&&wd(s)))return s;const a=(r?t:Object.keys(t)).length,i=r?s:Object.keys(s),l=i.length,o=r?new Array(l):{};let c=0;for(let d=0;d<l;d++){const m=r?d:i[d],f=t[m],x=s[m];if(f===x){o[m]=f,(r?d<a:A2.call(t,m))&&c++;continue}if(f===null||x===null||typeof f!="object"||typeof x!="object"){o[m]=x;continue}const j=$f(f,x);o[m]=j,j===f&&c++}return a===l&&c===a?t:o}function Yl(t,s){if(!s||Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}function Wm(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function wd(t){if(!Qm(t))return!1;const s=t.constructor;if(s===void 0)return!0;const r=s.prototype;return!(!Qm(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Qm(t){return Object.prototype.toString.call(t)==="[object Object]"}function R2(t){return new Promise(s=>{Br.setTimeout(s,t)})}function Nd(t,s,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,s):r.structuralSharing!==!1?$f(t,s):s}function M2(t,s,r=0){const n=[...t,s];return r&&n.length>r?n.slice(1):n}function L2(t,s,r=0){const n=[s,...t];return r&&n.length>r?n.slice(0,-1):n}var oh=Symbol();function Bf(t,s){return!t.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!t.queryFn||t.queryFn===oh?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function If(t,s){return typeof t=="function"?t(...s):!!t}var qr,Gs,On,tx,T2=(tx=class extends fa{constructor(){super();oe(this,qr);oe(this,Gs);oe(this,On);te(this,On,s=>{if(!nn&&window.addEventListener){const r=()=>s();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){F(this,Gs)||this.setEventListener(F(this,On))}onUnsubscribe(){var s;this.hasListeners()||((s=F(this,Gs))==null||s.call(this),te(this,Gs,void 0))}setEventListener(s){var r;te(this,On,s),(r=F(this,Gs))==null||r.call(this),te(this,Gs,s(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(s){F(this,qr)!==s&&(te(this,qr,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(r=>{r(s)})}isFocused(){var s;return typeof F(this,qr)=="boolean"?F(this,qr):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},qr=new WeakMap,Gs=new WeakMap,On=new WeakMap,tx),ch=new T2;function _d(){let t,s;const r=new Promise((a,i)=>{t=a,s=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),t(a)},r.reject=a=>{n({status:"rejected",reason:a}),s(a)},r}var F2=E2;function O2(){let t=[],s=0,r=o=>{o()},n=o=>{o()},a=F2;const i=o=>{s?t.push(o):a(()=>{r(o)})},l=()=>{const o=t;t=[],o.length&&a(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;s++;try{c=o()}finally{s--,s||l()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var Ve=O2(),$n,Ys,Bn,sx,$2=(sx=class extends fa{constructor(){super();oe(this,$n,!0);oe(this,Ys);oe(this,Bn);te(this,Bn,s=>{if(!nn&&window.addEventListener){const r=()=>s(!0),n=()=>s(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){F(this,Ys)||this.setEventListener(F(this,Bn))}onUnsubscribe(){var s;this.hasListeners()||((s=F(this,Ys))==null||s.call(this),te(this,Ys,void 0))}setEventListener(s){var r;te(this,Bn,s),(r=F(this,Ys))==null||r.call(this),te(this,Ys,s(this.setOnline.bind(this)))}setOnline(s){F(this,$n)!==s&&(te(this,$n,s),this.listeners.forEach(n=>{n(s)}))}isOnline(){return F(this,$n)}},$n=new WeakMap,Ys=new WeakMap,Bn=new WeakMap,sx),Jl=new $2;function B2(t){return Math.min(1e3*2**t,3e4)}function qf(t){return(t??"online")==="online"?Jl.isOnline():!0}var kd=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function zf(t){let s=!1,r=0,n;const a=_d(),i=()=>a.status!=="pending",l=b=>{var w;if(!i()){const g=new kd(b);x(g),(w=t.onCancel)==null||w.call(t,g)}},o=()=>{s=!0},c=()=>{s=!1},d=()=>ch.isFocused()&&(t.networkMode==="always"||Jl.isOnline())&&t.canRun(),m=()=>qf(t.networkMode)&&t.canRun(),f=b=>{i()||(n==null||n(),a.resolve(b))},x=b=>{i()||(n==null||n(),a.reject(b))},j=()=>new Promise(b=>{var w;n=g=>{(i()||d())&&b(g)},(w=t.onPause)==null||w.call(t)}).then(()=>{var b;n=void 0,i()||(b=t.onContinue)==null||b.call(t)}),y=()=>{if(i())return;let b;const w=r===0?t.initialPromise:void 0;try{b=w??t.fn()}catch(g){b=Promise.reject(g)}Promise.resolve(b).then(f).catch(g=>{var I;if(i())return;const h=t.retry??(nn?0:3),p=t.retryDelay??B2,k=typeof p=="function"?p(r,g):p,E=h===!0||typeof h=="number"&&r<h||typeof h=="function"&&h(r,g);if(s||!E){x(g);return}r++,(I=t.onFail)==null||I.call(t,r,g),R2(k).then(()=>d()?void 0:j()).then(()=>{s?x(g):y()})})};return{promise:a,status:()=>a.status,cancel:l,continue:()=>(n==null||n(),a),cancelRetry:o,continueRetry:c,canStart:m,start:()=>(m()?y():j().then(y),a)}}var zr,rx,Df=(rx=class{constructor(){oe(this,zr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),jd(this.gcTime)&&te(this,zr,Br.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(nn?1/0:5*60*1e3))}clearGcTimeout(){F(this,zr)&&(Br.clearTimeout(F(this,zr)),te(this,zr,void 0))}},zr=new WeakMap,rx),Dr,In,Lt,Ur,We,vi,Vr,Qt,vs,nx,I2=(nx=class extends Df{constructor(s){super();oe(this,Qt);oe(this,Dr);oe(this,In);oe(this,Lt);oe(this,Ur);oe(this,We);oe(this,vi);oe(this,Vr);te(this,Vr,!1),te(this,vi,s.defaultOptions),this.setOptions(s.options),this.observers=[],te(this,Ur,s.client),te(this,Lt,F(this,Ur).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,te(this,Dr,Zm(this.options)),this.state=s.state??F(this,Dr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=F(this,We))==null?void 0:s.promise}setOptions(s){if(this.options={...F(this,vi),...s},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Zm(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),te(this,Dr,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,Lt).remove(this)}setData(s,r){const n=Nd(this.state.data,s,this.options);return me(this,Qt,vs).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(s,r){me(this,Qt,vs).call(this,{type:"setState",state:s,setStateOptions:r})}cancel(s){var n,a;const r=(n=F(this,We))==null?void 0:n.promise;return(a=F(this,We))==null||a.cancel(s),r?r.then(ot).catch(ot):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,Dr))}isActive(){return this.observers.some(s=>Tt(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===oh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>yr(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!Of(this.state.dataUpdatedAt,s)}onFocus(){var r;const s=this.observers.find(n=>n.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(r=F(this,We))==null||r.continue()}onOnline(){var r;const s=this.observers.find(n=>n.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(r=F(this,We))==null||r.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),F(this,Lt).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(r=>r!==s),this.observers.length||(F(this,We)&&(F(this,Vr)?F(this,We).cancel({revert:!0}):F(this,We).cancelRetry()),this.scheduleGc()),F(this,Lt).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||me(this,Qt,vs).call(this,{type:"invalidate"})}async fetch(s,r){var c,d,m,f,x,j,y,b,w,g,h,p;if(this.state.fetchStatus!=="idle"&&((c=F(this,We))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,We))return F(this,We).continueRetry(),F(this,We).promise}if(s&&this.setOptions(s),!this.options.queryFn){const k=this.observers.find(E=>E.options.queryFn);k&&this.setOptions(k.options)}const n=new AbortController,a=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(te(this,Vr,!0),n.signal)})},i=()=>{const k=Bf(this.options,r),I=(()=>{const _={client:F(this,Ur),queryKey:this.queryKey,meta:this.meta};return a(_),_})();return te(this,Vr,!1),this.options.persister?this.options.persister(k,I,this):k(I)},o=(()=>{const k={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,Ur),state:this.state,fetchFn:i};return a(k),k})();(d=this.options.behavior)==null||d.onFetch(o,this),te(this,In,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=o.fetchOptions)==null?void 0:m.meta))&&me(this,Qt,vs).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta}),te(this,We,zf({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:k=>{k instanceof kd&&k.revert&&this.setState({...F(this,In),fetchStatus:"idle"}),n.abort()},onFail:(k,E)=>{me(this,Qt,vs).call(this,{type:"failed",failureCount:k,error:E})},onPause:()=>{me(this,Qt,vs).call(this,{type:"pause"})},onContinue:()=>{me(this,Qt,vs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const k=await F(this,We).start();if(k===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(k),(j=(x=F(this,Lt).config).onSuccess)==null||j.call(x,k,this),(b=(y=F(this,Lt).config).onSettled)==null||b.call(y,k,this.state.error,this),k}catch(k){if(k instanceof kd){if(k.silent)return F(this,We).promise;if(k.revert){if(this.state.data===void 0)throw k;return this.state.data}}throw me(this,Qt,vs).call(this,{type:"error",error:k}),(g=(w=F(this,Lt).config).onError)==null||g.call(w,k,this),(p=(h=F(this,Lt).config).onSettled)==null||p.call(h,this.state.data,k,this),k}finally{this.scheduleGc()}}},Dr=new WeakMap,In=new WeakMap,Lt=new WeakMap,Ur=new WeakMap,We=new WeakMap,vi=new WeakMap,Vr=new WeakMap,Qt=new WeakSet,vs=function(s){const r=n=>{switch(s.type){case"failed":return{...n,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Uf(n.data,this.options),fetchMeta:s.meta??null};case"success":const a={...n,data:s.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return te(this,In,s.manual?a:void 0),a;case"error":const i=s.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...s.state}}};this.state=r(this.state),Ve.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),F(this,Lt).notify({query:this,type:"updated",action:s})})},nx);function Uf(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qf(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Zm(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,r=s!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var mt,ye,ji,at,Hr,qn,Ns,Js,wi,zn,Dn,Wr,Qr,Xs,Un,_e,Fa,Sd,Cd,Ed,Pd,Ad,Rd,Md,Vf,ax,q2=(ax=class extends fa{constructor(s,r){super();oe(this,_e);oe(this,mt);oe(this,ye);oe(this,ji);oe(this,at);oe(this,Hr);oe(this,qn);oe(this,Ns);oe(this,Js);oe(this,wi);oe(this,zn);oe(this,Dn);oe(this,Wr);oe(this,Qr);oe(this,Xs);oe(this,Un,new Set);this.options=r,te(this,mt,s),te(this,Js,null),te(this,Ns,_d()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,ye).addObserver(this),Km(F(this,ye),this.options)?me(this,_e,Fa).call(this):this.updateResult(),me(this,_e,Pd).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ld(F(this,ye),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ld(F(this,ye),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,me(this,_e,Ad).call(this),me(this,_e,Rd).call(this),F(this,ye).removeObserver(this)}setOptions(s){const r=this.options,n=F(this,ye);if(this.options=F(this,mt).defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Tt(this.options.enabled,F(this,ye))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");me(this,_e,Md).call(this),F(this,ye).setOptions(this.options),r._defaulted&&!Yl(this.options,r)&&F(this,mt).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,ye),observer:this});const a=this.hasListeners();a&&Gm(F(this,ye),n,this.options,r)&&me(this,_e,Fa).call(this),this.updateResult(),a&&(F(this,ye)!==n||Tt(this.options.enabled,F(this,ye))!==Tt(r.enabled,F(this,ye))||yr(this.options.staleTime,F(this,ye))!==yr(r.staleTime,F(this,ye)))&&me(this,_e,Sd).call(this);const i=me(this,_e,Cd).call(this);a&&(F(this,ye)!==n||Tt(this.options.enabled,F(this,ye))!==Tt(r.enabled,F(this,ye))||i!==F(this,Xs))&&me(this,_e,Ed).call(this,i)}getOptimisticResult(s){const r=F(this,mt).getQueryCache().build(F(this,mt),s),n=this.createResult(r,s);return D2(this,n)&&(te(this,at,n),te(this,qn,this.options),te(this,Hr,F(this,ye).state)),n}getCurrentResult(){return F(this,at)}trackResult(s,r){return new Proxy(s,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&!this.options.experimental_prefetchInRender&&F(this,Ns).status==="pending"&&F(this,Ns).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,a))})}trackProp(s){F(this,Un).add(s)}getCurrentQuery(){return F(this,ye)}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const r=F(this,mt).defaultQueryOptions(s),n=F(this,mt).getQueryCache().build(F(this,mt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(s){return me(this,_e,Fa).call(this,{...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,at)))}createResult(s,r){var L;const n=F(this,ye),a=this.options,i=F(this,at),l=F(this,Hr),o=F(this,qn),d=s!==n?s.state:F(this,ji),{state:m}=s;let f={...m},x=!1,j;if(r._optimisticResults){const q=this.hasListeners(),D=!q&&Km(s,r),R=q&&Gm(s,n,r,a);(D||R)&&(f={...f,...Uf(m.data,s.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:b,status:w}=f;j=f.data;let g=!1;if(r.placeholderData!==void 0&&j===void 0&&w==="pending"){let q;i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(q=i.data,g=!0):q=typeof r.placeholderData=="function"?r.placeholderData((L=F(this,Dn))==null?void 0:L.state.data,F(this,Dn)):r.placeholderData,q!==void 0&&(w="success",j=Nd(i==null?void 0:i.data,q,r),x=!0)}if(r.select&&j!==void 0&&!g)if(i&&j===(l==null?void 0:l.data)&&r.select===F(this,wi))j=F(this,zn);else try{te(this,wi,r.select),j=r.select(j),j=Nd(i==null?void 0:i.data,j,r),te(this,zn,j),te(this,Js,null)}catch(q){te(this,Js,q)}F(this,Js)&&(y=F(this,Js),j=F(this,zn),b=Date.now(),w="error");const h=f.fetchStatus==="fetching",p=w==="pending",k=w==="error",E=p&&h,I=j!==void 0,T={status:w,fetchStatus:f.fetchStatus,isPending:p,isSuccess:w==="success",isError:k,isInitialLoading:E,isLoading:E,data:j,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:b,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:h,isRefetching:h&&!p,isLoadingError:k&&!I,isPaused:f.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:k&&I,isStale:dh(s,r),refetch:this.refetch,promise:F(this,Ns),isEnabled:Tt(r.enabled,s)!==!1};if(this.options.experimental_prefetchInRender){const q=B=>{T.status==="error"?B.reject(T.error):T.data!==void 0&&B.resolve(T.data)},D=()=>{const B=te(this,Ns,T.promise=_d());q(B)},R=F(this,Ns);switch(R.status){case"pending":s.queryHash===n.queryHash&&q(R);break;case"fulfilled":(T.status==="error"||T.data!==R.value)&&D();break;case"rejected":(T.status!=="error"||T.error!==R.reason)&&D();break}}return T}updateResult(){const s=F(this,at),r=this.createResult(F(this,ye),this.options);if(te(this,Hr,F(this,ye).state),te(this,qn,this.options),F(this,Hr).data!==void 0&&te(this,Dn,F(this,ye)),Yl(r,s))return;te(this,at,r);const n=()=>{if(!s)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!F(this,Un).size)return!0;const l=new Set(i??F(this,Un));return this.options.throwOnError&&l.add("error"),Object.keys(F(this,at)).some(o=>{const c=o;return F(this,at)[c]!==s[c]&&l.has(c)})};me(this,_e,Vf).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&me(this,_e,Pd).call(this)}},mt=new WeakMap,ye=new WeakMap,ji=new WeakMap,at=new WeakMap,Hr=new WeakMap,qn=new WeakMap,Ns=new WeakMap,Js=new WeakMap,wi=new WeakMap,zn=new WeakMap,Dn=new WeakMap,Wr=new WeakMap,Qr=new WeakMap,Xs=new WeakMap,Un=new WeakMap,_e=new WeakSet,Fa=function(s){me(this,_e,Md).call(this);let r=F(this,ye).fetch(this.options,s);return s!=null&&s.throwOnError||(r=r.catch(ot)),r},Sd=function(){me(this,_e,Ad).call(this);const s=yr(this.options.staleTime,F(this,ye));if(nn||F(this,at).isStale||!jd(s))return;const n=Of(F(this,at).dataUpdatedAt,s)+1;te(this,Wr,Br.setTimeout(()=>{F(this,at).isStale||this.updateResult()},n))},Cd=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,ye)):this.options.refetchInterval)??!1},Ed=function(s){me(this,_e,Rd).call(this),te(this,Xs,s),!(nn||Tt(this.options.enabled,F(this,ye))===!1||!jd(F(this,Xs))||F(this,Xs)===0)&&te(this,Qr,Br.setInterval(()=>{(this.options.refetchIntervalInBackground||ch.isFocused())&&me(this,_e,Fa).call(this)},F(this,Xs)))},Pd=function(){me(this,_e,Sd).call(this),me(this,_e,Ed).call(this,me(this,_e,Cd).call(this))},Ad=function(){F(this,Wr)&&(Br.clearTimeout(F(this,Wr)),te(this,Wr,void 0))},Rd=function(){F(this,Qr)&&(Br.clearInterval(F(this,Qr)),te(this,Qr,void 0))},Md=function(){const s=F(this,mt).getQueryCache().build(F(this,mt),this.options);if(s===F(this,ye))return;const r=F(this,ye);te(this,ye,s),te(this,ji,s.state),this.hasListeners()&&(r==null||r.removeObserver(this),s.addObserver(this))},Vf=function(s){Ve.batch(()=>{s.listeners&&this.listeners.forEach(r=>{r(F(this,at))}),F(this,mt).getQueryCache().notify({query:F(this,ye),type:"observerResultsUpdated"})})},ax);function z2(t,s){return Tt(s.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&s.retryOnMount===!1)}function Km(t,s){return z2(t,s)||t.state.data!==void 0&&Ld(t,s,s.refetchOnMount)}function Ld(t,s,r){if(Tt(s.enabled,t)!==!1&&yr(s.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&dh(t,s)}return!1}function Gm(t,s,r,n){return(t!==s||Tt(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&dh(t,r)}function dh(t,s){return Tt(s.enabled,t)!==!1&&t.isStaleByTime(yr(s.staleTime,t))}function D2(t,s){return!Yl(t.getCurrentResult(),s)}function Ym(t){return{onFetch:(s,r)=>{var m,f,x,j,y;const n=s.options,a=(x=(f=(m=s.fetchOptions)==null?void 0:m.meta)==null?void 0:f.fetchMore)==null?void 0:x.direction,i=((j=s.state.data)==null?void 0:j.pages)||[],l=((y=s.state.data)==null?void 0:y.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let b=!1;const w=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(s.signal.aborted?b=!0:s.signal.addEventListener("abort",()=>{b=!0}),s.signal)})},g=Bf(s.options,s.fetchOptions),h=async(p,k,E)=>{if(b)return Promise.reject();if(k==null&&p.pages.length)return Promise.resolve(p);const _=(()=>{const D={client:s.client,queryKey:s.queryKey,pageParam:k,direction:E?"backward":"forward",meta:s.options.meta};return w(D),D})(),T=await g(_),{maxPages:L}=s.options,q=E?L2:M2;return{pages:q(p.pages,T,L),pageParams:q(p.pageParams,k,L)}};if(a&&i.length){const p=a==="backward",k=p?U2:Jm,E={pages:i,pageParams:l},I=k(n,E);o=await h(E,I,p)}else{const p=t??i.length;do{const k=c===0?l[0]??n.initialPageParam:Jm(n,o);if(c>0&&k==null)break;o=await h(o,k),c++}while(c<p)}return o};s.options.persister?s.fetchFn=()=>{var b,w;return(w=(b=s.options).persister)==null?void 0:w.call(b,d,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},r)}:s.fetchFn=d}}}function Jm(t,{pages:s,pageParams:r}){const n=s.length-1;return s.length>0?t.getNextPageParam(s[n],s,r[n],r):void 0}function U2(t,{pages:s,pageParams:r}){var n;return s.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,s[0],s,r[0],r):void 0}var Ni,os,it,Zr,cs,zs,ix,V2=(ix=class extends Df{constructor(s){super();oe(this,cs);oe(this,Ni);oe(this,os);oe(this,it);oe(this,Zr);te(this,Ni,s.client),this.mutationId=s.mutationId,te(this,it,s.mutationCache),te(this,os,[]),this.state=s.state||Hf(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){F(this,os).includes(s)||(F(this,os).push(s),this.clearGcTimeout(),F(this,it).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){te(this,os,F(this,os).filter(r=>r!==s)),this.scheduleGc(),F(this,it).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){F(this,os).length||(this.state.status==="pending"?this.scheduleGc():F(this,it).remove(this))}continue(){var s;return((s=F(this,Zr))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var l,o,c,d,m,f,x,j,y,b,w,g,h,p,k,E,I,_,T,L;const r=()=>{me(this,cs,zs).call(this,{type:"continue"})},n={client:F(this,Ni),meta:this.options.meta,mutationKey:this.options.mutationKey};te(this,Zr,zf({fn:()=>this.options.mutationFn?this.options.mutationFn(s,n):Promise.reject(new Error("No mutationFn found")),onFail:(q,D)=>{me(this,cs,zs).call(this,{type:"failed",failureCount:q,error:D})},onPause:()=>{me(this,cs,zs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,it).canRun(this)}));const a=this.state.status==="pending",i=!F(this,Zr).canStart();try{if(a)r();else{me(this,cs,zs).call(this,{type:"pending",variables:s,isPaused:i}),await((o=(l=F(this,it).config).onMutate)==null?void 0:o.call(l,s,this,n));const D=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,s,n));D!==this.state.context&&me(this,cs,zs).call(this,{type:"pending",context:D,variables:s,isPaused:i})}const q=await F(this,Zr).start();return await((f=(m=F(this,it).config).onSuccess)==null?void 0:f.call(m,q,s,this.state.context,this,n)),await((j=(x=this.options).onSuccess)==null?void 0:j.call(x,q,s,this.state.context,n)),await((b=(y=F(this,it).config).onSettled)==null?void 0:b.call(y,q,null,this.state.variables,this.state.context,this,n)),await((g=(w=this.options).onSettled)==null?void 0:g.call(w,q,null,s,this.state.context,n)),me(this,cs,zs).call(this,{type:"success",data:q}),q}catch(q){try{throw await((p=(h=F(this,it).config).onError)==null?void 0:p.call(h,q,s,this.state.context,this,n)),await((E=(k=this.options).onError)==null?void 0:E.call(k,q,s,this.state.context,n)),await((_=(I=F(this,it).config).onSettled)==null?void 0:_.call(I,void 0,q,this.state.variables,this.state.context,this,n)),await((L=(T=this.options).onSettled)==null?void 0:L.call(T,void 0,q,s,this.state.context,n)),q}finally{me(this,cs,zs).call(this,{type:"error",error:q})}}finally{F(this,it).runNext(this)}}},Ni=new WeakMap,os=new WeakMap,it=new WeakMap,Zr=new WeakMap,cs=new WeakSet,zs=function(s){const r=n=>{switch(s.type){case"failed":return{...n,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...n,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:s.error,failureCount:n.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ve.batch(()=>{F(this,os).forEach(n=>{n.onMutationUpdate(s)}),F(this,it).notify({mutation:this,type:"updated",action:s})})},ix);function Hf(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _s,Zt,_i,lx,H2=(lx=class extends fa{constructor(s={}){super();oe(this,_s);oe(this,Zt);oe(this,_i);this.config=s,te(this,_s,new Set),te(this,Zt,new Map),te(this,_i,0)}build(s,r,n){const a=new V2({client:s,mutationCache:this,mutationId:++Fi(this,_i)._,options:s.defaultMutationOptions(r),state:n});return this.add(a),a}add(s){F(this,_s).add(s);const r=Xi(s);if(typeof r=="string"){const n=F(this,Zt).get(r);n?n.push(s):F(this,Zt).set(r,[s])}this.notify({type:"added",mutation:s})}remove(s){if(F(this,_s).delete(s)){const r=Xi(s);if(typeof r=="string"){const n=F(this,Zt).get(r);if(n)if(n.length>1){const a=n.indexOf(s);a!==-1&&n.splice(a,1)}else n[0]===s&&F(this,Zt).delete(r)}}this.notify({type:"removed",mutation:s})}canRun(s){const r=Xi(s);if(typeof r=="string"){const n=F(this,Zt).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===s}else return!0}runNext(s){var n;const r=Xi(s);if(typeof r=="string"){const a=(n=F(this,Zt).get(r))==null?void 0:n.find(i=>i!==s&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ve.batch(()=>{F(this,_s).forEach(s=>{this.notify({type:"removed",mutation:s})}),F(this,_s).clear(),F(this,Zt).clear()})}getAll(){return Array.from(F(this,_s))}find(s){const r={exact:!0,...s};return this.getAll().find(n=>Hm(r,n))}findAll(s={}){return this.getAll().filter(r=>Hm(s,r))}notify(s){Ve.batch(()=>{this.listeners.forEach(r=>{r(s)})})}resumePausedMutations(){const s=this.getAll().filter(r=>r.state.isPaused);return Ve.batch(()=>Promise.all(s.map(r=>r.continue().catch(ot))))}},_s=new WeakMap,Zt=new WeakMap,_i=new WeakMap,lx);function Xi(t){var s;return(s=t.options.scope)==null?void 0:s.id}var ks,er,xt,Ss,Ms,fl,Td,ox,W2=(ox=class extends fa{constructor(r,n){super();oe(this,Ms);oe(this,ks);oe(this,er);oe(this,xt);oe(this,Ss);te(this,ks,r),this.setOptions(n),this.bindMethods(),me(this,Ms,fl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=F(this,ks).defaultMutationOptions(r),Yl(this.options,n)||F(this,ks).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,xt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&an(n.mutationKey)!==an(this.options.mutationKey)?this.reset():((a=F(this,xt))==null?void 0:a.state.status)==="pending"&&F(this,xt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=F(this,xt))==null||r.removeObserver(this)}onMutationUpdate(r){me(this,Ms,fl).call(this),me(this,Ms,Td).call(this,r)}getCurrentResult(){return F(this,er)}reset(){var r;(r=F(this,xt))==null||r.removeObserver(this),te(this,xt,void 0),me(this,Ms,fl).call(this),me(this,Ms,Td).call(this)}mutate(r,n){var a;return te(this,Ss,n),(a=F(this,xt))==null||a.removeObserver(this),te(this,xt,F(this,ks).getMutationCache().build(F(this,ks),this.options)),F(this,xt).addObserver(this),F(this,xt).execute(r)}},ks=new WeakMap,er=new WeakMap,xt=new WeakMap,Ss=new WeakMap,Ms=new WeakSet,fl=function(){var n;const r=((n=F(this,xt))==null?void 0:n.state)??Hf();te(this,er,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Td=function(r){Ve.batch(()=>{var n,a,i,l,o,c,d,m;if(F(this,Ss)&&this.hasListeners()){const f=F(this,er).variables,x=F(this,er).context,j={client:F(this,ks),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((a=(n=F(this,Ss)).onSuccess)==null||a.call(n,r.data,f,x,j),(l=(i=F(this,Ss)).onSettled)==null||l.call(i,r.data,null,f,x,j)):(r==null?void 0:r.type)==="error"&&((c=(o=F(this,Ss)).onError)==null||c.call(o,r.error,f,x,j),(m=(d=F(this,Ss)).onSettled)==null||m.call(d,void 0,r.error,f,x,j))}this.listeners.forEach(f=>{f(F(this,er))})})},ox),ds,cx,Q2=(cx=class extends fa{constructor(s={}){super();oe(this,ds);this.config=s,te(this,ds,new Map)}build(s,r,n){const a=r.queryKey,i=r.queryHash??lh(a,r);let l=this.get(i);return l||(l=new I2({client:s,queryKey:a,queryHash:i,options:s.defaultQueryOptions(r),state:n,defaultOptions:s.getQueryDefaults(a)}),this.add(l)),l}add(s){F(this,ds).has(s.queryHash)||(F(this,ds).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const r=F(this,ds).get(s.queryHash);r&&(s.destroy(),r===s&&F(this,ds).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){Ve.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return F(this,ds).get(s)}getAll(){return[...F(this,ds).values()]}find(s){const r={exact:!0,...s};return this.getAll().find(n=>Vm(r,n))}findAll(s={}){const r=this.getAll();return Object.keys(s).length>0?r.filter(n=>Vm(s,n)):r}notify(s){Ve.batch(()=>{this.listeners.forEach(r=>{r(s)})})}onFocus(){Ve.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){Ve.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},ds=new WeakMap,cx),Fe,tr,sr,Vn,Hn,rr,Wn,Qn,dx,Z2=(dx=class{constructor(t={}){oe(this,Fe);oe(this,tr);oe(this,sr);oe(this,Vn);oe(this,Hn);oe(this,rr);oe(this,Wn);oe(this,Qn);te(this,Fe,t.queryCache||new Q2),te(this,tr,t.mutationCache||new H2),te(this,sr,t.defaultOptions||{}),te(this,Vn,new Map),te(this,Hn,new Map),te(this,rr,0)}mount(){Fi(this,rr)._++,F(this,rr)===1&&(te(this,Wn,ch.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Fe).onFocus())})),te(this,Qn,Jl.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Fe).onOnline())})))}unmount(){var t,s;Fi(this,rr)._--,F(this,rr)===0&&((t=F(this,Wn))==null||t.call(this),te(this,Wn,void 0),(s=F(this,Qn))==null||s.call(this),te(this,Qn,void 0))}isFetching(t){return F(this,Fe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,tr).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=F(this,Fe).get(s.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),r=F(this,Fe).build(this,s),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(yr(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(n))}getQueriesData(t){return F(this,Fe).findAll(t).map(({queryKey:s,state:r})=>{const n=r.data;return[s,n]})}setQueryData(t,s,r){const n=this.defaultQueryOptions({queryKey:t}),a=F(this,Fe).get(n.queryHash),i=a==null?void 0:a.state.data,l=P2(s,i);if(l!==void 0)return F(this,Fe).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(t,s,r){return Ve.batch(()=>F(this,Fe).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,s,r)]))}getQueryState(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=F(this,Fe).get(s.queryHash))==null?void 0:r.state}removeQueries(t){const s=F(this,Fe);Ve.batch(()=>{s.findAll(t).forEach(r=>{s.remove(r)})})}resetQueries(t,s){const r=F(this,Fe);return Ve.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const r={revert:!0,...s},n=Ve.batch(()=>F(this,Fe).findAll(t).map(a=>a.cancel(r)));return Promise.all(n).then(ot).catch(ot)}invalidateQueries(t,s={}){return Ve.batch(()=>(F(this,Fe).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},s)))}refetchQueries(t,s={}){const r={...s,cancelRefetch:s.cancelRefetch??!0},n=Ve.batch(()=>F(this,Fe).findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(ot)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(ot)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const r=F(this,Fe).build(this,s);return r.isStaleByTime(yr(s.staleTime,r))?r.fetch(s):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ot).catch(ot)}fetchInfiniteQuery(t){return t.behavior=Ym(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ot).catch(ot)}ensureInfiniteQueryData(t){return t.behavior=Ym(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Jl.isOnline()?F(this,tr).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,Fe)}getMutationCache(){return F(this,tr)}getDefaultOptions(){return F(this,sr)}setDefaultOptions(t){te(this,sr,t)}setQueryDefaults(t,s){F(this,Vn).set(an(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...F(this,Vn).values()],r={};return s.forEach(n=>{pi(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,s){F(this,Hn).set(an(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...F(this,Hn).values()],r={};return s.forEach(n=>{pi(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const s={...F(this,sr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=lh(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===oh&&(s.enabled=!1),s}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,sr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,Fe).clear(),F(this,tr).clear()}},Fe=new WeakMap,tr=new WeakMap,sr=new WeakMap,Vn=new WeakMap,Hn=new WeakMap,rr=new WeakMap,Wn=new WeakMap,Qn=new WeakMap,dx),Wf=u.createContext(void 0),Je=t=>{const s=u.useContext(Wf);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},K2=({client:t,children:s})=>(u.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(Wf.Provider,{value:t,children:s})),Qf=u.createContext(!1),G2=()=>u.useContext(Qf);Qf.Provider;function Y2(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var J2=u.createContext(Y2()),X2=()=>u.useContext(J2),e1=(t,s)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(s.isReset()||(t.retryOnMount=!1))},t1=t=>{u.useEffect(()=>{t.clearReset()},[t])},s1=({result:t,errorResetBoundary:s,throwOnError:r,query:n,suspense:a})=>t.isError&&!s.isReset()&&!t.isFetching&&n&&(a&&t.data===void 0||If(r,[t.error,n])),r1=t=>{if(t.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},n1=(t,s)=>t.isLoading&&t.isFetching&&!s,a1=(t,s)=>(t==null?void 0:t.suspense)&&s.isPending,Xm=(t,s,r)=>s.fetchOptimistic(t).catch(()=>{r.clearReset()});function i1(t,s,r){var f,x,j,y,b;const n=G2(),a=X2(),i=Je(),l=i.defaultQueryOptions(t);(x=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||x.call(f,l),l._optimisticResults=n?"isRestoring":"optimistic",r1(l),e1(l,a),t1(a);const o=!i.getQueryCache().get(l.queryHash),[c]=u.useState(()=>new s(i,l)),d=c.getOptimisticResult(l),m=!n&&t.subscribed!==!1;if(u.useSyncExternalStore(u.useCallback(w=>{const g=m?c.subscribe(Ve.batchCalls(w)):ot;return c.updateResult(),g},[c,m]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),u.useEffect(()=>{c.setOptions(l)},[l,c]),a1(l,d))throw Xm(l,c,a);if(s1({result:d,errorResetBoundary:a,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw d.error;if((y=(j=i.getDefaultOptions().queries)==null?void 0:j._experimental_afterQuery)==null||y.call(j,l,d),l.experimental_prefetchInRender&&!nn&&n1(d,n)){const w=o?Xm(l,c,a):(b=i.getQueryCache().get(l.queryHash))==null?void 0:b.promise;w==null||w.catch(ot).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?d:c.trackResult(d)}function ce(t,s){return i1(t,q2)}function xe(t,s){const r=Je(),[n]=u.useState(()=>new W2(r,t));u.useEffect(()=>{n.setOptions(t)},[n,t]);const a=u.useSyncExternalStore(u.useCallback(l=>n.subscribe(Ve.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=u.useCallback((l,o)=>{n.mutate(l,o).catch(ot)},[n]);if(a.error&&If(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const e0=t=>{let s;const r=new Set,n=(d,m)=>{const f=typeof d=="function"?d(s):d;if(!Object.is(f,s)){const x=s;s=m??(typeof f!="object"||f===null)?f:Object.assign({},s,f),r.forEach(j=>j(s,x))}},a=()=>s,o={setState:n,getState:a,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d))},c=s=t(n,a,o);return o},l1=t=>t?e0(t):e0,o1=t=>t;function c1(t,s=o1){const r=fn.useSyncExternalStore(t.subscribe,fn.useCallback(()=>s(t.getState()),[t,s]),fn.useCallback(()=>s(t.getInitialState()),[t,s]));return fn.useDebugValue(r),r}const d1=t=>{const s=l1(t),r=n=>c1(s,n);return Object.assign(r,s),r},u1=t=>d1;function h1(t,s){let r;try{r=t()}catch{return}return{getItem:a=>{var i;const l=c=>c===null?null:JSON.parse(c,void 0),o=(i=r.getItem(a))!=null?i:null;return o instanceof Promise?o.then(l):l(o)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>r.removeItem(a)}}const Fd=t=>s=>{try{const r=t(s);return r instanceof Promise?r:{then(n){return Fd(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Fd(n)(r)}}}},m1=(t,s)=>(r,n,a)=>{let i={storage:h1(()=>localStorage),partialize:b=>b,version:0,merge:(b,w)=>({...w,...b}),...s},l=!1;const o=new Set,c=new Set;let d=i.storage;if(!d)return t((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...b)},n,a);const m=()=>{const b=i.partialize({...n()});return d.setItem(i.name,{state:b,version:i.version})},f=a.setState;a.setState=(b,w)=>(f(b,w),m());const x=t((...b)=>(r(...b),m()),n,a);a.getInitialState=()=>x;let j;const y=()=>{var b,w;if(!d)return;l=!1,o.forEach(h=>{var p;return h((p=n())!=null?p:x)});const g=((w=i.onRehydrateStorage)==null?void 0:w.call(i,(b=n())!=null?b:x))||void 0;return Fd(d.getItem.bind(d))(i.name).then(h=>{if(h)if(typeof h.version=="number"&&h.version!==i.version){if(i.migrate){const p=i.migrate(h.state,h.version);return p instanceof Promise?p.then(k=>[!0,k]):[!0,p]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,h.state];return[!1,void 0]}).then(h=>{var p;const[k,E]=h;if(j=i.merge(E,(p=n())!=null?p:x),r(j,!0),k)return m()}).then(()=>{g==null||g(j,void 0),j=n(),l=!0,c.forEach(h=>h(j))}).catch(h=>{g==null||g(void 0,h)})};return a.persist={setOptions:b=>{i={...i,...b},b.storage&&(d=b.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>l,onHydrate:b=>(o.add(b),()=>{o.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},i.skipHydration||y(),j||x},x1=m1;function Zf(t,s){return function(){return t.apply(s,arguments)}}const{toString:p1}=Object.prototype,{getPrototypeOf:uh}=Object,{iterator:Ao,toStringTag:Kf}=Symbol,Ro=(t=>s=>{const r=p1.call(s);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),rs=t=>(t=t.toLowerCase(),s=>Ro(s)===t),Mo=t=>s=>typeof s===t,{isArray:ga}=Array,ta=Mo("undefined");function Ai(t){return t!==null&&!ta(t)&&t.constructor!==null&&!ta(t.constructor)&&jt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Gf=rs("ArrayBuffer");function f1(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&Gf(t.buffer),s}const g1=Mo("string"),jt=Mo("function"),Yf=Mo("number"),Ri=t=>t!==null&&typeof t=="object",y1=t=>t===!0||t===!1,gl=t=>{if(Ro(t)!=="object")return!1;const s=uh(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Kf in t)&&!(Ao in t)},b1=t=>{if(!Ri(t)||Ai(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},v1=rs("Date"),j1=rs("File"),w1=rs("Blob"),N1=rs("FileList"),_1=t=>Ri(t)&&jt(t.pipe),k1=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||jt(t.append)&&((s=Ro(t))==="formdata"||s==="object"&&jt(t.toString)&&t.toString()==="[object FormData]"))},S1=rs("URLSearchParams"),[C1,E1,P1,A1]=["ReadableStream","Request","Response","Headers"].map(rs),R1=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Mi(t,s,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),ga(t))for(n=0,a=t.length;n<a;n++)s.call(null,t[n],n,t);else{if(Ai(t))return;const i=r?Object.getOwnPropertyNames(t):Object.keys(t),l=i.length;let o;for(n=0;n<l;n++)o=i[n],s.call(null,t[o],o,t)}}function Jf(t,s){if(Ai(t))return null;s=s.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],s===a.toLowerCase())return a;return null}const Ir=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Xf=t=>!ta(t)&&t!==Ir;function Od(){const{caseless:t,skipUndefined:s}=Xf(this)&&this||{},r={},n=(a,i)=>{const l=t&&Jf(r,i)||i;gl(r[l])&&gl(a)?r[l]=Od(r[l],a):gl(a)?r[l]=Od({},a):ga(a)?r[l]=a.slice():(!s||!ta(a))&&(r[l]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Mi(arguments[a],n);return r}const M1=(t,s,r,{allOwnKeys:n}={})=>(Mi(s,(a,i)=>{r&&jt(a)?t[i]=Zf(a,r):t[i]=a},{allOwnKeys:n}),t),L1=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),T1=(t,s,r,n)=>{t.prototype=Object.create(s.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),r&&Object.assign(t.prototype,r)},F1=(t,s,r,n)=>{let a,i,l;const o={};if(s=s||{},t==null)return s;do{for(a=Object.getOwnPropertyNames(t),i=a.length;i-- >0;)l=a[i],(!n||n(l,t,s))&&!o[l]&&(s[l]=t[l],o[l]=!0);t=r!==!1&&uh(t)}while(t&&(!r||r(t,s))&&t!==Object.prototype);return s},O1=(t,s,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=s.length;const n=t.indexOf(s,r);return n!==-1&&n===r},$1=t=>{if(!t)return null;if(ga(t))return t;let s=t.length;if(!Yf(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=t[s];return r},B1=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&uh(Uint8Array)),I1=(t,s)=>{const n=(t&&t[Ao]).call(t);let a;for(;(a=n.next())&&!a.done;){const i=a.value;s.call(t,i[0],i[1])}},q1=(t,s)=>{let r;const n=[];for(;(r=t.exec(s))!==null;)n.push(r);return n},z1=rs("HTMLFormElement"),D1=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),t0=(({hasOwnProperty:t})=>(s,r)=>t.call(s,r))(Object.prototype),U1=rs("RegExp"),eg=(t,s)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Mi(r,(a,i)=>{let l;(l=s(a,i,t))!==!1&&(n[i]=l||a)}),Object.defineProperties(t,n)},V1=t=>{eg(t,(s,r)=>{if(jt(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(jt(n)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},H1=(t,s)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return ga(t)?n(t):n(String(t).split(s)),r},W1=()=>{},Q1=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function Z1(t){return!!(t&&jt(t.append)&&t[Kf]==="FormData"&&t[Ao])}const K1=t=>{const s=new Array(10),r=(n,a)=>{if(Ri(n)){if(s.indexOf(n)>=0)return;if(Ai(n))return n;if(!("toJSON"in n)){s[a]=n;const i=ga(n)?[]:{};return Mi(n,(l,o)=>{const c=r(l,a+1);!ta(c)&&(i[o]=c)}),s[a]=void 0,i}}return n};return r(t,0)},G1=rs("AsyncFunction"),Y1=t=>t&&(Ri(t)||jt(t))&&jt(t.then)&&jt(t.catch),tg=((t,s)=>t?setImmediate:s?((r,n)=>(Ir.addEventListener("message",({source:a,data:i})=>{a===Ir&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Ir.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",jt(Ir.postMessage)),J1=typeof queueMicrotask<"u"?queueMicrotask.bind(Ir):typeof process<"u"&&process.nextTick||tg,X1=t=>t!=null&&jt(t[Ao]),V={isArray:ga,isArrayBuffer:Gf,isBuffer:Ai,isFormData:k1,isArrayBufferView:f1,isString:g1,isNumber:Yf,isBoolean:y1,isObject:Ri,isPlainObject:gl,isEmptyObject:b1,isReadableStream:C1,isRequest:E1,isResponse:P1,isHeaders:A1,isUndefined:ta,isDate:v1,isFile:j1,isBlob:w1,isRegExp:U1,isFunction:jt,isStream:_1,isURLSearchParams:S1,isTypedArray:B1,isFileList:N1,forEach:Mi,merge:Od,extend:M1,trim:R1,stripBOM:L1,inherits:T1,toFlatObject:F1,kindOf:Ro,kindOfTest:rs,endsWith:O1,toArray:$1,forEachEntry:I1,matchAll:q1,isHTMLForm:z1,hasOwnProperty:t0,hasOwnProp:t0,reduceDescriptors:eg,freezeMethods:V1,toObjectSet:H1,toCamelCase:D1,noop:W1,toFiniteNumber:Q1,findKey:Jf,global:Ir,isContextDefined:Xf,isSpecCompliantForm:Z1,toJSONObject:K1,isAsyncFn:G1,isThenable:Y1,setImmediate:tg,asap:J1,isIterable:X1};function he(t,s,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}V.inherits(he,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const sg=he.prototype,rg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{rg[t]={value:t}});Object.defineProperties(he,rg);Object.defineProperty(sg,"isAxiosError",{value:!0});he.from=(t,s,r,n,a,i)=>{const l=Object.create(sg);V.toFlatObject(t,l,function(m){return m!==Error.prototype},d=>d!=="isAxiosError");const o=t&&t.message?t.message:"Error",c=s==null&&t?t.code:s;return he.call(l,o,c,r,n,a),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",i&&Object.assign(l,i),l};const ej=null;function $d(t){return V.isPlainObject(t)||V.isArray(t)}function ng(t){return V.endsWith(t,"[]")?t.slice(0,-2):t}function s0(t,s,r){return t?t.concat(s).map(function(a,i){return a=ng(a),!r&&i?"["+a+"]":a}).join(r?".":""):s}function tj(t){return V.isArray(t)&&!t.some($d)}const sj=V.toFlatObject(V,{},null,function(s){return/^is[A-Z]/.test(s)});function Lo(t,s,r){if(!V.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,r=V.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,w){return!V.isUndefined(w[b])});const n=r.metaTokens,a=r.visitor||m,i=r.dots,l=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(s);if(!V.isFunction(a))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(V.isDate(y))return y.toISOString();if(V.isBoolean(y))return y.toString();if(!c&&V.isBlob(y))throw new he("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(y)||V.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function m(y,b,w){let g=y;if(y&&!w&&typeof y=="object"){if(V.endsWith(b,"{}"))b=n?b:b.slice(0,-2),y=JSON.stringify(y);else if(V.isArray(y)&&tj(y)||(V.isFileList(y)||V.endsWith(b,"[]"))&&(g=V.toArray(y)))return b=ng(b),g.forEach(function(p,k){!(V.isUndefined(p)||p===null)&&s.append(l===!0?s0([b],k,i):l===null?b:b+"[]",d(p))}),!1}return $d(y)?!0:(s.append(s0(w,b,i),d(y)),!1)}const f=[],x=Object.assign(sj,{defaultVisitor:m,convertValue:d,isVisitable:$d});function j(y,b){if(!V.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(y),V.forEach(y,function(g,h){(!(V.isUndefined(g)||g===null)&&a.call(s,g,V.isString(h)?h.trim():h,b,x))===!0&&j(g,b?b.concat(h):[h])}),f.pop()}}if(!V.isObject(t))throw new TypeError("data must be an object");return j(t),s}function r0(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return s[n]})}function hh(t,s){this._pairs=[],t&&Lo(t,this,s)}const ag=hh.prototype;ag.append=function(s,r){this._pairs.push([s,r])};ag.toString=function(s){const r=s?function(n){return s.call(this,n,r0)}:r0;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function rj(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ig(t,s,r){if(!s)return t;const n=r&&r.encode||rj;V.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(s,r):i=V.isURLSearchParams(s)?s.toString():new hh(s,r).toString(n),i){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class n0{constructor(){this.handlers=[]}use(s,r,n){return this.handlers.push({fulfilled:s,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){V.forEach(this.handlers,function(n){n!==null&&s(n)})}}const lg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nj=typeof URLSearchParams<"u"?URLSearchParams:hh,aj=typeof FormData<"u"?FormData:null,ij=typeof Blob<"u"?Blob:null,lj={isBrowser:!0,classes:{URLSearchParams:nj,FormData:aj,Blob:ij},protocols:["http","https","file","blob","url","data"]},mh=typeof window<"u"&&typeof document<"u",Bd=typeof navigator=="object"&&navigator||void 0,oj=mh&&(!Bd||["ReactNative","NativeScript","NS"].indexOf(Bd.product)<0),cj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dj=mh&&window.location.href||"http://localhost",uj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mh,hasStandardBrowserEnv:oj,hasStandardBrowserWebWorkerEnv:cj,navigator:Bd,origin:dj},Symbol.toStringTag,{value:"Module"})),st={...uj,...lj};function hj(t,s){return Lo(t,new st.classes.URLSearchParams,{visitor:function(r,n,a,i){return st.isNode&&V.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...s})}function mj(t){return V.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function xj(t){const s={},r=Object.keys(t);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],s[i]=t[i];return s}function og(t){function s(r,n,a,i){let l=r[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=r.length;return l=!l&&V.isArray(a)?a.length:l,c?(V.hasOwnProp(a,l)?a[l]=[a[l],n]:a[l]=n,!o):((!a[l]||!V.isObject(a[l]))&&(a[l]=[]),s(r,n,a[l],i)&&V.isArray(a[l])&&(a[l]=xj(a[l])),!o)}if(V.isFormData(t)&&V.isFunction(t.entries)){const r={};return V.forEachEntry(t,(n,a)=>{s(mj(n),a,r,0)}),r}return null}function pj(t,s,r){if(V.isString(t))try{return(s||JSON.parse)(t),V.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Li={transitional:lg,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=V.isObject(s);if(i&&V.isHTMLForm(s)&&(s=new FormData(s)),V.isFormData(s))return a?JSON.stringify(og(s)):s;if(V.isArrayBuffer(s)||V.isBuffer(s)||V.isStream(s)||V.isFile(s)||V.isBlob(s)||V.isReadableStream(s))return s;if(V.isArrayBufferView(s))return s.buffer;if(V.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return hj(s,this.formSerializer).toString();if((o=V.isFileList(s))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Lo(o?{"files[]":s}:s,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),pj(s)):s}],transformResponse:[function(s){const r=this.transitional||Li.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(V.isResponse(s)||V.isReadableStream(s))return s;if(s&&V.isString(s)&&(n&&!this.responseType||a)){const l=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(s,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?he.from(o,he.ERR_BAD_RESPONSE,this,null,this.response):o}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:st.classes.FormData,Blob:st.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],t=>{Li.headers[t]={}});const fj=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gj=t=>{const s={};let r,n,a;return t&&t.split(`
`).forEach(function(l){a=l.indexOf(":"),r=l.substring(0,a).trim().toLowerCase(),n=l.substring(a+1).trim(),!(!r||s[r]&&fj[r])&&(r==="set-cookie"?s[r]?s[r].push(n):s[r]=[n]:s[r]=s[r]?s[r]+", "+n:n)}),s},a0=Symbol("internals");function Ea(t){return t&&String(t).trim().toLowerCase()}function yl(t){return t===!1||t==null?t:V.isArray(t)?t.map(yl):String(t)}function yj(t){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)s[n[1]]=n[2];return s}const bj=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function xc(t,s,r,n,a){if(V.isFunction(n))return n.call(this,s,r);if(a&&(s=r),!!V.isString(s)){if(V.isString(n))return s.indexOf(n)!==-1;if(V.isRegExp(n))return n.test(s)}}function vj(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,n)=>r.toUpperCase()+n)}function jj(t,s){const r=V.toCamelCase(" "+s);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,i,l){return this[n].call(this,s,a,i,l)},configurable:!0})})}let wt=class{constructor(s){s&&this.set(s)}set(s,r,n){const a=this;function i(o,c,d){const m=Ea(c);if(!m)throw new Error("header name must be a non-empty string");const f=V.findKey(a,m);(!f||a[f]===void 0||d===!0||d===void 0&&a[f]!==!1)&&(a[f||c]=yl(o))}const l=(o,c)=>V.forEach(o,(d,m)=>i(d,m,c));if(V.isPlainObject(s)||s instanceof this.constructor)l(s,r);else if(V.isString(s)&&(s=s.trim())&&!bj(s))l(gj(s),r);else if(V.isObject(s)&&V.isIterable(s)){let o={},c,d;for(const m of s){if(!V.isArray(m))throw TypeError("Object iterator must return a key-value pair");o[d=m[0]]=(c=o[d])?V.isArray(c)?[...c,m[1]]:[c,m[1]]:m[1]}l(o,r)}else s!=null&&i(r,s,n);return this}get(s,r){if(s=Ea(s),s){const n=V.findKey(this,s);if(n){const a=this[n];if(!r)return a;if(r===!0)return yj(a);if(V.isFunction(r))return r.call(this,a,n);if(V.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=Ea(s),s){const n=V.findKey(this,s);return!!(n&&this[n]!==void 0&&(!r||xc(this,this[n],n,r)))}return!1}delete(s,r){const n=this;let a=!1;function i(l){if(l=Ea(l),l){const o=V.findKey(n,l);o&&(!r||xc(n,n[o],o,r))&&(delete n[o],a=!0)}}return V.isArray(s)?s.forEach(i):i(s),a}clear(s){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!s||xc(this,this[i],i,s,!0))&&(delete this[i],a=!0)}return a}normalize(s){const r=this,n={};return V.forEach(this,(a,i)=>{const l=V.findKey(n,i);if(l){r[l]=yl(a),delete r[i];return}const o=s?vj(i):String(i).trim();o!==i&&delete r[i],r[o]=yl(a),n[o]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return V.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=s&&V.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const n=new this(s);return r.forEach(a=>n.set(a)),n}static accessor(s){const n=(this[a0]=this[a0]={accessors:{}}).accessors,a=this.prototype;function i(l){const o=Ea(l);n[o]||(jj(a,l),n[o]=!0)}return V.isArray(s)?s.forEach(i):i(s),this}};wt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(wt.prototype,({value:t},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(n){this[r]=n}}});V.freezeMethods(wt);function pc(t,s){const r=this||Li,n=s||r,a=wt.from(n.headers);let i=n.data;return V.forEach(t,function(o){i=o.call(r,i,a.normalize(),s?s.status:void 0)}),a.normalize(),i}function cg(t){return!!(t&&t.__CANCEL__)}function ya(t,s,r){he.call(this,t??"canceled",he.ERR_CANCELED,s,r),this.name="CanceledError"}V.inherits(ya,he,{__CANCEL__:!0});function dg(t,s,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):s(new he("Request failed with status code "+r.status,[he.ERR_BAD_REQUEST,he.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function wj(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function Nj(t,s){t=t||10;const r=new Array(t),n=new Array(t);let a=0,i=0,l;return s=s!==void 0?s:1e3,function(c){const d=Date.now(),m=n[i];l||(l=d),r[a]=c,n[a]=d;let f=i,x=0;for(;f!==a;)x+=r[f++],f=f%t;if(a=(a+1)%t,a===i&&(i=(i+1)%t),d-l<s)return;const j=m&&d-m;return j?Math.round(x*1e3/j):void 0}}function _j(t,s){let r=0,n=1e3/s,a,i;const l=(d,m=Date.now())=>{r=m,a=null,i&&(clearTimeout(i),i=null),t(...d)};return[(...d)=>{const m=Date.now(),f=m-r;f>=n?l(d,m):(a=d,i||(i=setTimeout(()=>{i=null,l(a)},n-f)))},()=>a&&l(a)]}const Xl=(t,s,r=3)=>{let n=0;const a=Nj(50,250);return _j(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-n,d=a(c),m=l<=o;n=l;const f={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&m?(o-l)/d:void 0,event:i,lengthComputable:o!=null,[s?"download":"upload"]:!0};t(f)},r)},i0=(t,s)=>{const r=t!=null;return[n=>s[0]({lengthComputable:r,total:t,loaded:n}),s[1]]},l0=t=>(...s)=>V.asap(()=>t(...s)),kj=st.hasStandardBrowserEnv?((t,s)=>r=>(r=new URL(r,st.origin),t.protocol===r.protocol&&t.host===r.host&&(s||t.port===r.port)))(new URL(st.origin),st.navigator&&/(msie|trident)/i.test(st.navigator.userAgent)):()=>!0,Sj=st.hasStandardBrowserEnv?{write(t,s,r,n,a,i){const l=[t+"="+encodeURIComponent(s)];V.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),V.isString(n)&&l.push("path="+n),V.isString(a)&&l.push("domain="+a),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Cj(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Ej(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function ug(t,s,r){let n=!Cj(s);return t&&(n||r==!1)?Ej(t,s):s}const o0=t=>t instanceof wt?{...t}:t;function ln(t,s){s=s||{};const r={};function n(d,m,f,x){return V.isPlainObject(d)&&V.isPlainObject(m)?V.merge.call({caseless:x},d,m):V.isPlainObject(m)?V.merge({},m):V.isArray(m)?m.slice():m}function a(d,m,f,x){if(V.isUndefined(m)){if(!V.isUndefined(d))return n(void 0,d,f,x)}else return n(d,m,f,x)}function i(d,m){if(!V.isUndefined(m))return n(void 0,m)}function l(d,m){if(V.isUndefined(m)){if(!V.isUndefined(d))return n(void 0,d)}else return n(void 0,m)}function o(d,m,f){if(f in s)return n(d,m);if(f in t)return n(void 0,d)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(d,m,f)=>a(o0(d),o0(m),f,!0)};return V.forEach(Object.keys({...t,...s}),function(m){const f=c[m]||a,x=f(t[m],s[m],m);V.isUndefined(x)&&f!==o||(r[m]=x)}),r}const hg=t=>{const s=ln({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:l,auth:o}=s;if(s.headers=l=wt.from(l),s.url=ig(ug(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),V.isFormData(r)){if(st.hasStandardBrowserEnv||st.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(V.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([m,f])=>{d.includes(m.toLowerCase())&&l.set(m,f)})}}if(st.hasStandardBrowserEnv&&(n&&V.isFunction(n)&&(n=n(s)),n||n!==!1&&kj(s.url))){const c=a&&i&&Sj.read(i);c&&l.set(a,c)}return s},Pj=typeof XMLHttpRequest<"u",Aj=Pj&&function(t){return new Promise(function(r,n){const a=hg(t);let i=a.data;const l=wt.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=a,m,f,x,j,y;function b(){j&&j(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(m),a.signal&&a.signal.removeEventListener("abort",m)}let w=new XMLHttpRequest;w.open(a.method.toUpperCase(),a.url,!0),w.timeout=a.timeout;function g(){if(!w)return;const p=wt.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),E={data:!o||o==="text"||o==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:p,config:t,request:w};dg(function(_){r(_),b()},function(_){n(_),b()},E),w=null}"onloadend"in w?w.onloadend=g:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(g)},w.onabort=function(){w&&(n(new he("Request aborted",he.ECONNABORTED,t,w)),w=null)},w.onerror=function(k){const E=k&&k.message?k.message:"Network Error",I=new he(E,he.ERR_NETWORK,t,w);I.event=k||null,n(I),w=null},w.ontimeout=function(){let k=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const E=a.transitional||lg;a.timeoutErrorMessage&&(k=a.timeoutErrorMessage),n(new he(k,E.clarifyTimeoutError?he.ETIMEDOUT:he.ECONNABORTED,t,w)),w=null},i===void 0&&l.setContentType(null),"setRequestHeader"in w&&V.forEach(l.toJSON(),function(k,E){w.setRequestHeader(E,k)}),V.isUndefined(a.withCredentials)||(w.withCredentials=!!a.withCredentials),o&&o!=="json"&&(w.responseType=a.responseType),d&&([x,y]=Xl(d,!0),w.addEventListener("progress",x)),c&&w.upload&&([f,j]=Xl(c),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",j)),(a.cancelToken||a.signal)&&(m=p=>{w&&(n(!p||p.type?new ya(null,t,w):p),w.abort(),w=null)},a.cancelToken&&a.cancelToken.subscribe(m),a.signal&&(a.signal.aborted?m():a.signal.addEventListener("abort",m)));const h=wj(a.url);if(h&&st.protocols.indexOf(h)===-1){n(new he("Unsupported protocol "+h+":",he.ERR_BAD_REQUEST,t));return}w.send(i||null)})},Rj=(t,s)=>{const{length:r}=t=t?t.filter(Boolean):[];if(s||r){let n=new AbortController,a;const i=function(d){if(!a){a=!0,o();const m=d instanceof Error?d:this.reason;n.abort(m instanceof he?m:new ya(m instanceof Error?m.message:m))}};let l=s&&setTimeout(()=>{l=null,i(new he(`timeout ${s} of ms exceeded`,he.ETIMEDOUT))},s);const o=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),t=null)};t.forEach(d=>d.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>V.asap(o),c}},Mj=function*(t,s){let r=t.byteLength;if(r<s){yield t;return}let n=0,a;for(;n<r;)a=n+s,yield t.slice(n,a),n=a},Lj=async function*(t,s){for await(const r of Tj(t))yield*Mj(r,s)},Tj=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:r,value:n}=await s.read();if(r)break;yield n}}finally{await s.cancel()}},c0=(t,s,r,n)=>{const a=Lj(t,s);let i=0,l,o=c=>{l||(l=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:m}=await a.next();if(d){o(),c.close();return}let f=m.byteLength;if(r){let x=i+=f;r(x)}c.enqueue(new Uint8Array(m))}catch(d){throw o(d),d}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},d0=64*1024,{isFunction:el}=V,Fj=(({Request:t,Response:s})=>({Request:t,Response:s}))(V.global),{ReadableStream:u0,TextEncoder:h0}=V.global,m0=(t,...s)=>{try{return!!t(...s)}catch{return!1}},Oj=t=>{t=V.merge.call({skipUndefined:!0},Fj,t);const{fetch:s,Request:r,Response:n}=t,a=s?el(s):typeof fetch=="function",i=el(r),l=el(n);if(!a)return!1;const o=a&&el(u0),c=a&&(typeof h0=="function"?(y=>b=>y.encode(b))(new h0):async y=>new Uint8Array(await new r(y).arrayBuffer())),d=i&&o&&m0(()=>{let y=!1;const b=new r(st.origin,{body:new u0,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!b}),m=l&&o&&m0(()=>V.isReadableStream(new n("").body)),f={stream:m&&(y=>y.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!f[y]&&(f[y]=(b,w)=>{let g=b&&b[y];if(g)return g.call(b);throw new he(`Response type '${y}' is not supported`,he.ERR_NOT_SUPPORT,w)})});const x=async y=>{if(y==null)return 0;if(V.isBlob(y))return y.size;if(V.isSpecCompliantForm(y))return(await new r(st.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(V.isArrayBufferView(y)||V.isArrayBuffer(y))return y.byteLength;if(V.isURLSearchParams(y)&&(y=y+""),V.isString(y))return(await c(y)).byteLength},j=async(y,b)=>{const w=V.toFiniteNumber(y.getContentLength());return w??x(b)};return async y=>{let{url:b,method:w,data:g,signal:h,cancelToken:p,timeout:k,onDownloadProgress:E,onUploadProgress:I,responseType:_,headers:T,withCredentials:L="same-origin",fetchOptions:q}=hg(y),D=s||fetch;_=_?(_+"").toLowerCase():"text";let R=Rj([h,p&&p.toAbortSignal()],k),B=null;const Y=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let U;try{if(I&&d&&w!=="get"&&w!=="head"&&(U=await j(T,g))!==0){let N=new r(b,{method:"POST",body:g,duplex:"half"}),A;if(V.isFormData(g)&&(A=N.headers.get("content-type"))&&T.setContentType(A),N.body){const[M,Q]=i0(U,Xl(l0(I)));g=c0(N.body,d0,M,Q)}}V.isString(L)||(L=L?"include":"omit");const P=i&&"credentials"in r.prototype,C={...q,signal:R,method:w.toUpperCase(),headers:T.normalize().toJSON(),body:g,duplex:"half",credentials:P?L:void 0};B=i&&new r(b,C);let S=await(i?D(B,q):D(b,C));const z=m&&(_==="stream"||_==="response");if(m&&(E||z&&Y)){const N={};["status","statusText","headers"].forEach(v=>{N[v]=S[v]});const A=V.toFiniteNumber(S.headers.get("content-length")),[M,Q]=E&&i0(A,Xl(l0(E),!0))||[];S=new n(c0(S.body,d0,M,()=>{Q&&Q(),Y&&Y()}),N)}_=_||"text";let O=await f[V.findKey(f,_)||"text"](S,y);return!z&&Y&&Y(),await new Promise((N,A)=>{dg(N,A,{data:O,headers:wt.from(S.headers),status:S.status,statusText:S.statusText,config:y,request:B})})}catch(P){throw Y&&Y(),P&&P.name==="TypeError"&&/Load failed|fetch/i.test(P.message)?Object.assign(new he("Network Error",he.ERR_NETWORK,y,B),{cause:P.cause||P}):he.from(P,P&&P.code,y,B)}}},$j=new Map,mg=t=>{let s=t?t.env:{};const{fetch:r,Request:n,Response:a}=s,i=[n,a,r];let l=i.length,o=l,c,d,m=$j;for(;o--;)c=i[o],d=m.get(c),d===void 0&&m.set(c,d=o?new Map:Oj(s)),m=d;return d};mg();const Id={http:ej,xhr:Aj,fetch:{get:mg}};V.forEach(Id,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const x0=t=>`- ${t}`,Bj=t=>V.isFunction(t)||t===null||t===!1,xg={getAdapter:(t,s)=>{t=V.isArray(t)?t:[t];const{length:r}=t;let n,a;const i={};for(let l=0;l<r;l++){n=t[l];let o;if(a=n,!Bj(n)&&(a=Id[(o=String(n)).toLowerCase()],a===void 0))throw new he(`Unknown adapter '${o}'`);if(a&&(V.isFunction(a)||(a=a.get(s))))break;i[o||"#"+l]=a}if(!a){const l=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=r?l.length>1?`since :
`+l.map(x0).join(`
`):" "+x0(l[0]):"as no adapter specified";throw new he("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:Id};function fc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ya(null,t)}function p0(t){return fc(t),t.headers=wt.from(t.headers),t.data=pc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),xg.getAdapter(t.adapter||Li.adapter,t)(t).then(function(n){return fc(t),n.data=pc.call(t,t.transformResponse,n),n.headers=wt.from(n.headers),n},function(n){return cg(n)||(fc(t),n&&n.response&&(n.response.data=pc.call(t,t.transformResponse,n.response),n.response.headers=wt.from(n.response.headers))),Promise.reject(n)})}const pg="1.12.2",To={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{To[t]=function(n){return typeof n===t||"a"+(s<1?"n ":" ")+t}});const f0={};To.transitional=function(s,r,n){function a(i,l){return"[Axios v"+pg+"] Transitional option '"+i+"'"+l+(n?". "+n:"")}return(i,l,o)=>{if(s===!1)throw new he(a(l," has been removed"+(r?" in "+r:"")),he.ERR_DEPRECATED);return r&&!f0[l]&&(f0[l]=!0,console.warn(a(l," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(i,l,o):!0}};To.spelling=function(s){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${s}`),!0)};function Ij(t,s,r){if(typeof t!="object")throw new he("options must be an object",he.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const i=n[a],l=s[i];if(l){const o=t[i],c=o===void 0||l(o,i,t);if(c!==!0)throw new he("option "+i+" must be "+c,he.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new he("Unknown option "+i,he.ERR_BAD_OPTION)}}const bl={assertOptions:Ij,validators:To},is=bl.validators;let Yr=class{constructor(s){this.defaults=s||{},this.interceptors={request:new n0,response:new n0}}async request(s,r){try{return await this._request(s,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=ln(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&bl.assertOptions(n,{silentJSONParsing:is.transitional(is.boolean),forcedJSONParsing:is.transitional(is.boolean),clarifyTimeoutError:is.transitional(is.boolean)},!1),a!=null&&(V.isFunction(a)?r.paramsSerializer={serialize:a}:bl.assertOptions(a,{encode:is.function,serialize:is.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),bl.assertOptions(r,{baseUrl:is.spelling("baseURL"),withXsrfToken:is.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=i&&V.merge(i.common,i[r.method]);i&&V.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),r.headers=wt.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(c=c&&b.synchronous,o.unshift(b.fulfilled,b.rejected))});const d=[];this.interceptors.response.forEach(function(b){d.push(b.fulfilled,b.rejected)});let m,f=0,x;if(!c){const y=[p0.bind(this),void 0];for(y.unshift(...o),y.push(...d),x=y.length,m=Promise.resolve(r);f<x;)m=m.then(y[f++],y[f++]);return m}x=o.length;let j=r;for(;f<x;){const y=o[f++],b=o[f++];try{j=y(j)}catch(w){b.call(this,w);break}}try{m=p0.call(this,j)}catch(y){return Promise.reject(y)}for(f=0,x=d.length;f<x;)m=m.then(d[f++],d[f++]);return m}getUri(s){s=ln(this.defaults,s);const r=ug(s.baseURL,s.url,s.allowAbsoluteUrls);return ig(r,s.params,s.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(s){Yr.prototype[s]=function(r,n){return this.request(ln(n||{},{method:s,url:r,data:(n||{}).data}))}});V.forEach(["post","put","patch"],function(s){function r(n){return function(i,l,o){return this.request(ln(o||{},{method:s,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Yr.prototype[s]=r(),Yr.prototype[s+"Form"]=r(!0)});let qj=class fg{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const l=new Promise(o=>{n.subscribe(o),i=o}).then(a);return l.cancel=function(){n.unsubscribe(i)},l},s(function(i,l,o){n.reason||(n.reason=new ya(i,l,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=n=>{s.abort(n)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new fg(function(a){s=a}),cancel:s}}};function zj(t){return function(r){return t.apply(null,r)}}function Dj(t){return V.isObject(t)&&t.isAxiosError===!0}const qd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qd).forEach(([t,s])=>{qd[s]=t});function gg(t){const s=new Yr(t),r=Zf(Yr.prototype.request,s);return V.extend(r,Yr.prototype,s,{allOwnKeys:!0}),V.extend(r,s,null,{allOwnKeys:!0}),r.create=function(a){return gg(ln(t,a))},r}const G=gg(Li);G.Axios=Yr;G.CanceledError=ya;G.CancelToken=qj;G.isCancel=cg;G.VERSION=pg;G.toFormData=Lo;G.AxiosError=he;G.Cancel=G.CanceledError;G.all=function(s){return Promise.all(s)};G.spread=zj;G.isAxiosError=Dj;G.mergeConfig=ln;G.AxiosHeaders=wt;G.formToJSON=t=>og(V.isHTMLForm(t)?new FormData(t):t);G.getAdapter=xg.getAdapter;G.HttpStatusCode=qd;G.default=G;const{Axios:J5,AxiosError:X5,CanceledError:e4,isCancel:t4,CancelToken:s4,VERSION:r4,all:n4,Cancel:a4,isAxiosError:i4,spread:l4,toFormData:o4,AxiosHeaders:c4,HttpStatusCode:d4,formToJSON:u4,getAdapter:h4,mergeConfig:m4}=G,gs=Object.create(null);gs.open="0";gs.close="1";gs.ping="2";gs.pong="3";gs.message="4";gs.upgrade="5";gs.noop="6";const vl=Object.create(null);Object.keys(gs).forEach(t=>{vl[gs[t]]=t});const zd={type:"error",data:"parser error"},yg=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",bg=typeof ArrayBuffer=="function",vg=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,xh=({type:t,data:s},r,n)=>yg&&s instanceof Blob?r?n(s):g0(s,n):bg&&(s instanceof ArrayBuffer||vg(s))?r?n(s):g0(new Blob([s]),n):n(gs[t]+(s||"")),g0=(t,s)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];s("b"+(n||""))},r.readAsDataURL(t)};function y0(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let gc;function Uj(t,s){if(yg&&t.data instanceof Blob)return t.data.arrayBuffer().then(y0).then(s);if(bg&&(t.data instanceof ArrayBuffer||vg(t.data)))return s(y0(t.data));xh(t,!1,r=>{gc||(gc=new TextEncoder),s(gc.encode(r))})}const b0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Oa=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<b0.length;t++)Oa[b0.charCodeAt(t)]=t;const Vj=t=>{let s=t.length*.75,r=t.length,n,a=0,i,l,o,c;t[t.length-1]==="="&&(s--,t[t.length-2]==="="&&s--);const d=new ArrayBuffer(s),m=new Uint8Array(d);for(n=0;n<r;n+=4)i=Oa[t.charCodeAt(n)],l=Oa[t.charCodeAt(n+1)],o=Oa[t.charCodeAt(n+2)],c=Oa[t.charCodeAt(n+3)],m[a++]=i<<2|l>>4,m[a++]=(l&15)<<4|o>>2,m[a++]=(o&3)<<6|c&63;return d},Hj=typeof ArrayBuffer=="function",ph=(t,s)=>{if(typeof t!="string")return{type:"message",data:jg(t,s)};const r=t.charAt(0);return r==="b"?{type:"message",data:Wj(t.substring(1),s)}:vl[r]?t.length>1?{type:vl[r],data:t.substring(1)}:{type:vl[r]}:zd},Wj=(t,s)=>{if(Hj){const r=Vj(t);return jg(r,s)}else return{base64:!0,data:t}},jg=(t,s)=>{switch(s){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},wg="",Qj=(t,s)=>{const r=t.length,n=new Array(r);let a=0;t.forEach((i,l)=>{xh(i,!1,o=>{n[l]=o,++a===r&&s(n.join(wg))})})},Zj=(t,s)=>{const r=t.split(wg),n=[];for(let a=0;a<r.length;a++){const i=ph(r[a],s);if(n.push(i),i.type==="error")break}return n};function Kj(){return new TransformStream({transform(t,s){Uj(t,r=>{const n=r.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const i=new DataView(a.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{a=new Uint8Array(9);const i=new DataView(a.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(a[0]|=128),s.enqueue(a),s.enqueue(r)})}})}let yc;function tl(t){return t.reduce((s,r)=>s+r.length,0)}function sl(t,s){if(t[0].length===s)return t.shift();const r=new Uint8Array(s);let n=0;for(let a=0;a<s;a++)r[a]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function Gj(t,s){yc||(yc=new TextDecoder);const r=[];let n=0,a=-1,i=!1;return new TransformStream({transform(l,o){for(r.push(l);;){if(n===0){if(tl(r)<1)break;const c=sl(r,1);i=(c[0]&128)===128,a=c[0]&127,a<126?n=3:a===126?n=1:n=2}else if(n===1){if(tl(r)<2)break;const c=sl(r,2);a=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(tl(r)<8)break;const c=sl(r,8),d=new DataView(c.buffer,c.byteOffset,c.length),m=d.getUint32(0);if(m>Math.pow(2,21)-1){o.enqueue(zd);break}a=m*Math.pow(2,32)+d.getUint32(4),n=3}else{if(tl(r)<a)break;const c=sl(r,a);o.enqueue(ph(i?c:yc.decode(c),s)),n=0}if(a===0||a>t){o.enqueue(zd);break}}}})}const Ng=4;function ze(t){if(t)return Yj(t)}function Yj(t){for(var s in ze.prototype)t[s]=ze.prototype[s];return t}ze.prototype.on=ze.prototype.addEventListener=function(t,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(s),this};ze.prototype.once=function(t,s){function r(){this.off(t,r),s.apply(this,arguments)}return r.fn=s,this.on(t,r),this};ze.prototype.off=ze.prototype.removeListener=ze.prototype.removeAllListeners=ze.prototype.removeEventListener=function(t,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,a=0;a<r.length;a++)if(n=r[a],n===s||n.fn===s){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+t],this};ze.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)s[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,a=r.length;n<a;++n)r[n].apply(this,s)}return this};ze.prototype.emitReserved=ze.prototype.emit;ze.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};ze.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Fo=typeof Promise=="function"&&typeof Promise.resolve=="function"?s=>Promise.resolve().then(s):(s,r)=>r(s,0),$t=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Jj="arraybuffer";function _g(t,...s){return s.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const Xj=$t.setTimeout,ew=$t.clearTimeout;function Oo(t,s){s.useNativeTimers?(t.setTimeoutFn=Xj.bind($t),t.clearTimeoutFn=ew.bind($t)):(t.setTimeoutFn=$t.setTimeout.bind($t),t.clearTimeoutFn=$t.clearTimeout.bind($t))}const tw=1.33;function sw(t){return typeof t=="string"?rw(t):Math.ceil((t.byteLength||t.size)*tw)}function rw(t){let s=0,r=0;for(let n=0,a=t.length;n<a;n++)s=t.charCodeAt(n),s<128?r+=1:s<2048?r+=2:s<55296||s>=57344?r+=3:(n++,r+=4);return r}function kg(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function nw(t){let s="";for(let r in t)t.hasOwnProperty(r)&&(s.length&&(s+="&"),s+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return s}function aw(t){let s={},r=t.split("&");for(let n=0,a=r.length;n<a;n++){let i=r[n].split("=");s[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return s}class iw extends Error{constructor(s,r,n){super(s),this.description=r,this.context=n,this.type="TransportError"}}class fh extends ze{constructor(s){super(),this.writable=!1,Oo(this,s),this.opts=s,this.query=s.query,this.socket=s.socket,this.supportsBinary=!s.forceBase64}onError(s,r,n){return super.emitReserved("error",new iw(s,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(s){this.readyState==="open"&&this.write(s)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(s){const r=ph(s,this.socket.binaryType);this.onPacket(r)}onPacket(s){super.emitReserved("packet",s)}onClose(s){this.readyState="closed",super.emitReserved("close",s)}pause(s){}createUri(s,r={}){return s+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const s=this.opts.hostname;return s.indexOf(":")===-1?s:"["+s+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(s){const r=nw(s);return r.length?"?"+r:""}}class lw extends fh{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(s){this.readyState="pausing";const r=()=>{this.readyState="paused",s()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(s){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Zj(s,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const s=()=>{this.write([{type:"close"}])};this.readyState==="open"?s():this.once("open",s)}write(s){this.writable=!1,Qj(s,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const s=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=kg()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(s,r)}}let Sg=!1;try{Sg=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ow=Sg;function cw(){}class dw extends lw{constructor(s){if(super(s),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&s.hostname!==location.hostname||n!==s.port}}doWrite(s,r){const n=this.request({method:"POST",data:s});n.on("success",r),n.on("error",(a,i)=>{this.onError("xhr post error",a,i)})}doPoll(){const s=this.request();s.on("data",this.onData.bind(this)),s.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=s}}class xs extends ze{constructor(s,r,n){super(),this.createRequest=s,Oo(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var s;const r=_g(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(s=this._opts.cookieJar)===null||s===void 0||s.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var a;n.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=xs.requestsCount++,xs.requests[this._index]=this)}_onError(s){this.emitReserved("error",s,this._xhr),this._cleanup(!0)}_cleanup(s){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=cw,s)try{this._xhr.abort()}catch{}typeof document<"u"&&delete xs.requests[this._index],this._xhr=null}}_onLoad(){const s=this._xhr.responseText;s!==null&&(this.emitReserved("data",s),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}xs.requestsCount=0;xs.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",v0);else if(typeof addEventListener=="function"){const t="onpagehide"in $t?"pagehide":"unload";addEventListener(t,v0,!1)}}function v0(){for(let t in xs.requests)xs.requests.hasOwnProperty(t)&&xs.requests[t].abort()}const uw=function(){const t=Cg({xdomain:!1});return t&&t.responseType!==null}();class hw extends dw{constructor(s){super(s);const r=s&&s.forceBase64;this.supportsBinary=uw&&!r}request(s={}){return Object.assign(s,{xd:this.xd},this.opts),new xs(Cg,this.uri(),s)}}function Cg(t){const s=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!s||ow))return new XMLHttpRequest}catch{}if(!s)try{return new $t[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Eg=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class mw extends fh{get name(){return"websocket"}doOpen(){const s=this.uri(),r=this.opts.protocols,n=Eg?{}:_g(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(s,r,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=s=>this.onClose({description:"websocket connection closed",context:s}),this.ws.onmessage=s=>this.onData(s.data),this.ws.onerror=s=>this.onError("websocket error",s)}write(s){this.writable=!1;for(let r=0;r<s.length;r++){const n=s[r],a=r===s.length-1;xh(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}a&&Fo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const s=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=kg()),this.supportsBinary||(r.b64=1),this.createUri(s,r)}}const bc=$t.WebSocket||$t.MozWebSocket;class xw extends mw{createSocket(s,r,n){return Eg?new bc(s,r,n):r?new bc(s,r):new bc(s)}doWrite(s,r){this.ws.send(r)}}class pw extends fh{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(s){return this.emitReserved("error",s)}this._transport.closed.then(()=>{this.onClose()}).catch(s=>{this.onError("webtransport error",s)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(s=>{const r=Gj(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=s.readable.pipeThrough(r).getReader(),a=Kj();a.readable.pipeTo(s.writable),this._writer=a.writable.getWriter();const i=()=>{n.read().then(({done:o,value:c})=>{o||(this.onPacket(c),i())}).catch(o=>{})};i();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(s){this.writable=!1;for(let r=0;r<s.length;r++){const n=s[r],a=r===s.length-1;this._writer.write(n).then(()=>{a&&Fo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var s;(s=this._transport)===null||s===void 0||s.close()}}const fw={websocket:xw,webtransport:pw,polling:hw},gw=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,yw=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Dd(t){if(t.length>8e3)throw"URI too long";const s=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let a=gw.exec(t||""),i={},l=14;for(;l--;)i[yw[l]]=a[l]||"";return r!=-1&&n!=-1&&(i.source=s,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=bw(i,i.path),i.queryKey=vw(i,i.query),i}function bw(t,s){const r=/\/{2,9}/g,n=s.replace(r,"/").split("/");return(s.slice(0,1)=="/"||s.length===0)&&n.splice(0,1),s.slice(-1)=="/"&&n.splice(n.length-1,1),n}function vw(t,s){const r={};return s.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,i){a&&(r[a]=i)}),r}const Ud=typeof addEventListener=="function"&&typeof removeEventListener=="function",jl=[];Ud&&addEventListener("offline",()=>{jl.forEach(t=>t())},!1);class br extends ze{constructor(s,r){if(super(),this.binaryType=Jj,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,s&&typeof s=="object"&&(r=s,s=null),s){const n=Dd(s);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=Dd(r.host).host);Oo(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const a=n.prototype.name;this.transports.push(a),this._transportsByName[a]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=aw(this.opts.query)),Ud&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},jl.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(s){const r=Object.assign({},this.opts.query);r.EIO=Ng,r.transport=s,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[s]);return new this._transportsByName[s](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const s=this.opts.rememberUpgrade&&br.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(s);r.open(),this.setTransport(r)}setTransport(s){this.transport&&this.transport.removeAllListeners(),this.transport=s,s.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",br.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",s),this.emitReserved("heartbeat"),s.type){case"open":this.onHandshake(JSON.parse(s.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=s.data,this._onError(r);break;case"message":this.emitReserved("data",s.data),this.emitReserved("message",s.data);break}}onHandshake(s){this.emitReserved("handshake",s),this.id=s.sid,this.transport.query.sid=s.sid,this._pingInterval=s.pingInterval,this._pingTimeout=s.pingTimeout,this._maxPayload=s.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const s=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+s,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},s),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const s=this._getWritablePackets();this.transport.send(s),this._prevBufferLen=s.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(r+=sw(a)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const s=Date.now()>this._pingTimeoutTime;return s&&(this._pingTimeoutTime=0,Fo(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),s}write(s,r,n){return this._sendPacket("message",s,r,n),this}send(s,r,n){return this._sendPacket("message",s,r,n),this}_sendPacket(s,r,n,a){if(typeof r=="function"&&(a=r,r=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:s,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const s=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),s()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():s()}):this.upgrading?n():s()),this}_onError(s){if(br.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",s),this._onClose("transport error",s)}_onClose(s,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ud&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=jl.indexOf(this._offlineEventListener);n!==-1&&jl.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",s,r),this.writeBuffer=[],this._prevBufferLen=0}}}br.protocol=Ng;class jw extends br{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let s=0;s<this._upgrades.length;s++)this._probe(this._upgrades[s])}_probe(s){let r=this.createTransport(s),n=!1;br.priorWebsocketSuccess=!1;const a=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;br.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(m(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=r.name,this.emitReserved("upgradeError",x)}}))};function i(){n||(n=!0,m(),r.close(),r=null)}const l=f=>{const x=new Error("probe error: "+f);x.transport=r.name,i(),this.emitReserved("upgradeError",x)};function o(){l("transport closed")}function c(){l("socket closed")}function d(f){r&&f.name!==r.name&&i()}const m=()=>{r.removeListener("open",a),r.removeListener("error",l),r.removeListener("close",o),this.off("close",c),this.off("upgrading",d)};r.once("open",a),r.once("error",l),r.once("close",o),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&s!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(s){this._upgrades=this._filterUpgrades(s.upgrades),super.onHandshake(s)}_filterUpgrades(s){const r=[];for(let n=0;n<s.length;n++)~this.transports.indexOf(s[n])&&r.push(s[n]);return r}}let ww=class extends jw{constructor(s,r={}){const n=typeof s=="object"?s:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(a=>fw[a]).filter(a=>!!a)),super(s,n)}};function Nw(t,s="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=Dd(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+s,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const _w=typeof ArrayBuffer=="function",kw=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Pg=Object.prototype.toString,Sw=typeof Blob=="function"||typeof Blob<"u"&&Pg.call(Blob)==="[object BlobConstructor]",Cw=typeof File=="function"||typeof File<"u"&&Pg.call(File)==="[object FileConstructor]";function gh(t){return _w&&(t instanceof ArrayBuffer||kw(t))||Sw&&t instanceof Blob||Cw&&t instanceof File}function wl(t,s){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(wl(t[r]))return!0;return!1}if(gh(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return wl(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&wl(t[r]))return!0;return!1}function Ew(t){const s=[],r=t.data,n=t;return n.data=Vd(r,s),n.attachments=s.length,{packet:n,buffers:s}}function Vd(t,s){if(!t)return t;if(gh(t)){const r={_placeholder:!0,num:s.length};return s.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=Vd(t[n],s);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=Vd(t[n],s));return r}return t}function Pw(t,s){return t.data=Hd(t.data,s),delete t.attachments,t}function Hd(t,s){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<s.length)return s[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=Hd(t[r],s);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=Hd(t[r],s));return t}const Aw=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Rw=5;var be;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(be||(be={}));class Mw{constructor(s){this.replacer=s}encode(s){return(s.type===be.EVENT||s.type===be.ACK)&&wl(s)?this.encodeAsBinary({type:s.type===be.EVENT?be.BINARY_EVENT:be.BINARY_ACK,nsp:s.nsp,data:s.data,id:s.id}):[this.encodeAsString(s)]}encodeAsString(s){let r=""+s.type;return(s.type===be.BINARY_EVENT||s.type===be.BINARY_ACK)&&(r+=s.attachments+"-"),s.nsp&&s.nsp!=="/"&&(r+=s.nsp+","),s.id!=null&&(r+=s.id),s.data!=null&&(r+=JSON.stringify(s.data,this.replacer)),r}encodeAsBinary(s){const r=Ew(s),n=this.encodeAsString(r.packet),a=r.buffers;return a.unshift(n),a}}function j0(t){return Object.prototype.toString.call(t)==="[object Object]"}class yh extends ze{constructor(s){super(),this.reviver=s}add(s){let r;if(typeof s=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(s);const n=r.type===be.BINARY_EVENT;n||r.type===be.BINARY_ACK?(r.type=n?be.EVENT:be.ACK,this.reconstructor=new Lw(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(gh(s)||s.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(s),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+s)}decodeString(s){let r=0;const n={type:Number(s.charAt(0))};if(be[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===be.BINARY_EVENT||n.type===be.BINARY_ACK){const i=r+1;for(;s.charAt(++r)!=="-"&&r!=s.length;);const l=s.substring(i,r);if(l!=Number(l)||s.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(l)}if(s.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(s.charAt(r)===","||r===s.length););n.nsp=s.substring(i,r)}else n.nsp="/";const a=s.charAt(r+1);if(a!==""&&Number(a)==a){const i=r+1;for(;++r;){const l=s.charAt(r);if(l==null||Number(l)!=l){--r;break}if(r===s.length)break}n.id=Number(s.substring(i,r+1))}if(s.charAt(++r)){const i=this.tryParse(s.substr(r));if(yh.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(s){try{return JSON.parse(s,this.reviver)}catch{return!1}}static isPayloadValid(s,r){switch(s){case be.CONNECT:return j0(r);case be.DISCONNECT:return r===void 0;case be.CONNECT_ERROR:return typeof r=="string"||j0(r);case be.EVENT:case be.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Aw.indexOf(r[0])===-1);case be.ACK:case be.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Lw{constructor(s){this.packet=s,this.buffers=[],this.reconPack=s}takeBinaryData(s){if(this.buffers.push(s),this.buffers.length===this.reconPack.attachments){const r=Pw(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Tw=Object.freeze(Object.defineProperty({__proto__:null,Decoder:yh,Encoder:Mw,get PacketType(){return be},protocol:Rw},Symbol.toStringTag,{value:"Module"}));function Gt(t,s,r){return t.on(s,r),function(){t.off(s,r)}}const Fw=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ag extends ze{constructor(s,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=s,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const s=this.io;this.subs=[Gt(s,"open",this.onopen.bind(this)),Gt(s,"packet",this.onpacket.bind(this)),Gt(s,"error",this.onerror.bind(this)),Gt(s,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...s){return s.unshift("message"),this.emit.apply(this,s),this}emit(s,...r){var n,a,i;if(Fw.hasOwnProperty(s))throw new Error('"'+s.toString()+'" is a reserved event name');if(r.unshift(s),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const l={type:be.EVENT,data:r};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const m=this.ids++,f=r.pop();this._registerAckCallback(m,f),l.id=m}const o=(a=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||a===void 0?void 0:a.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!o||(c?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(s,r){var n;const a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[s]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[s];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===s&&this.sendBuffer.splice(o,1);r.call(this,new Error("operation has timed out"))},a),l=(...o)=>{this.io.clearTimeoutFn(i),r.apply(this,o)};l.withError=!0,this.acks[s]=l}emitWithAck(s,...r){return new Promise((n,a)=>{const i=(l,o)=>l?a(l):n(o);i.withError=!0,r.push(i),this.emit(s,...r)})}_addToQueue(s){let r;typeof s[s.length-1]=="function"&&(r=s.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:s,flags:Object.assign({fromQueue:!0},this.flags)};s.push((a,...i)=>n!==this._queue[0]?void 0:(a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(a)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(s=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!s||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(s){s.nsp=this.nsp,this.io._packet(s)}onopen(){typeof this.auth=="function"?this.auth(s=>{this._sendConnectPacket(s)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(s){this.packet({type:be.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},s):s})}onerror(s){this.connected||this.emitReserved("connect_error",s)}onclose(s,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",s,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(s=>{if(!this.sendBuffer.some(n=>String(n.id)===s)){const n=this.acks[s];delete this.acks[s],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(s){if(s.nsp===this.nsp)switch(s.type){case be.CONNECT:s.data&&s.data.sid?this.onconnect(s.data.sid,s.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case be.EVENT:case be.BINARY_EVENT:this.onevent(s);break;case be.ACK:case be.BINARY_ACK:this.onack(s);break;case be.DISCONNECT:this.ondisconnect();break;case be.CONNECT_ERROR:this.destroy();const n=new Error(s.data.message);n.data=s.data.data,this.emitReserved("connect_error",n);break}}onevent(s){const r=s.data||[];s.id!=null&&r.push(this.ack(s.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(s){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,s)}super.emit.apply(this,s),this._pid&&s.length&&typeof s[s.length-1]=="string"&&(this._lastOffset=s[s.length-1])}ack(s){const r=this;let n=!1;return function(...a){n||(n=!0,r.packet({type:be.ACK,id:s,data:a}))}}onack(s){const r=this.acks[s.id];typeof r=="function"&&(delete this.acks[s.id],r.withError&&s.data.unshift(null),r.apply(this,s.data))}onconnect(s,r){this.id=s,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(s=>this.emitEvent(s)),this.receiveBuffer=[],this.sendBuffer.forEach(s=>{this.notifyOutgoingListeners(s),this.packet(s)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(s=>s()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:be.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(s){return this.flags.compress=s,this}get volatile(){return this.flags.volatile=!0,this}timeout(s){return this.flags.timeout=s,this}onAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(s),this}prependAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(s),this}offAny(s){if(!this._anyListeners)return this;if(s){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(s===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(s),this}prependAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(s),this}offAnyOutgoing(s){if(!this._anyOutgoingListeners)return this;if(s){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(s===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(s){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,s.data)}}}function ba(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}ba.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var s=Math.random(),r=Math.floor(s*this.jitter*t);t=Math.floor(s*10)&1?t+r:t-r}return Math.min(t,this.max)|0};ba.prototype.reset=function(){this.attempts=0};ba.prototype.setMin=function(t){this.ms=t};ba.prototype.setMax=function(t){this.max=t};ba.prototype.setJitter=function(t){this.jitter=t};class Wd extends ze{constructor(s,r){var n;super(),this.nsps={},this.subs=[],s&&typeof s=="object"&&(r=s,s=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Oo(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new ba({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=s;const a=r.parser||Tw;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(s){return arguments.length?(this._reconnection=!!s,s||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(s){return s===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=s,this)}reconnectionDelay(s){var r;return s===void 0?this._reconnectionDelay:(this._reconnectionDelay=s,(r=this.backoff)===null||r===void 0||r.setMin(s),this)}randomizationFactor(s){var r;return s===void 0?this._randomizationFactor:(this._randomizationFactor=s,(r=this.backoff)===null||r===void 0||r.setJitter(s),this)}reconnectionDelayMax(s){var r;return s===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=s,(r=this.backoff)===null||r===void 0||r.setMax(s),this)}timeout(s){return arguments.length?(this._timeout=s,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(s){if(~this._readyState.indexOf("open"))return this;this.engine=new ww(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=Gt(r,"open",function(){n.onopen(),s&&s()}),i=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),s?s(o):this.maybeReconnectOnOpen()},l=Gt(r,"error",i);if(this._timeout!==!1){const o=this._timeout,c=this.setTimeoutFn(()=>{a(),i(new Error("timeout")),r.close()},o);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(a),this.subs.push(l),this}connect(s){return this.open(s)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const s=this.engine;this.subs.push(Gt(s,"ping",this.onping.bind(this)),Gt(s,"data",this.ondata.bind(this)),Gt(s,"error",this.onerror.bind(this)),Gt(s,"close",this.onclose.bind(this)),Gt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(s){try{this.decoder.add(s)}catch(r){this.onclose("parse error",r)}}ondecoded(s){Fo(()=>{this.emitReserved("packet",s)},this.setTimeoutFn)}onerror(s){this.emitReserved("error",s)}socket(s,r){let n=this.nsps[s];return n?this._autoConnect&&!n.active&&n.connect():(n=new Ag(this,s,r),this.nsps[s]=n),n}_destroy(s){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(s){const r=this.encoder.encode(s);for(let n=0;n<r.length;n++)this.engine.write(r[n],s.options)}cleanup(){this.subs.forEach(s=>s()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(s,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",s,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const s=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{s.skipReconnect||(this.emitReserved("reconnect_attempt",s.backoff.attempts),!s.skipReconnect&&s.open(a=>{a?(s._reconnecting=!1,s.reconnect(),this.emitReserved("reconnect_error",a)):s.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const s=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",s)}}const Pa={};function Nl(t,s){typeof t=="object"&&(s=t,t=void 0),s=s||{};const r=Nw(t,s.path||"/socket.io"),n=r.source,a=r.id,i=r.path,l=Pa[a]&&i in Pa[a].nsps,o=s.forceNew||s["force new connection"]||s.multiplex===!1||l;let c;return o?c=new Wd(n,s):(Pa[a]||(Pa[a]=new Wd(n,s)),c=Pa[a]),r.query&&!s.query&&(s.query=r.queryKey),c.socket(r.path,s)}Object.assign(Nl,{Manager:Wd,Socket:Ag,io:Nl,connect:Nl});const W=u1()(x1((t,s)=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!0},error_message:null},current_bom:{id:null,title:null,items:[],total_cost:0,item_count:0,last_updated:null},active_comparison:{product_ids:[],shop_ids:[],quantity:1,comparison_data:[]},user_location:{coordinates:null,address:null,accuracy:null},app_preferences:{language:"en",currency:"AED",units:"metric",theme:"light",offline_mode:!1},notification_state:{unread_count:0,price_alerts:0,rfq_messages:0,system_notifications:0},websocket_state:{socket:null,is_connected:!1,connection_error:null,reconnect_attempts:0},login_user:async(r,n)=>{var a,i;t(l=>({authentication_state:{...l.authentication_state,authentication_status:{...l.authentication_state.authentication_status,is_loading:!0},error_message:null}}));try{const l=await G.post("http://localhost:3000/api/auth/login",{email:r,password:n},{headers:{"Content-Type":"application/json"}}),{user:o,token:c}=l.data;t(()=>({authentication_state:{current_user:o,auth_token:c,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null}})),s().connect_websocket()}catch(l){const o=((i=(a=l.response)==null?void 0:a.data)==null?void 0:i.message)||l.message||"Login failed";throw t(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:o}})),new Error(o)}},register_user:async r=>{var n,a;t(i=>({authentication_state:{...i.authentication_state,authentication_status:{...i.authentication_state.authentication_status,is_loading:!0},error_message:null}}));try{const i=await G.post("http://localhost:3000/api/auth/register",{email:r.email,password_hash:r.password,name:r.name,user_type:r.user_type,phone:r.phone||null,location_lat:r.location_lat||null,location_lng:r.location_lng||null,address:r.address||null},{headers:{"Content-Type":"application/json"}}),{user:l,token:o}=i.data;t(()=>({authentication_state:{current_user:l,auth_token:o,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null}})),s().connect_websocket()}catch(i){const l=((a=(n=i.response)==null?void 0:n.data)==null?void 0:a.message)||i.message||"Registration failed";throw t(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:l}})),new Error(l)}},logout_user:async()=>{const{auth_token:r}=s().authentication_state;try{r&&await G.post("http://localhost:3000/api/auth/logout",{},{headers:{Authorization:`Bearer ${r}`}})}catch(n){console.warn("Logout API call failed:",n)}s().disconnect_websocket(),t(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null},current_bom:{id:null,title:null,items:[],total_cost:0,item_count:0,last_updated:null},active_comparison:{product_ids:[],shop_ids:[],quantity:1,comparison_data:[]},notification_state:{unread_count:0,price_alerts:0,rfq_messages:0,system_notifications:0}}))},initialize_auth:async()=>{const{authentication_state:r}=s(),n=r.auth_token;if(!n){t(a=>({authentication_state:{...a.authentication_state,authentication_status:{...a.authentication_state.authentication_status,is_loading:!1}}}));return}try{const i=(await G.get("http://localhost:3000/api/auth/me",{headers:{Authorization:`Bearer ${n}`}})).data;t(()=>({authentication_state:{current_user:i,auth_token:n,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null}})),s().connect_websocket()}catch{t(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null}}))}},clear_auth_error:()=>{t(r=>({authentication_state:{...r.authentication_state,error_message:null}}))},update_user_profile:r=>{t(n=>({authentication_state:{...n.authentication_state,current_user:n.authentication_state.current_user?{...n.authentication_state.current_user,...r}:null}}))},create_bom:async r=>{var a,i;const{auth_token:n}=s().authentication_state;if(!n)throw new Error("Authentication required");try{const o=(await G.post("http://localhost:3000/api/boms",r,{headers:{Authorization:`Bearer ${n}`}})).data;t(()=>({current_bom:{id:o.id,title:o.title,items:[],total_cost:o.total_cost,item_count:o.item_count,last_updated:new Date(o.updated_at).toISOString()}}))}catch(l){throw new Error(((i=(a=l.response)==null?void 0:a.data)==null?void 0:i.message)||"Failed to create BOM")}},load_bom:async r=>{var a,i;const{auth_token:n}=s().authentication_state;if(!n)throw new Error("Authentication required");try{const o=(await G.get(`http://localhost:3000/api/boms/${r}`,{headers:{Authorization:`Bearer ${n}`}})).data;t(()=>({current_bom:{id:o.id,title:o.title,items:o.items||[],total_cost:o.total_cost,item_count:o.item_count,last_updated:new Date(o.updated_at).toISOString()}}))}catch(l){throw new Error(((i=(a=l.response)==null?void 0:a.data)==null?void 0:i.message)||"Failed to load BOM")}},update_bom:async r=>{var i,l;const{auth_token:n}=s().authentication_state,{current_bom:a}=s();if(!n||!a.id)throw new Error("Authentication and active BOM required");try{const c=(await G.put(`http://localhost:3000/api/boms/${a.id}`,r,{headers:{Authorization:`Bearer ${n}`}})).data;t(d=>({current_bom:{...d.current_bom,title:c.title,total_cost:c.total_cost,item_count:c.item_count,last_updated:new Date(c.updated_at).toISOString()}}))}catch(o){throw new Error(((l=(i=o.response)==null?void 0:i.data)==null?void 0:l.message)||"Failed to update BOM")}},add_bom_item:async r=>{var i,l;const{auth_token:n}=s().authentication_state,{current_bom:a}=s();if(!n||!a.id)throw new Error("Authentication and active BOM required");try{const c=(await G.post(`http://localhost:3000/api/boms/${a.id}/items`,{variant_id:r.variant_id,quantity:r.quantity,unit:r.unit,waste_factor:r.waste_factor||0,notes:r.notes||null},{headers:{Authorization:`Bearer ${n}`}})).data;t(d=>({current_bom:{...d.current_bom,items:[...d.current_bom.items,c],item_count:d.current_bom.item_count+1,last_updated:new Date().toISOString()}}))}catch(o){throw new Error(((l=(i=o.response)==null?void 0:i.data)==null?void 0:l.message)||"Failed to add item to BOM")}},remove_bom_item:async r=>{var i,l;const{auth_token:n}=s().authentication_state,{current_bom:a}=s();if(!n||!a.id)throw new Error("Authentication and active BOM required");try{await G.delete(`http://localhost:3000/api/boms/${a.id}/items/${r}`,{headers:{Authorization:`Bearer ${n}`}}),t(o=>({current_bom:{...o.current_bom,items:o.current_bom.items.filter(c=>c.id!==r),item_count:Math.max(0,o.current_bom.item_count-1),last_updated:new Date().toISOString()}}))}catch(o){throw new Error(((l=(i=o.response)==null?void 0:i.data)==null?void 0:l.message)||"Failed to remove item from BOM")}},clear_current_bom:()=>{t(()=>({current_bom:{id:null,title:null,items:[],total_cost:0,item_count:0,last_updated:null}}))},add_to_comparison:r=>{t(n=>({active_comparison:{...n.active_comparison,product_ids:n.active_comparison.product_ids.includes(r)?n.active_comparison.product_ids:[...n.active_comparison.product_ids,r]}}))},remove_from_comparison:r=>{t(n=>({active_comparison:{...n.active_comparison,product_ids:n.active_comparison.product_ids.filter(a=>a!==r),comparison_data:n.active_comparison.comparison_data.filter(a=>a.variant_id!==r)}}))},clear_comparison:()=>{t(()=>({active_comparison:{product_ids:[],shop_ids:[],quantity:1,comparison_data:[]}}))},update_comparison_quantity:r=>{t(n=>({active_comparison:{...n.active_comparison,quantity:Math.max(1,r)}}))},update_user_location:r=>{t(()=>({user_location:{coordinates:r.coordinates,address:r.address||null,accuracy:r.accuracy||null}}))},clear_user_location:()=>{t(()=>({user_location:{coordinates:null,address:null,accuracy:null}}))},update_language:async r=>{const{auth_token:n,current_user:a}=s().authentication_state;if(t(i=>({app_preferences:{...i.app_preferences,language:r}})),n&&a)try{await G.put(`http://localhost:3000/api/users/${a.id}`,{preferences:{...a.preferences,language:r}},{headers:{Authorization:`Bearer ${n}`}})}catch(i){console.warn("Failed to update language preference on server:",i)}},update_currency:async r=>{const{auth_token:n,current_user:a}=s().authentication_state;if(t(i=>({app_preferences:{...i.app_preferences,currency:r}})),n&&a)try{await G.put(`http://localhost:3000/api/users/${a.id}`,{preferences:{...a.preferences,currency:r}},{headers:{Authorization:`Bearer ${n}`}})}catch(i){console.warn("Failed to update currency preference on server:",i)}},update_theme:r=>{t(n=>({app_preferences:{...n.app_preferences,theme:r}}))},toggle_offline_mode:()=>{t(r=>({app_preferences:{...r.app_preferences,offline_mode:!r.app_preferences.offline_mode}}))},update_notification_counts:r=>{t(n=>({notification_state:{...n.notification_state,...r}}))},mark_notifications_read:r=>{t(n=>r?{notification_state:{...n.notification_state,[r]:0,unread_count:Math.max(0,n.notification_state.unread_count-(n.notification_state[r]||0))}}:{notification_state:{unread_count:0,price_alerts:0,rfq_messages:0,system_notifications:0}})},connect_websocket:()=>{const{websocket_state:r,authentication_state:n}=s();if(!(r.socket&&r.is_connected))try{const a=Nl("http://localhost:3000",{auth:{token:n.auth_token},reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3});a.on("connect",()=>{t(i=>({websocket_state:{...i.websocket_state,socket:a,is_connected:!0,connection_error:null,reconnect_attempts:0}}))}),a.on("disconnect",()=>{t(i=>({websocket_state:{...i.websocket_state,is_connected:!1}}))}),a.on("connect_error",i=>{t(l=>({websocket_state:{...l.websocket_state,connection_error:i.message,reconnect_attempts:l.websocket_state.reconnect_attempts+1}}))}),a.on("price_alert_triggered",i=>{s().handle_price_alert(i)}),a.on("stock_status_changed",i=>{s().handle_stock_update(i)}),a.on("message_sent",i=>{s().handle_rfq_message(i)}),a.on("rfq_status_changed",i=>{s().handle_rfq_status_change(i)}),t(i=>({websocket_state:{...i.websocket_state,socket:a}}))}catch(a){t(()=>({websocket_state:{socket:null,is_connected:!1,connection_error:a.message,reconnect_attempts:0}}))}},disconnect_websocket:()=>{const{websocket_state:r}=s();r.socket&&r.socket.disconnect(),t(()=>({websocket_state:{socket:null,is_connected:!1,connection_error:null,reconnect_attempts:0}}))},handle_price_alert:()=>{t(r=>({notification_state:{...r.notification_state,price_alerts:r.notification_state.price_alerts+1,unread_count:r.notification_state.unread_count+1}}))},handle_stock_update:()=>{},handle_rfq_message:()=>{t(r=>({notification_state:{...r.notification_state,rfq_messages:r.notification_state.rfq_messages+1,unread_count:r.notification_state.unread_count+1}}))},handle_rfq_status_change:()=>{}}),{name:"constructhub-app-storage",partialize:t=>({authentication_state:{current_user:t.authentication_state.current_user,auth_token:t.authentication_state.auth_token,authentication_status:{is_authenticated:t.authentication_state.authentication_status.is_authenticated,is_loading:!1},error_message:null},current_bom:t.current_bom,active_comparison:t.active_comparison,user_location:t.user_location,app_preferences:t.app_preferences,notification_state:t.notification_state})})),Ow=()=>{var B,Y;const t=Is(),[s,r]=u.useState(""),[n,a]=u.useState(!1),[i,l]=u.useState(!1),[o,c]=u.useState(!1),d=u.useRef(null),m=u.useRef(null),f=u.useRef(null),x=W(U=>U.authentication_state.current_user),j=W(U=>U.authentication_state.authentication_status.is_authenticated),y=W(U=>U.authentication_state.auth_token),b=W(U=>U.app_preferences.language),w=W(U=>U.notification_state),g=W(U=>U.current_bom),h=W(U=>U.active_comparison),p=W(U=>U.logout_user),k=W(U=>U.update_language),{data:E}=ce({queryKey:["searchSuggestions",s],queryFn:async()=>!s.trim()||s.length<2?{suggestions:[]}:(await G.get("http://localhost:3000/api/search/suggestions",{params:{q:s,limit:10,type:"products"}})).data,enabled:s.length>=2&&n,staleTime:3e4,retry:1}),{data:I}=ce({queryKey:["notificationCount"],queryFn:async()=>y?(await G.get("http://localhost:3000/api/notifications",{params:{is_read:!1,limit:1},headers:{Authorization:`Bearer ${y}`}})).data:{notifications:[],unread_count:0,total:0},enabled:!!y,refetchInterval:3e4,staleTime:15e3,retry:1}),_=U=>{U.preventDefault(),s.trim()&&(t(`/search?q=${encodeURIComponent(s.trim())}`),r(""),a(!1))},T=U=>{U.id?U.type==="shop"?t(`/shops/${U.id}`):U.type==="product"?t(`/product/${U.id}`):t(`/search?q=${encodeURIComponent(U.text)}`):t(`/search?q=${encodeURIComponent(U.text)}`),r(""),a(!1)},L=async()=>{try{await p(),t("/")}catch(U){console.error("Logout error:",U)}l(!1)},q=async()=>{await k(b==="en"?"ar":"en")};u.useEffect(()=>{const U=P=>{m.current&&!m.current.contains(P.target)&&l(!1),f.current&&!f.current.contains(P.target)&&c(!1),d.current&&!d.current.contains(P.target)&&a(!1)};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[]);const D=(I==null?void 0:I.unread_count)||w.unread_count,R=w.rfq_messages;return e.jsx(e.Fragment,{children:e.jsxs("header",{className:"bg-white shadow-lg border-b border-gray-200 sticky top-0 z-50",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx("div",{className:"flex items-center flex-shrink-0",children:e.jsxs(Z,{to:"/",className:"flex items-center space-x-2 group",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg flex items-center justify-center group-hover:from-blue-700 group-hover:to-blue-800 transition-all duration-200",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),e.jsx("span",{className:"text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors duration-200",children:"ConstructHub"})]})}),e.jsx("div",{className:"hidden md:flex flex-1 max-w-2xl mx-6",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx("form",{onSubmit:_,className:"relative",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{ref:d,type:"text",value:s,onChange:U=>r(U.target.value),onFocus:()=>a(!0),placeholder:b==="ar"?"ابحث عن المنتجات...":"Search products...",className:"block w-full pl-10 pr-20 py-3 border-2 border-gray-200 rounded-lg leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200"}),e.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center",children:[e.jsx(Z,{to:"/scan",className:"p-2 text-gray-400 hover:text-blue-600 transition-colors duration-200",title:b==="ar"?"مسح الباركود":"Scan Barcode",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h2M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})})}),e.jsx("button",{type:"button",className:"p-2 text-gray-400 hover:text-blue-600 transition-colors duration-200 mr-2",title:b==="ar"?"البحث الصوتي":"Voice Search",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})})]})]})}),n&&(E==null?void 0:E.suggestions)&&E.suggestions.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:E.suggestions.map((U,P)=>e.jsxs("button",{onClick:()=>T(U),className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center space-x-3 transition-colors duration-150",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("span",{className:"text-gray-900",children:U.text}),e.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:U.type})]},P))})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:q,className:"p-2 text-gray-600 hover:text-blue-600 rounded-lg hover:bg-gray-50 transition-all duration-200",title:b==="ar"?"English":"العربية",children:e.jsx("span",{className:"text-sm font-medium",children:b==="ar"?"EN":"ع"})}),!j&&e.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[e.jsx(Z,{to:"/login",className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-blue-600 transition-colors duration-200",children:b==="ar"?"تسجيل الدخول":"Sign In"}),e.jsx(Z,{to:"/register",className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-all duration-200 shadow-md hover:shadow-lg",children:b==="ar"?"إنشاء حساب":"Sign Up"})]}),j&&e.jsxs(e.Fragment,{children:[(x==null?void 0:x.user_type)==="buyer"&&e.jsxs(Z,{to:g.id?`/bom/${g.id}`:"/bom",className:"relative p-2 text-gray-600 hover:text-blue-600 rounded-lg hover:bg-gray-50 transition-all duration-200",title:b==="ar"?"قائمة المواد":"Bill of Materials",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),g.item_count>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:g.item_count})]}),(x==null?void 0:x.user_type)==="seller"&&e.jsxs(Z,{to:"/rfq",className:"relative p-2 text-gray-600 hover:text-blue-600 rounded-lg hover:bg-gray-50 transition-all duration-200",title:b==="ar"?"صندوق طلبات الأسعار":"RFQ Inbox",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),R>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-orange-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:R})]}),h.product_ids.length>0&&e.jsxs(Z,{to:"/compare",className:"relative p-2 text-gray-600 hover:text-blue-600 rounded-lg hover:bg-gray-50 transition-all duration-200",title:b==="ar"?"مقارنة المنتجات":"Compare Products",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),e.jsx("span",{className:"absolute -top-1 -right-1 bg-green-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:h.product_ids.length})]}),e.jsxs(Z,{to:"/alerts",className:"relative p-2 text-gray-600 hover:text-blue-600 rounded-lg hover:bg-gray-50 transition-all duration-200",title:b==="ar"?"الإشعارات":"Notifications",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),D>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:D>99?"99+":D})]}),e.jsxs("div",{className:"relative",ref:m,children:[e.jsxs("button",{onClick:()=>l(!i),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-50 transition-all duration-200",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-medium",children:((Y=(B=x==null?void 0:x.name)==null?void 0:B.charAt(0))==null?void 0:Y.toUpperCase())||"U"})}),e.jsx("span",{className:"hidden lg:block text-sm font-medium text-gray-700",children:x==null?void 0:x.name}),e.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[e.jsxs(Z,{to:"/profile",onClick:()=>l(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors duration-150",children:[e.jsx("svg",{className:"w-4 h-4 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),b==="ar"?"الملف الشخصي":"Profile"]}),(x==null?void 0:x.user_type)==="seller"&&e.jsxs(Z,{to:"/shop/dashboard",onClick:()=>l(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors duration-150",children:[e.jsx("svg",{className:"w-4 h-4 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),b==="ar"?"لوحة المتجر":"Shop Dashboard"]}),e.jsxs(Z,{to:"/settings",onClick:()=>l(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors duration-150",children:[e.jsxs("svg",{className:"w-4 h-4 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),b==="ar"?"الإعدادات":"Settings"]}),e.jsx("hr",{className:"my-2"}),e.jsxs("button",{onClick:L,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors duration-150",children:[e.jsx("svg",{className:"w-4 h-4 mr-3 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),b==="ar"?"تسجيل الخروج":"Sign Out"]})]})]})]}),e.jsx("button",{onClick:()=>c(!o),className:"md:hidden p-2 text-gray-600 hover:text-blue-600 rounded-lg hover:bg-gray-50 transition-all duration-200",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o?e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),e.jsx("div",{className:"md:hidden pb-4",children:e.jsx("form",{onSubmit:_,className:"relative",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",value:s,onChange:U=>r(U.target.value),placeholder:b==="ar"?"ابحث عن المنتجات...":"Search products...",className:"block w-full pl-10 pr-12 py-3 border-2 border-gray-200 rounded-lg leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200"}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:e.jsx(Z,{to:"/scan",className:"text-gray-400 hover:text-blue-600 transition-colors duration-200",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h2M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})})})})]})})})]}),o&&e.jsx("div",{ref:f,className:"md:hidden bg-white border-t border-gray-200",children:e.jsx("div",{className:"px-4 py-4 space-y-2",children:j?e.jsxs(e.Fragment,{children:[e.jsxs(Z,{to:"/profile",onClick:()=>c(!1),className:"flex items-center px-4 py-3 text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-lg transition-all duration-200",children:[e.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),b==="ar"?"الملف الشخصي":"Profile"]}),(x==null?void 0:x.user_type)==="buyer"&&e.jsxs(Z,{to:g.id?`/bom/${g.id}`:"/bom",onClick:()=>c(!1),className:"flex items-center px-4 py-3 text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-lg transition-all duration-200",children:[e.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),b==="ar"?"قائمة المواد":"My BOM",g.item_count>0&&e.jsx("span",{className:"ml-auto bg-blue-600 text-white text-xs rounded-full px-2 py-1",children:g.item_count})]}),(x==null?void 0:x.user_type)==="seller"&&e.jsxs(e.Fragment,{children:[e.jsxs(Z,{to:"/shop/dashboard",onClick:()=>c(!1),className:"flex items-center px-4 py-3 text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-lg transition-all duration-200",children:[e.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),b==="ar"?"لوحة المتجر":"Shop Dashboard"]}),e.jsxs(Z,{to:"/rfq",onClick:()=>c(!1),className:"flex items-center px-4 py-3 text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-lg transition-all duration-200",children:[e.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),b==="ar"?"طلبات الأسعار":"RFQ Inbox",R>0&&e.jsx("span",{className:"ml-auto bg-orange-500 text-white text-xs rounded-full px-2 py-1",children:R})]})]}),e.jsxs(Z,{to:"/alerts",onClick:()=>c(!1),className:"flex items-center px-4 py-3 text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-lg transition-all duration-200",children:[e.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),b==="ar"?"الإشعارات":"Notifications",D>0&&e.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs rounded-full px-2 py-1",children:D})]}),e.jsxs(Z,{to:"/settings",onClick:()=>c(!1),className:"flex items-center px-4 py-3 text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-lg transition-all duration-200",children:[e.jsxs("svg",{className:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),b==="ar"?"الإعدادات":"Settings"]}),e.jsx("hr",{className:"my-2"}),e.jsxs("button",{onClick:L,className:"flex items-center w-full px-4 py-3 text-base font-medium text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200",children:[e.jsx("svg",{className:"w-5 h-5 mr-3 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),b==="ar"?"تسجيل الخروج":"Sign Out"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{to:"/login",onClick:()=>c(!1),className:"block px-4 py-3 text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-lg transition-all duration-200",children:b==="ar"?"تسجيل الدخول":"Sign In"}),e.jsx(Z,{to:"/register",onClick:()=>c(!1),className:"block px-4 py-3 text-base font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-all duration-200",children:b==="ar"?"إنشاء حساب":"Sign Up"})]})})})]})})};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rg=(...t)=>t.filter((s,r,n)=>!!s&&n.indexOf(s)===r).join(" ");/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=u.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...o},c)=>u.createElement("svg",{ref:c,...Bw,width:s,height:s,stroke:t,strokeWidth:n?Number(r)*24/Number(s):r,className:Rg("lucide",a),...o},[...l.map(([d,m])=>u.createElement(d,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=(t,s)=>{const r=u.forwardRef(({className:n,...a},i)=>u.createElement(Iw,{ref:i,iconNode:s,className:Rg(`lucide-${$w(t)}`,n),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=ee("Accessibility",[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=ee("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=ee("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=ee("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=ee("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=ee("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=ee("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=ee("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=ee("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=ee("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=ee("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=ee("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=ee("Flashlight",[["path",{d:"M18 6c0 2-2 2-2 4v10a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4V2h12z",key:"1orkel"}],["line",{x1:"6",x2:"18",y1:"6",y2:"6",key:"1z11jq"}],["line",{x1:"12",x2:"12",y1:"12",y2:"12",key:"1f4yc1"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=ee("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=ee("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=ee("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=ee("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=ee("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=ee("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=ee("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=ee("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=ee("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=ee("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=ee("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=ee("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=ee("Package2",[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=ee("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=ee("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=ee("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=ee("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=ee("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=ee("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=ee("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=ee("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=ee("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=ee("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=ee("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=ee("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=ee("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=ee("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),uN=()=>{const t=Rr(),s=W(j=>j.authentication_state.authentication_status.is_authenticated),r=W(j=>j.authentication_state.current_user),n=W(j=>j.current_bom.item_count),a=W(j=>j.active_comparison.product_ids.length),i=W(j=>j.notification_state.rfq_messages),l=(r==null?void 0:r.user_type)||"guest",c=(()=>{const j=t.pathname;return j==="/"||j.startsWith("/search")||j.startsWith("/categories")?"search":j.startsWith("/compare")?"compare":j.startsWith("/bom")||j.startsWith("/shop/dashboard")||j.startsWith("/shop/inventory")?"bom":j.startsWith("/rfq")?"messages":j.startsWith("/profile")||j.startsWith("/shop/settings")?"profile":"search"})(),m=(()=>{const j=[{id:"search",label:"Search",icon:ys,route:s?"/search":"/",badge:null,disabled:!1,guestPrompt:!1}];return l==="seller"?[...j,{id:"messages",label:"RFQs",icon:Zs,route:"/rfq",badge:i>0?i:null,disabled:!s,guestPrompt:!s},{id:"bom",label:"Shop",icon:lN,route:"/shop/dashboard",badge:null,disabled:!s,guestPrompt:!s},{id:"profile",label:"Profile",icon:gi,route:s?"/profile":"/login",badge:null,disabled:!1,guestPrompt:!1}]:[...j,{id:"compare",label:"Compare",icon:wh,route:"/compare",badge:a>0?a:null,disabled:!s,guestPrompt:!s},{id:"bom",label:"Projects",icon:Ww,route:"/bom",badge:n>0?n:null,disabled:!s,guestPrompt:!s},{id:"messages",label:"Messages",icon:Zs,route:"/rfq",badge:i>0?i:null,disabled:!s,guestPrompt:!s},{id:"profile",label:"Profile",icon:gi,route:s?"/profile":"/login",badge:null,disabled:!1,guestPrompt:!1}]})(),f=({count:j})=>e.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium min-w-[20px]",children:j>99?"99+":j}),x=(j,y,b)=>{y&&b&&(j.preventDefault(),window.location.href="/login")};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 md:hidden z-50",children:[e.jsx("div",{className:"grid grid-cols-4 h-16",children:m.map(j=>{const y=j.icon,b=c===j.id,w=j.disabled,g=e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative",children:[e.jsx(y,{size:24,className:`${b?"text-blue-600":w?"text-gray-300":"text-gray-500"} transition-colors duration-200`}),j.badge&&e.jsx(f,{count:j.badge})]}),e.jsx("span",{className:`text-xs mt-1 font-medium ${b?"text-blue-600":w?"text-gray-300":"text-gray-500"} transition-colors duration-200`,children:j.label})]});return e.jsxs("div",{className:"relative",children:[w?e.jsx("button",{onClick:h=>x(h,w,j.guestPrompt),className:`w-full h-full flex flex-col items-center justify-center space-y-1 transition-all duration-200 ${b?"bg-blue-50":"hover:bg-gray-50 active:bg-gray-100"}`,disabled:w&&!j.guestPrompt,children:g}):e.jsx(Z,{to:j.route,className:`w-full h-full flex flex-col items-center justify-center space-y-1 transition-all duration-200 ${b?"bg-blue-50":"hover:bg-gray-50 active:bg-gray-100"}`,children:g}),b&&e.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-8 h-1 bg-blue-600 rounded-b-full"}),w&&j.guestPrompt&&e.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-400 rounded-full"})]},j.id)})}),e.jsx("div",{className:"h-safe-area-inset-bottom bg-white"})]}),!s&&e.jsx("div",{className:"fixed bottom-16 left-0 right-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white px-4 py-2 md:hidden z-40",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Sign up to access all features"}),e.jsx("p",{className:"text-xs text-blue-100",children:"Create BOMs, compare prices, and manage projects"})]}),e.jsx(Z,{to:"/register",className:"bg-white text-blue-600 px-3 py-1 rounded-md text-sm font-medium hover:bg-blue-50 transition-colors duration-200 ml-3",children:"Sign Up"})]})})]})},hN=()=>e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),mN=()=>e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),xN=()=>e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})}),pN=()=>e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})}),fN=()=>e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),k0=()=>e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),gN=()=>{var h,p;const[t,s]=u.useState(!1),[r,n]=u.useState(!1),a=W(k=>k.current_bom),i=W(k=>k.authentication_state.auth_token),l=W(k=>k.app_preferences.currency),o=W(k=>k.authentication_state.authentication_status.is_authenticated),c=W(k=>k.create_bom),d=Je(),{data:m,isLoading:f}=ce({queryKey:["bom-cost-analysis",a==null?void 0:a.id],queryFn:async()=>!(a!=null&&a.id)||!i?null:(await G.get(`http://localhost:3000/api/boms/${a.id}/cost-analysis`,{headers:{Authorization:`Bearer ${i}`},params:{include_delivery:!1}})).data,enabled:!!(a!=null&&a.id)&&!!i,staleTime:3e4,refetchOnWindowFocus:!1}),x=xe({mutationFn:async()=>{if(!(a!=null&&a.id)||!i||!(a!=null&&a.items)||a.items.length===0)throw new Error("No items to remove");const k=a.items[a.items.length-1];return(await G.delete(`http://localhost:3000/api/boms/${a.id}/items/${k.id}`,{headers:{Authorization:`Bearer ${i}`}})).data},onSuccess:k=>{if(!a)return;const E=a.items.slice(0,-1);W.setState(I=>({current_bom:{...I.current_bom,items:E,item_count:Math.max(0,I.current_bom.item_count-1),total_cost:k.updated_total_cost,last_updated:new Date(k.updated_at).toISOString()}})),d.invalidateQueries({queryKey:["bom-cost-analysis"]})}}),j=xe({mutationFn:async()=>{if(!i)throw new Error("Authentication required");await c({title:"New Project",description:"Created from quick access",is_public:!1})}});if(!o||!a)return null;const y=()=>{a!=null&&a.items&&a.items.length>0&&x.mutate()},b=()=>{j.mutate()},w=k=>new Intl.NumberFormat("en-AE",{style:"currency",currency:l,minimumFractionDigits:2}).format(k),g=((p=(h=m==null?void 0:m.optimization_suggestions)==null?void 0:h.multi_shop_optimal)==null?void 0:p.reduce((k,E)=>k+(E.savings||0),0))||null;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col items-end space-y-2",children:[t&&e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl border border-gray-200 p-4 w-80 mb-2 transform transition-all duration-300 ease-out",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:a.title||"Current BOM"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(k0,{})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-3 mb-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Total Cost"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:f?e.jsx("span",{className:"animate-pulse",children:"Loading..."}):w((m==null?void 0:m.total_cost)||a.total_cost)})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Items"}),e.jsx("p",{className:"text-lg font-bold text-blue-600",children:a.item_count})]})]}),g&&g>0&&e.jsx("div",{className:"mt-2 pt-2 border-t border-blue-100",children:e.jsxs("p",{className:"text-xs text-green-600",children:["Potential savings: ",w(g)]})})]}),a.items.length>0?e.jsx("div",{className:"space-y-2 mb-3 max-h-32 overflow-y-auto",children:a.items.slice(-3).map(k=>e.jsx("div",{className:"flex items-center justify-between text-xs bg-gray-50 rounded p-2",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-gray-900 truncate",children:["Item ",k.variant_id.slice(-6)]}),e.jsxs("p",{className:"text-gray-500",children:[k.quantity," ",k.unit]})]})},k.id))}):e.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No items in BOM yet"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:y,disabled:a.items.length===0||x.isPending,className:"flex-1 flex items-center justify-center px-3 py-2 text-xs font-medium text-red-600 bg-red-50 border border-red-200 rounded-lg hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:x.isPending?e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-red-600"}):e.jsxs(e.Fragment,{children:[e.jsx(xN,{}),e.jsx("span",{className:"ml-1",children:"Remove"})]})}),e.jsx(Z,{to:`/bom/${a.id}`,className:"flex-1 flex items-center justify-center px-3 py-2 text-xs font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:"View Full"}),e.jsx("button",{onClick:()=>n(!r),className:"flex items-center justify-center px-3 py-2 text-xs font-medium text-gray-600 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(pN,{})})]})]}),e.jsx("div",{className:"relative",children:a.id?e.jsxs("button",{onClick:()=>s(!t),className:"bg-blue-600 hover:bg-blue-700 text-white rounded-full p-4 shadow-2xl transition-all duration-200 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-100",children:[e.jsx(hN,{}),a.item_count>0&&e.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full h-6 w-6 flex items-center justify-center animate-pulse",children:a.item_count>99?"99+":a.item_count}),e.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-1 shadow-lg",children:t?e.jsx(k0,{}):e.jsx(fN,{})})]}):e.jsx("button",{onClick:b,disabled:j.isPending,className:"bg-green-600 hover:bg-green-700 text-white rounded-full p-4 shadow-2xl transition-all duration-200 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-100 disabled:opacity-50",children:j.isPending?e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"}):e.jsx(mN,{})})})]})})},yN=()=>{const t=Is(),[s,r]=u.useState(""),n=W(h=>h.authentication_state.authentication_status.is_authenticated),a=W(h=>h.user_location),i=W(h=>h.app_preferences.language),l=async()=>(await G.get("http://localhost:3000/api/product-variants",{params:{limit:8,is_active:!0,sort_by:"created_at",sort_order:"desc"}})).data,o=async()=>(await G.get("http://localhost:3000/api/shops",{params:{verified:!0,limit:6,sort_by:"rating_average",sort_order:"desc"}})).data,c=async()=>(await G.get("http://localhost:3000/api/categories",{params:{parent_id:null,is_active:!0,sort_by:"sort_order"}})).data,d={shop_count:1250,product_count:15e3,user_count:8500},{data:m,isLoading:f}=ce({queryKey:["featured-products"],queryFn:l,staleTime:6e4,retry:1}),{data:x,isLoading:j}=ce({queryKey:["featured-shops"],queryFn:o,staleTime:6e4,retry:1}),{data:y,isLoading:b}=ce({queryKey:["top-categories"],queryFn:c,staleTime:3e5,retry:1}),w=h=>{h.preventDefault(),s.trim()&&t(`/search?q=${encodeURIComponent(s.trim())}`)},g=["cement 25kg","steel bars 12mm","ceramic tiles","paint white","electrical wire","plumbing pipes"];return e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"relative bg-gradient-to-br from-blue-50 to-indigo-100 py-20 lg:py-32",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 leading-tight mb-6",children:i==="ar"?"منصة مواد البناء الذكية":"Smart Construction Materials Platform"}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:i==="ar"?"اعثر على أفضل الأسعار، قارن المتاجر، وأدر مشاريعك بكل سهولة":"Find the best prices, compare shops, and manage your construction projects with ease"}),e.jsx("div",{className:"max-w-2xl mx-auto mb-12",children:e.jsxs("form",{onSubmit:w,className:"relative",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ys,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 size-6"}),e.jsx("input",{type:"text",value:s,onChange:h=>r(h.target.value),placeholder:i==="ar"?"ابحث عن مواد البناء...":"Search for construction materials...",className:"w-full pl-12 pr-32 py-4 text-lg border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all duration-200"}),e.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700 transition-all duration-200",children:i==="ar"?"بحث":"Search"})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap justify-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-500 mr-2",children:i==="ar"?"اقتراحات شائعة:":"Popular searches:"}),g.slice(0,4).map((h,p)=>e.jsx("button",{onClick:()=>{r(h),t(`/search?q=${encodeURIComponent(h)}`)},className:"text-sm text-blue-600 hover:text-blue-800 hover:underline transition-colors",children:h},p))]})]})}),a.coordinates&&e.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-600 mb-8",children:[e.jsx(Et,{className:"size-4 mr-2"}),e.jsx("span",{children:a.address||`${i==="ar"?"موقعك الحالي":"Your location"}: ${a.coordinates.lat.toFixed(2)}, ${a.coordinates.lng.toFixed(2)}`})]}),n?e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(Z,{to:"/search",className:"bg-blue-600 text-white px-8 py-4 rounded-xl font-semibold text-lg hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center",children:[e.jsx(ys,{className:"size-5 mr-2"}),i==="ar"?"ابحث عن المواد":"Find Materials"]}),e.jsxs(Z,{to:"/bom",className:"bg-white text-blue-600 px-8 py-4 rounded-xl font-semibold text-lg border-2 border-blue-600 hover:bg-blue-50 shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center",children:[e.jsx(na,{className:"size-5 mr-2"}),i==="ar"?"إدارة المشاريع":"Manage Projects"]})]}):e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(Z,{to:"/register",className:"bg-blue-600 text-white px-8 py-4 rounded-xl font-semibold text-lg hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all duration-200",children:i==="ar"?"ابدأ مجاناً":"Get Started Free"}),e.jsx(Z,{to:"/login",className:"bg-white text-blue-600 px-8 py-4 rounded-xl font-semibold text-lg border-2 border-blue-600 hover:bg-blue-50 shadow-lg hover:shadow-xl transition-all duration-200",children:i==="ar"?"تسجيل الدخول":"Sign In"})]})]})})}),e.jsx("section",{className:"py-16 lg:py-24 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:i==="ar"?"مصمم لجميع احتياجاتك":"Built for Every Need"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:i==="ar"?"سواء كنت مقاولاً أو صاحب منزل أو تاجر مواد بناء، لدينا الحل المناسب لك":"Whether you're a contractor, homeowner, or shop owner, we have the right solution for you"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8 hover:shadow-xl transition-all duration-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-blue-100 rounded-full p-4 w-16 h-16 mx-auto mb-6 flex items-center justify-center",children:e.jsx(Zw,{className:"size-8 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:i==="ar"?"المقاولون":"Contractors"}),e.jsx("p",{className:"text-gray-600 mb-6",children:i==="ar"?"قارن الأسعار، أدر قوائم المواد، واحصل على عروض أسعار من عدة متاجر":"Compare prices, manage material lists, and get quotes from multiple shops"}),e.jsxs(Z,{to:"/register?user_type=buyer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium transition-colors",children:[i==="ar"?"ابدأ الآن":"Get Started",e.jsx(ft,{className:"size-4 ml-2"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8 hover:shadow-xl transition-all duration-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-green-100 rounded-full p-4 w-16 h-16 mx-auto mb-6 flex items-center justify-center",children:e.jsx(Gw,{className:"size-8 text-green-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:i==="ar"?"أصحاب المنازل":"Homeowners"}),e.jsx("p",{className:"text-gray-600 mb-6",children:i==="ar"?"اعثر على أفضل العروض لمشاريع تحسين منزلك مع أدوات سهلة الاستخدام":"Find the best deals for your home improvement projects with easy-to-use tools"}),e.jsxs(Z,{to:"/register?user_type=buyer",className:"inline-flex items-center text-green-600 hover:text-green-800 font-medium transition-colors",children:[i==="ar"?"ابدأ الآن":"Get Started",e.jsx(ft,{className:"size-4 ml-2"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8 hover:shadow-xl transition-all duration-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-purple-100 rounded-full p-4 w-16 h-16 mx-auto mb-6 flex items-center justify-center",children:e.jsx(Mg,{className:"size-8 text-purple-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:i==="ar"?"أصحاب المتاجر":"Shop Owners"}),e.jsx("p",{className:"text-gray-600 mb-6",children:i==="ar"?"أدر مخزونك، استقبل طلبات عروض أسعار، وتواصل مع العملاء بسهولة":"Manage inventory, receive quote requests, and connect with customers easily"}),e.jsxs(Z,{to:"/register?user_type=seller",className:"inline-flex items-center text-purple-600 hover:text-purple-800 font-medium transition-colors",children:[i==="ar"?"انضم كتاجر":"Join as Seller",e.jsx(ft,{className:"size-4 ml-2"})]})]})})]})]})}),e.jsx("section",{className:"py-12 bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl lg:text-4xl font-bold text-blue-600 mb-2",children:[d.shop_count.toLocaleString(),"+"]}),e.jsx("div",{className:"text-gray-600 font-medium",children:i==="ar"?"متجر موثق":"Verified Shops"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl lg:text-4xl font-bold text-blue-600 mb-2",children:[d.product_count.toLocaleString(),"+"]}),e.jsx("div",{className:"text-gray-600 font-medium",children:i==="ar"?"منتج متاح":"Products Available"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl lg:text-4xl font-bold text-blue-600 mb-2",children:[d.user_count.toLocaleString(),"+"]}),e.jsx("div",{className:"text-gray-600 font-medium",children:i==="ar"?"عميل راضٍ":"Happy Customers"})]})]})})}),!b&&y&&e.jsx("section",{className:"py-16 lg:py-24 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:i==="ar"?"تصفح حسب الفئة":"Browse by Category"}),e.jsx("p",{className:"text-xl text-gray-600",children:i==="ar"?"اعثر على ما تحتاجه من فئات متنوعة":"Find what you need from diverse categories"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:y.categories.slice(0,6).map(h=>e.jsxs(Z,{to:`/categories/${h.category_path}`,className:"group bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl hover:scale-105 transition-all duration-200 text-center",children:[e.jsx("div",{className:"bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center group-hover:bg-blue-100 transition-colors",children:e.jsx(Bt,{className:"size-8 text-gray-600 group-hover:text-blue-600 transition-colors"})}),e.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors",children:h.name})]},h.id))})]})}),!f&&m&&e.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:i==="ar"?"المنتجات المميزة":"Featured Products"}),e.jsx("p",{className:"text-xl text-gray-600",children:i==="ar"?"أحدث المنتجات المضافة من متاجرنا الموثقة":"Latest products from our verified suppliers"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:m.variants.slice(0,8).map(h=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-200",children:[e.jsx("div",{className:"aspect-square bg-gray-100 flex items-center justify-center",children:h.image_url?e.jsx("img",{src:h.image_url,alt:`${h.brand||"Product"} ${h.grade||""}`,className:"w-full h-full object-cover"}):e.jsx("div",{className:"text-gray-400",children:e.jsx(Bt,{className:"size-12"})})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-2",children:[h.brand||"Product"," ",h.grade&&`- ${h.grade}`]}),e.jsxs(Z,{to:`/product/${h.product_id}?variant=${h.id}`,className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium transition-colors",children:[i==="ar"?"عرض التفاصيل":"View Details",e.jsx(ft,{className:"size-4 ml-1"})]})]})]},h.id))}),e.jsx("div",{className:"text-center mt-12",children:e.jsx(Z,{to:"/search",className:"bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:i==="ar"?"عرض جميع المنتجات":"View All Products"})})]})}),!j&&x&&e.jsx("section",{className:"py-16 lg:py-24 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:i==="ar"?"المتاجر الموثقة":"Trusted Suppliers"}),e.jsx("p",{className:"text-xl text-gray-600",children:i==="ar"?"تسوق من أفضل المتاجر المعتمدة":"Shop from our top-rated verified suppliers"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:x.shops.map(h=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-200",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mr-2",children:h.name}),h.verified&&e.jsx(ss,{className:"size-5 text-blue-600"})]}),e.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[e.jsx(Et,{className:"size-4 mr-1"}),e.jsx("span",{className:"text-sm",children:i==="ar"?"موقع معتمد":"Verified Location"})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Es,{className:"size-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm text-gray-600 ml-1",children:h.rating_average.toFixed(1)})]})})]})}),e.jsxs(Z,{to:`/shops/${h.id}`,className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium transition-colors",children:[i==="ar"?"زيارة المتجر":"Visit Shop",e.jsx(ft,{className:"size-4 ml-1"})]})]},h.id))}),e.jsx("div",{className:"text-center mt-12",children:e.jsxs(Z,{to:"/map",className:"bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center justify-center mx-auto w-fit",children:[e.jsx(Et,{className:"size-5 mr-2"}),i==="ar"?"عرض الخريطة":"View on Map"]})})]})}),e.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:i==="ar"?"لماذا تختار منصتنا؟":"Why Choose Our Platform?"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-blue-100 rounded-full p-4 w-16 h-16 mx-auto mb-6 flex items-center justify-center",children:e.jsx(Bt,{className:"size-8 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:i==="ar"?"مقارنة الأسعار":"Price Comparison"}),e.jsx("p",{className:"text-gray-600",children:i==="ar"?"قارن الأسعار من عدة متاجر في مكان واحد واحصل على أفضل العروض":"Compare prices from multiple shops in one place and get the best deals"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-green-100 rounded-full p-4 w-16 h-16 mx-auto mb-6 flex items-center justify-center",children:e.jsx(na,{className:"size-8 text-green-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:i==="ar"?"إدارة المشاريع":"Project Management"}),e.jsx("p",{className:"text-gray-600",children:i==="ar"?"أنشئ قوائم مواد البناء وأدر مشاريعك بطريقة منظمة وفعالة":"Create material lists and manage your construction projects efficiently"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-purple-100 rounded-full p-4 w-16 h-16 mx-auto mb-6 flex items-center justify-center",children:e.jsx(Ti,{className:"size-8 text-purple-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:i==="ar"?"شبكة موثقة":"Verified Network"}),e.jsx("p",{className:"text-gray-600",children:i==="ar"?"تعامل مع متاجر موثقة ومعتمدة لضمان جودة الخدمة والمنتجات":"Deal with verified and trusted suppliers for quality service and products"})]})})]})]})}),!n&&e.jsx("section",{className:"py-16 lg:py-24 bg-blue-600",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-white mb-6",children:i==="ar"?"ابدأ رحلتك معنا اليوم":"Start Your Journey Today"}),e.jsx("p",{className:"text-xl text-blue-100 mb-8",children:i==="ar"?"انضم إلى آلاف المستخدمين الذين يوفرون الوقت والمال مع منصتنا":"Join thousands of users who save time and money with our platform"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(Z,{to:"/register",className:"bg-white text-blue-600 px-8 py-4 rounded-xl font-semibold text-lg hover:bg-gray-50 shadow-lg hover:shadow-xl transition-all duration-200",children:i==="ar"?"إنشاء حساب مجاني":"Create Free Account"}),e.jsx(Z,{to:"/search",className:"bg-blue-700 text-white px-8 py-4 rounded-xl font-semibold text-lg border-2 border-blue-500 hover:bg-blue-800 shadow-lg hover:shadow-xl transition-all duration-200",children:i==="ar"?"تصفح المنتجات":"Browse Products"})]})]})})]})};var Ne;(function(t){t.assertEqual=a=>{};function s(a){}t.assertIs=s;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const i={};for(const l of a)i[l]=l;return i},t.getValidEnumValues=a=>{const i=t.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),l={};for(const o of i)l[o]=a[o];return t.objectValues(l)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&i.push(l);return i},t.find=(a,i)=>{for(const l of a)if(i(l))return l},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(l=>typeof l=="string"?`'${l}'`:l).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Ne||(Ne={}));var S0;(function(t){t.mergeShapes=(s,r)=>({...s,...r})})(S0||(S0={}));const ne=Ne.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Hs=t=>{switch(typeof t){case"undefined":return ne.undefined;case"string":return ne.string;case"number":return Number.isNaN(t)?ne.nan:ne.number;case"boolean":return ne.boolean;case"function":return ne.function;case"bigint":return ne.bigint;case"symbol":return ne.symbol;case"object":return Array.isArray(t)?ne.array:t===null?ne.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ne.promise:typeof Map<"u"&&t instanceof Map?ne.map:typeof Set<"u"&&t instanceof Set?ne.set:typeof Date<"u"&&t instanceof Date?ne.date:ne.object;default:return ne.unknown}},X=Ne.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class bs extends Error{get errors(){return this.issues}constructor(s){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=s}format(s){const r=s||function(i){return i.message},n={_errors:[]},a=i=>{for(const l of i.issues)if(l.code==="invalid_union")l.unionErrors.map(a);else if(l.code==="invalid_return_type")a(l.returnTypeError);else if(l.code==="invalid_arguments")a(l.argumentsError);else if(l.path.length===0)n._errors.push(r(l));else{let o=n,c=0;for(;c<l.path.length;){const d=l.path[c];c===l.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(r(l))):o[d]=o[d]||{_errors:[]},o=o[d],c++}}};return a(this),n}static assert(s){if(!(s instanceof bs))throw new Error(`Not a ZodError: ${s}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ne.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(s=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(s(a))}else n.push(s(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}bs.create=t=>new bs(t);const Yd=(t,s)=>{let r;switch(t.code){case X.invalid_type:t.received===ne.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case X.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Ne.jsonStringifyReplacer)}`;break;case X.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ne.joinValues(t.keys,", ")}`;break;case X.invalid_union:r="Invalid input";break;case X.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ne.joinValues(t.options)}`;break;case X.invalid_enum_value:r=`Invalid enum value. Expected ${Ne.joinValues(t.options)}, received '${t.received}'`;break;case X.invalid_arguments:r="Invalid function arguments";break;case X.invalid_return_type:r="Invalid function return type";break;case X.invalid_date:r="Invalid date";break;case X.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Ne.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case X.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case X.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case X.custom:r="Invalid input";break;case X.invalid_intersection_types:r="Intersection results could not be merged";break;case X.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case X.not_finite:r="Number must be finite";break;default:r=s.defaultError,Ne.assertNever(t)}return{message:r}};let bN=Yd;function vN(){return bN}const jN=t=>{const{data:s,path:r,errorMaps:n,issueData:a}=t,i=[...r,...a.path||[]],l={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let o="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)o=d(l,{data:s,defaultError:o}).message;return{...a,path:i,message:o}};function se(t,s){const r=vN(),n=jN({issueData:s,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Yd?void 0:Yd].filter(a=>!!a)});t.common.issues.push(n)}class At{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(s,r){const n=[];for(const a of r){if(a.status==="aborted")return de;a.status==="dirty"&&s.dirty(),n.push(a.value)}return{status:s.value,value:n}}static async mergeObjectAsync(s,r){const n=[];for(const a of r){const i=await a.key,l=await a.value;n.push({key:i,value:l})}return At.mergeObjectSync(s,n)}static mergeObjectSync(s,r){const n={};for(const a of r){const{key:i,value:l}=a;if(i.status==="aborted"||l.status==="aborted")return de;i.status==="dirty"&&s.dirty(),l.status==="dirty"&&s.dirty(),i.value!=="__proto__"&&(typeof l.value<"u"||a.alwaysSet)&&(n[i.value]=l.value)}return{status:s.value,value:n}}}const de=Object.freeze({status:"aborted"}),$a=t=>({status:"dirty",value:t}),Vt=t=>({status:"valid",value:t}),C0=t=>t.status==="aborted",E0=t=>t.status==="dirty",aa=t=>t.status==="valid",ao=t=>typeof Promise<"u"&&t instanceof Promise;var ae;(function(t){t.errToObj=s=>typeof s=="string"?{message:s}:s||{},t.toString=s=>typeof s=="string"?s:s==null?void 0:s.message})(ae||(ae={}));class kr{constructor(s,r,n,a){this._cachedPath=[],this.parent=s,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const P0=(t,s)=>{if(aa(s))return{success:!0,data:s.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new bs(t.common.issues);return this._error=r,this._error}}};function pe(t){if(!t)return{};const{errorMap:s,invalid_type_error:r,required_error:n,description:a}=t;if(s&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return s?{errorMap:s,description:a}:{errorMap:(l,o)=>{const{message:c}=t;return l.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??n??o.defaultError}:l.code!=="invalid_type"?{message:o.defaultError}:{message:c??r??o.defaultError}},description:a}}class we{get description(){return this._def.description}_getType(s){return Hs(s.data)}_getOrReturnCtx(s,r){return r||{common:s.parent.common,data:s.data,parsedType:Hs(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}_processInputParams(s){return{status:new At,ctx:{common:s.parent.common,data:s.data,parsedType:Hs(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}}_parseSync(s){const r=this._parse(s);if(ao(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(s){const r=this._parse(s);return Promise.resolve(r)}parse(s,r){const n=this.safeParse(s,r);if(n.success)return n.data;throw n.error}safeParse(s,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Hs(s)},a=this._parseSync({data:s,path:n.path,parent:n});return P0(n,a)}"~validate"(s){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Hs(s)};if(!this["~standard"].async)try{const i=this._parseSync({data:s,path:[],parent:r});return aa(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:s,path:[],parent:r}).then(i=>aa(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(s,r){const n=await this.safeParseAsync(s,r);if(n.success)return n.data;throw n.error}async safeParseAsync(s,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Hs(s)},a=this._parse({data:s,path:n.path,parent:n}),i=await(ao(a)?a:Promise.resolve(a));return P0(n,i)}refine(s,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const l=s(a),o=()=>i.addIssue({code:X.custom,...n(a)});return typeof Promise<"u"&&l instanceof Promise?l.then(c=>c?!0:(o(),!1)):l?!0:(o(),!1)})}refinement(s,r){return this._refinement((n,a)=>s(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(s){return new oa({schema:this,typeName:ue.ZodEffects,effect:{type:"refinement",refinement:s}})}superRefine(s){return this._refinement(s)}constructor(s){this.spa=this.safeParseAsync,this._def=s,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return jr.create(this,this._def)}nullable(){return ca.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return fs.create(this)}promise(){return co.create(this,this._def)}or(s){return lo.create([this,s],this._def)}and(s){return oo.create(this,s,this._def)}transform(s){return new oa({...pe(this._def),schema:this,typeName:ue.ZodEffects,effect:{type:"transform",transform:s}})}default(s){const r=typeof s=="function"?s:()=>s;return new Xd({...pe(this._def),innerType:this,defaultValue:r,typeName:ue.ZodDefault})}brand(){return new VN({typeName:ue.ZodBranded,type:this,...pe(this._def)})}catch(s){const r=typeof s=="function"?s:()=>s;return new eu({...pe(this._def),innerType:this,catchValue:r,typeName:ue.ZodCatch})}describe(s){const r=this.constructor;return new r({...this._def,description:s})}pipe(s){return _h.create(this,s)}readonly(){return tu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const wN=/^c[^\s-]{8,}$/i,NN=/^[0-9a-z]+$/,_N=/^[0-9A-HJKMNP-TV-Z]{26}$/i,kN=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,SN=/^[a-z0-9_-]{21}$/i,CN=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,EN=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,PN=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,AN="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let jc;const RN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,MN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,LN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,TN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,FN=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ON=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,zg="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$N=new RegExp(`^${zg}$`);function Dg(t){let s="[0-5]\\d";t.precision?s=`${s}\\.\\d{${t.precision}}`:t.precision==null&&(s=`${s}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${s})${r}`}function BN(t){return new RegExp(`^${Dg(t)}$`)}function IN(t){let s=`${zg}T${Dg(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),s=`${s}(${r.join("|")})`,new RegExp(`^${s}$`)}function qN(t,s){return!!((s==="v4"||!s)&&RN.test(t)||(s==="v6"||!s)&&LN.test(t))}function zN(t,s){if(!CN.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||s&&a.alg!==s)}catch{return!1}}function DN(t,s){return!!((s==="v4"||!s)&&MN.test(t)||(s==="v6"||!s)&&TN.test(t))}class lr extends we{_parse(s){if(this._def.coerce&&(s.data=String(s.data)),this._getType(s)!==ne.string){const i=this._getOrReturnCtx(s);return se(i,{code:X.invalid_type,expected:ne.string,received:i.parsedType}),de}const n=new At;let a;for(const i of this._def.checks)if(i.kind==="min")s.data.length<i.value&&(a=this._getOrReturnCtx(s,a),se(a,{code:X.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")s.data.length>i.value&&(a=this._getOrReturnCtx(s,a),se(a,{code:X.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const l=s.data.length>i.value,o=s.data.length<i.value;(l||o)&&(a=this._getOrReturnCtx(s,a),l?se(a,{code:X.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&se(a,{code:X.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")PN.test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"email",code:X.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")jc||(jc=new RegExp(AN,"u")),jc.test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"emoji",code:X.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")kN.test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"uuid",code:X.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")SN.test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"nanoid",code:X.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")wN.test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"cuid",code:X.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")NN.test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"cuid2",code:X.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")_N.test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"ulid",code:X.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(s.data)}catch{a=this._getOrReturnCtx(s,a),se(a,{validation:"url",code:X.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"regex",code:X.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?s.data=s.data.trim():i.kind==="includes"?s.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(s,a),se(a,{code:X.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?s.data=s.data.toLowerCase():i.kind==="toUpperCase"?s.data=s.data.toUpperCase():i.kind==="startsWith"?s.data.startsWith(i.value)||(a=this._getOrReturnCtx(s,a),se(a,{code:X.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?s.data.endsWith(i.value)||(a=this._getOrReturnCtx(s,a),se(a,{code:X.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?IN(i).test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{code:X.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?$N.test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{code:X.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?BN(i).test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{code:X.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?EN.test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"duration",code:X.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?qN(s.data,i.version)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"ip",code:X.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?zN(s.data,i.alg)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"jwt",code:X.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?DN(s.data,i.version)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"cidr",code:X.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?FN.test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"base64",code:X.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?ON.test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"base64url",code:X.invalid_string,message:i.message}),n.dirty()):Ne.assertNever(i);return{status:n.value,value:s.data}}_regex(s,r,n){return this.refinement(a=>s.test(a),{validation:r,code:X.invalid_string,...ae.errToObj(n)})}_addCheck(s){return new lr({...this._def,checks:[...this._def.checks,s]})}email(s){return this._addCheck({kind:"email",...ae.errToObj(s)})}url(s){return this._addCheck({kind:"url",...ae.errToObj(s)})}emoji(s){return this._addCheck({kind:"emoji",...ae.errToObj(s)})}uuid(s){return this._addCheck({kind:"uuid",...ae.errToObj(s)})}nanoid(s){return this._addCheck({kind:"nanoid",...ae.errToObj(s)})}cuid(s){return this._addCheck({kind:"cuid",...ae.errToObj(s)})}cuid2(s){return this._addCheck({kind:"cuid2",...ae.errToObj(s)})}ulid(s){return this._addCheck({kind:"ulid",...ae.errToObj(s)})}base64(s){return this._addCheck({kind:"base64",...ae.errToObj(s)})}base64url(s){return this._addCheck({kind:"base64url",...ae.errToObj(s)})}jwt(s){return this._addCheck({kind:"jwt",...ae.errToObj(s)})}ip(s){return this._addCheck({kind:"ip",...ae.errToObj(s)})}cidr(s){return this._addCheck({kind:"cidr",...ae.errToObj(s)})}datetime(s){return typeof s=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:s}):this._addCheck({kind:"datetime",precision:typeof(s==null?void 0:s.precision)>"u"?null:s==null?void 0:s.precision,offset:(s==null?void 0:s.offset)??!1,local:(s==null?void 0:s.local)??!1,...ae.errToObj(s==null?void 0:s.message)})}date(s){return this._addCheck({kind:"date",message:s})}time(s){return typeof s=="string"?this._addCheck({kind:"time",precision:null,message:s}):this._addCheck({kind:"time",precision:typeof(s==null?void 0:s.precision)>"u"?null:s==null?void 0:s.precision,...ae.errToObj(s==null?void 0:s.message)})}duration(s){return this._addCheck({kind:"duration",...ae.errToObj(s)})}regex(s,r){return this._addCheck({kind:"regex",regex:s,...ae.errToObj(r)})}includes(s,r){return this._addCheck({kind:"includes",value:s,position:r==null?void 0:r.position,...ae.errToObj(r==null?void 0:r.message)})}startsWith(s,r){return this._addCheck({kind:"startsWith",value:s,...ae.errToObj(r)})}endsWith(s,r){return this._addCheck({kind:"endsWith",value:s,...ae.errToObj(r)})}min(s,r){return this._addCheck({kind:"min",value:s,...ae.errToObj(r)})}max(s,r){return this._addCheck({kind:"max",value:s,...ae.errToObj(r)})}length(s,r){return this._addCheck({kind:"length",value:s,...ae.errToObj(r)})}nonempty(s){return this.min(1,ae.errToObj(s))}trim(){return new lr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new lr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new lr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(s=>s.kind==="datetime")}get isDate(){return!!this._def.checks.find(s=>s.kind==="date")}get isTime(){return!!this._def.checks.find(s=>s.kind==="time")}get isDuration(){return!!this._def.checks.find(s=>s.kind==="duration")}get isEmail(){return!!this._def.checks.find(s=>s.kind==="email")}get isURL(){return!!this._def.checks.find(s=>s.kind==="url")}get isEmoji(){return!!this._def.checks.find(s=>s.kind==="emoji")}get isUUID(){return!!this._def.checks.find(s=>s.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(s=>s.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(s=>s.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(s=>s.kind==="cuid2")}get isULID(){return!!this._def.checks.find(s=>s.kind==="ulid")}get isIP(){return!!this._def.checks.find(s=>s.kind==="ip")}get isCIDR(){return!!this._def.checks.find(s=>s.kind==="cidr")}get isBase64(){return!!this._def.checks.find(s=>s.kind==="base64")}get isBase64url(){return!!this._def.checks.find(s=>s.kind==="base64url")}get minLength(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxLength(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}}lr.create=t=>new lr({checks:[],typeName:ue.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...pe(t)});function UN(t,s){const r=(t.toString().split(".")[1]||"").length,n=(s.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(t.toFixed(a).replace(".","")),l=Number.parseInt(s.toFixed(a).replace(".",""));return i%l/10**a}class ia extends we{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(s){if(this._def.coerce&&(s.data=Number(s.data)),this._getType(s)!==ne.number){const i=this._getOrReturnCtx(s);return se(i,{code:X.invalid_type,expected:ne.number,received:i.parsedType}),de}let n;const a=new At;for(const i of this._def.checks)i.kind==="int"?Ne.isInteger(s.data)||(n=this._getOrReturnCtx(s,n),se(n,{code:X.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?s.data<i.value:s.data<=i.value)&&(n=this._getOrReturnCtx(s,n),se(n,{code:X.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?s.data>i.value:s.data>=i.value)&&(n=this._getOrReturnCtx(s,n),se(n,{code:X.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?UN(s.data,i.value)!==0&&(n=this._getOrReturnCtx(s,n),se(n,{code:X.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(s.data)||(n=this._getOrReturnCtx(s,n),se(n,{code:X.not_finite,message:i.message}),a.dirty()):Ne.assertNever(i);return{status:a.value,value:s.data}}gte(s,r){return this.setLimit("min",s,!0,ae.toString(r))}gt(s,r){return this.setLimit("min",s,!1,ae.toString(r))}lte(s,r){return this.setLimit("max",s,!0,ae.toString(r))}lt(s,r){return this.setLimit("max",s,!1,ae.toString(r))}setLimit(s,r,n,a){return new ia({...this._def,checks:[...this._def.checks,{kind:s,value:r,inclusive:n,message:ae.toString(a)}]})}_addCheck(s){return new ia({...this._def,checks:[...this._def.checks,s]})}int(s){return this._addCheck({kind:"int",message:ae.toString(s)})}positive(s){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ae.toString(s)})}negative(s){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ae.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ae.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ae.toString(s)})}multipleOf(s,r){return this._addCheck({kind:"multipleOf",value:s,message:ae.toString(r)})}finite(s){return this._addCheck({kind:"finite",message:ae.toString(s)})}safe(s){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ae.toString(s)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ae.toString(s)})}get minValue(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxValue(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}get isInt(){return!!this._def.checks.find(s=>s.kind==="int"||s.kind==="multipleOf"&&Ne.isInteger(s.value))}get isFinite(){let s=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(s===null||n.value<s)&&(s=n.value)}return Number.isFinite(r)&&Number.isFinite(s)}}ia.create=t=>new ia({checks:[],typeName:ue.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...pe(t)});class yi extends we{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(s){if(this._def.coerce)try{s.data=BigInt(s.data)}catch{return this._getInvalidInput(s)}if(this._getType(s)!==ne.bigint)return this._getInvalidInput(s);let n;const a=new At;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?s.data<i.value:s.data<=i.value)&&(n=this._getOrReturnCtx(s,n),se(n,{code:X.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?s.data>i.value:s.data>=i.value)&&(n=this._getOrReturnCtx(s,n),se(n,{code:X.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?s.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(s,n),se(n,{code:X.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Ne.assertNever(i);return{status:a.value,value:s.data}}_getInvalidInput(s){const r=this._getOrReturnCtx(s);return se(r,{code:X.invalid_type,expected:ne.bigint,received:r.parsedType}),de}gte(s,r){return this.setLimit("min",s,!0,ae.toString(r))}gt(s,r){return this.setLimit("min",s,!1,ae.toString(r))}lte(s,r){return this.setLimit("max",s,!0,ae.toString(r))}lt(s,r){return this.setLimit("max",s,!1,ae.toString(r))}setLimit(s,r,n,a){return new yi({...this._def,checks:[...this._def.checks,{kind:s,value:r,inclusive:n,message:ae.toString(a)}]})}_addCheck(s){return new yi({...this._def,checks:[...this._def.checks,s]})}positive(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ae.toString(s)})}negative(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ae.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ae.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ae.toString(s)})}multipleOf(s,r){return this._addCheck({kind:"multipleOf",value:s,message:ae.toString(r)})}get minValue(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxValue(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}}yi.create=t=>new yi({checks:[],typeName:ue.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...pe(t)});class A0 extends we{_parse(s){if(this._def.coerce&&(s.data=!!s.data),this._getType(s)!==ne.boolean){const n=this._getOrReturnCtx(s);return se(n,{code:X.invalid_type,expected:ne.boolean,received:n.parsedType}),de}return Vt(s.data)}}A0.create=t=>new A0({typeName:ue.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...pe(t)});class io extends we{_parse(s){if(this._def.coerce&&(s.data=new Date(s.data)),this._getType(s)!==ne.date){const i=this._getOrReturnCtx(s);return se(i,{code:X.invalid_type,expected:ne.date,received:i.parsedType}),de}if(Number.isNaN(s.data.getTime())){const i=this._getOrReturnCtx(s);return se(i,{code:X.invalid_date}),de}const n=new At;let a;for(const i of this._def.checks)i.kind==="min"?s.data.getTime()<i.value&&(a=this._getOrReturnCtx(s,a),se(a,{code:X.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?s.data.getTime()>i.value&&(a=this._getOrReturnCtx(s,a),se(a,{code:X.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Ne.assertNever(i);return{status:n.value,value:new Date(s.data.getTime())}}_addCheck(s){return new io({...this._def,checks:[...this._def.checks,s]})}min(s,r){return this._addCheck({kind:"min",value:s.getTime(),message:ae.toString(r)})}max(s,r){return this._addCheck({kind:"max",value:s.getTime(),message:ae.toString(r)})}get minDate(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s!=null?new Date(s):null}get maxDate(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s!=null?new Date(s):null}}io.create=t=>new io({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ue.ZodDate,...pe(t)});class R0 extends we{_parse(s){if(this._getType(s)!==ne.symbol){const n=this._getOrReturnCtx(s);return se(n,{code:X.invalid_type,expected:ne.symbol,received:n.parsedType}),de}return Vt(s.data)}}R0.create=t=>new R0({typeName:ue.ZodSymbol,...pe(t)});class M0 extends we{_parse(s){if(this._getType(s)!==ne.undefined){const n=this._getOrReturnCtx(s);return se(n,{code:X.invalid_type,expected:ne.undefined,received:n.parsedType}),de}return Vt(s.data)}}M0.create=t=>new M0({typeName:ue.ZodUndefined,...pe(t)});class L0 extends we{_parse(s){if(this._getType(s)!==ne.null){const n=this._getOrReturnCtx(s);return se(n,{code:X.invalid_type,expected:ne.null,received:n.parsedType}),de}return Vt(s.data)}}L0.create=t=>new L0({typeName:ue.ZodNull,...pe(t)});class T0 extends we{constructor(){super(...arguments),this._any=!0}_parse(s){return Vt(s.data)}}T0.create=t=>new T0({typeName:ue.ZodAny,...pe(t)});class F0 extends we{constructor(){super(...arguments),this._unknown=!0}_parse(s){return Vt(s.data)}}F0.create=t=>new F0({typeName:ue.ZodUnknown,...pe(t)});class Sr extends we{_parse(s){const r=this._getOrReturnCtx(s);return se(r,{code:X.invalid_type,expected:ne.never,received:r.parsedType}),de}}Sr.create=t=>new Sr({typeName:ue.ZodNever,...pe(t)});class O0 extends we{_parse(s){if(this._getType(s)!==ne.undefined){const n=this._getOrReturnCtx(s);return se(n,{code:X.invalid_type,expected:ne.void,received:n.parsedType}),de}return Vt(s.data)}}O0.create=t=>new O0({typeName:ue.ZodVoid,...pe(t)});class fs extends we{_parse(s){const{ctx:r,status:n}=this._processInputParams(s),a=this._def;if(r.parsedType!==ne.array)return se(r,{code:X.invalid_type,expected:ne.array,received:r.parsedType}),de;if(a.exactLength!==null){const l=r.data.length>a.exactLength.value,o=r.data.length<a.exactLength.value;(l||o)&&(se(r,{code:l?X.too_big:X.too_small,minimum:o?a.exactLength.value:void 0,maximum:l?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(se(r,{code:X.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(se(r,{code:X.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((l,o)=>a.type._parseAsync(new kr(r,l,r.path,o)))).then(l=>At.mergeArray(n,l));const i=[...r.data].map((l,o)=>a.type._parseSync(new kr(r,l,r.path,o)));return At.mergeArray(n,i)}get element(){return this._def.type}min(s,r){return new fs({...this._def,minLength:{value:s,message:ae.toString(r)}})}max(s,r){return new fs({...this._def,maxLength:{value:s,message:ae.toString(r)}})}length(s,r){return new fs({...this._def,exactLength:{value:s,message:ae.toString(r)}})}nonempty(s){return this.min(1,s)}}fs.create=(t,s)=>new fs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ue.ZodArray,...pe(s)});function pn(t){if(t instanceof Ie){const s={};for(const r in t.shape){const n=t.shape[r];s[r]=jr.create(pn(n))}return new Ie({...t._def,shape:()=>s})}else return t instanceof fs?new fs({...t._def,type:pn(t.element)}):t instanceof jr?jr.create(pn(t.unwrap())):t instanceof ca?ca.create(pn(t.unwrap())):t instanceof dn?dn.create(t.items.map(s=>pn(s))):t}class Ie extends we{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const s=this._def.shape(),r=Ne.objectKeys(s);return this._cached={shape:s,keys:r},this._cached}_parse(s){if(this._getType(s)!==ne.object){const d=this._getOrReturnCtx(s);return se(d,{code:X.invalid_type,expected:ne.object,received:d.parsedType}),de}const{status:n,ctx:a}=this._processInputParams(s),{shape:i,keys:l}=this._getCached(),o=[];if(!(this._def.catchall instanceof Sr&&this._def.unknownKeys==="strip"))for(const d in a.data)l.includes(d)||o.push(d);const c=[];for(const d of l){const m=i[d],f=a.data[d];c.push({key:{status:"valid",value:d},value:m._parse(new kr(a,f,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof Sr){const d=this._def.unknownKeys;if(d==="passthrough")for(const m of o)c.push({key:{status:"valid",value:m},value:{status:"valid",value:a.data[m]}});else if(d==="strict")o.length>0&&(se(a,{code:X.unrecognized_keys,keys:o}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const m of o){const f=a.data[m];c.push({key:{status:"valid",value:m},value:d._parse(new kr(a,f,a.path,m)),alwaysSet:m in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const m of c){const f=await m.key,x=await m.value;d.push({key:f,value:x,alwaysSet:m.alwaysSet})}return d}).then(d=>At.mergeObjectSync(n,d)):At.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(s){return ae.errToObj,new Ie({...this._def,unknownKeys:"strict",...s!==void 0?{errorMap:(r,n)=>{var i,l;const a=((l=(i=this._def).errorMap)==null?void 0:l.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:ae.errToObj(s).message??a}:{message:a}}}:{}})}strip(){return new Ie({...this._def,unknownKeys:"strip"})}passthrough(){return new Ie({...this._def,unknownKeys:"passthrough"})}extend(s){return new Ie({...this._def,shape:()=>({...this._def.shape(),...s})})}merge(s){return new Ie({unknownKeys:s._def.unknownKeys,catchall:s._def.catchall,shape:()=>({...this._def.shape(),...s._def.shape()}),typeName:ue.ZodObject})}setKey(s,r){return this.augment({[s]:r})}catchall(s){return new Ie({...this._def,catchall:s})}pick(s){const r={};for(const n of Ne.objectKeys(s))s[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Ie({...this._def,shape:()=>r})}omit(s){const r={};for(const n of Ne.objectKeys(this.shape))s[n]||(r[n]=this.shape[n]);return new Ie({...this._def,shape:()=>r})}deepPartial(){return pn(this)}partial(s){const r={};for(const n of Ne.objectKeys(this.shape)){const a=this.shape[n];s&&!s[n]?r[n]=a:r[n]=a.optional()}return new Ie({...this._def,shape:()=>r})}required(s){const r={};for(const n of Ne.objectKeys(this.shape))if(s&&!s[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof jr;)i=i._def.innerType;r[n]=i}return new Ie({...this._def,shape:()=>r})}keyof(){return Ug(Ne.objectKeys(this.shape))}}Ie.create=(t,s)=>new Ie({shape:()=>t,unknownKeys:"strip",catchall:Sr.create(),typeName:ue.ZodObject,...pe(s)});Ie.strictCreate=(t,s)=>new Ie({shape:()=>t,unknownKeys:"strict",catchall:Sr.create(),typeName:ue.ZodObject,...pe(s)});Ie.lazycreate=(t,s)=>new Ie({shape:t,unknownKeys:"strip",catchall:Sr.create(),typeName:ue.ZodObject,...pe(s)});class lo extends we{_parse(s){const{ctx:r}=this._processInputParams(s),n=this._def.options;function a(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const l=i.map(o=>new bs(o.ctx.common.issues));return se(r,{code:X.invalid_union,unionErrors:l}),de}if(r.common.async)return Promise.all(n.map(async i=>{const l={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:l}),ctx:l}})).then(a);{let i;const l=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},m=c._parseSync({data:r.data,path:r.path,parent:d});if(m.status==="valid")return m;m.status==="dirty"&&!i&&(i={result:m,ctx:d}),d.common.issues.length&&l.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=l.map(c=>new bs(c));return se(r,{code:X.invalid_union,unionErrors:o}),de}}get options(){return this._def.options}}lo.create=(t,s)=>new lo({options:t,typeName:ue.ZodUnion,...pe(s)});function Jd(t,s){const r=Hs(t),n=Hs(s);if(t===s)return{valid:!0,data:t};if(r===ne.object&&n===ne.object){const a=Ne.objectKeys(s),i=Ne.objectKeys(t).filter(o=>a.indexOf(o)!==-1),l={...t,...s};for(const o of i){const c=Jd(t[o],s[o]);if(!c.valid)return{valid:!1};l[o]=c.data}return{valid:!0,data:l}}else if(r===ne.array&&n===ne.array){if(t.length!==s.length)return{valid:!1};const a=[];for(let i=0;i<t.length;i++){const l=t[i],o=s[i],c=Jd(l,o);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===ne.date&&n===ne.date&&+t==+s?{valid:!0,data:t}:{valid:!1}}class oo extends we{_parse(s){const{status:r,ctx:n}=this._processInputParams(s),a=(i,l)=>{if(C0(i)||C0(l))return de;const o=Jd(i.value,l.value);return o.valid?((E0(i)||E0(l))&&r.dirty(),{status:r.value,value:o.data}):(se(n,{code:X.invalid_intersection_types}),de)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,l])=>a(i,l)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}oo.create=(t,s,r)=>new oo({left:t,right:s,typeName:ue.ZodIntersection,...pe(r)});class dn extends we{_parse(s){const{status:r,ctx:n}=this._processInputParams(s);if(n.parsedType!==ne.array)return se(n,{code:X.invalid_type,expected:ne.array,received:n.parsedType}),de;if(n.data.length<this._def.items.length)return se(n,{code:X.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),de;!this._def.rest&&n.data.length>this._def.items.length&&(se(n,{code:X.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((l,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new kr(n,l,n.path,o)):null}).filter(l=>!!l);return n.common.async?Promise.all(i).then(l=>At.mergeArray(r,l)):At.mergeArray(r,i)}get items(){return this._def.items}rest(s){return new dn({...this._def,rest:s})}}dn.create=(t,s)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new dn({items:t,typeName:ue.ZodTuple,rest:null,...pe(s)})};class $0 extends we{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:r,ctx:n}=this._processInputParams(s);if(n.parsedType!==ne.map)return se(n,{code:X.invalid_type,expected:ne.map,received:n.parsedType}),de;const a=this._def.keyType,i=this._def.valueType,l=[...n.data.entries()].map(([o,c],d)=>({key:a._parse(new kr(n,o,n.path,[d,"key"])),value:i._parse(new kr(n,c,n.path,[d,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of l){const d=await c.key,m=await c.value;if(d.status==="aborted"||m.status==="aborted")return de;(d.status==="dirty"||m.status==="dirty")&&r.dirty(),o.set(d.value,m.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of l){const d=c.key,m=c.value;if(d.status==="aborted"||m.status==="aborted")return de;(d.status==="dirty"||m.status==="dirty")&&r.dirty(),o.set(d.value,m.value)}return{status:r.value,value:o}}}}$0.create=(t,s,r)=>new $0({valueType:s,keyType:t,typeName:ue.ZodMap,...pe(r)});class bi extends we{_parse(s){const{status:r,ctx:n}=this._processInputParams(s);if(n.parsedType!==ne.set)return se(n,{code:X.invalid_type,expected:ne.set,received:n.parsedType}),de;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(se(n,{code:X.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(se(n,{code:X.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function l(c){const d=new Set;for(const m of c){if(m.status==="aborted")return de;m.status==="dirty"&&r.dirty(),d.add(m.value)}return{status:r.value,value:d}}const o=[...n.data.values()].map((c,d)=>i._parse(new kr(n,c,n.path,d)));return n.common.async?Promise.all(o).then(c=>l(c)):l(o)}min(s,r){return new bi({...this._def,minSize:{value:s,message:ae.toString(r)}})}max(s,r){return new bi({...this._def,maxSize:{value:s,message:ae.toString(r)}})}size(s,r){return this.min(s,r).max(s,r)}nonempty(s){return this.min(1,s)}}bi.create=(t,s)=>new bi({valueType:t,minSize:null,maxSize:null,typeName:ue.ZodSet,...pe(s)});class B0 extends we{get schema(){return this._def.getter()}_parse(s){const{ctx:r}=this._processInputParams(s);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}B0.create=(t,s)=>new B0({getter:t,typeName:ue.ZodLazy,...pe(s)});class I0 extends we{_parse(s){if(s.data!==this._def.value){const r=this._getOrReturnCtx(s);return se(r,{received:r.data,code:X.invalid_literal,expected:this._def.value}),de}return{status:"valid",value:s.data}}get value(){return this._def.value}}I0.create=(t,s)=>new I0({value:t,typeName:ue.ZodLiteral,...pe(s)});function Ug(t,s){return new la({values:t,typeName:ue.ZodEnum,...pe(s)})}class la extends we{_parse(s){if(typeof s.data!="string"){const r=this._getOrReturnCtx(s),n=this._def.values;return se(r,{expected:Ne.joinValues(n),received:r.parsedType,code:X.invalid_type}),de}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(s.data)){const r=this._getOrReturnCtx(s),n=this._def.values;return se(r,{received:r.data,code:X.invalid_enum_value,options:n}),de}return Vt(s.data)}get options(){return this._def.values}get enum(){const s={};for(const r of this._def.values)s[r]=r;return s}get Values(){const s={};for(const r of this._def.values)s[r]=r;return s}get Enum(){const s={};for(const r of this._def.values)s[r]=r;return s}extract(s,r=this._def){return la.create(s,{...this._def,...r})}exclude(s,r=this._def){return la.create(this.options.filter(n=>!s.includes(n)),{...this._def,...r})}}la.create=Ug;class q0 extends we{_parse(s){const r=Ne.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(s);if(n.parsedType!==ne.string&&n.parsedType!==ne.number){const a=Ne.objectValues(r);return se(n,{expected:Ne.joinValues(a),received:n.parsedType,code:X.invalid_type}),de}if(this._cache||(this._cache=new Set(Ne.getValidEnumValues(this._def.values))),!this._cache.has(s.data)){const a=Ne.objectValues(r);return se(n,{received:n.data,code:X.invalid_enum_value,options:a}),de}return Vt(s.data)}get enum(){return this._def.values}}q0.create=(t,s)=>new q0({values:t,typeName:ue.ZodNativeEnum,...pe(s)});class co extends we{unwrap(){return this._def.type}_parse(s){const{ctx:r}=this._processInputParams(s);if(r.parsedType!==ne.promise&&r.common.async===!1)return se(r,{code:X.invalid_type,expected:ne.promise,received:r.parsedType}),de;const n=r.parsedType===ne.promise?r.data:Promise.resolve(r.data);return Vt(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}co.create=(t,s)=>new co({type:t,typeName:ue.ZodPromise,...pe(s)});class oa extends we{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ue.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(s){const{status:r,ctx:n}=this._processInputParams(s),a=this._def.effect||null,i={addIssue:l=>{se(n,l),l.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const l=a.transform(n.data,i);if(n.common.async)return Promise.resolve(l).then(async o=>{if(r.value==="aborted")return de;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?de:c.status==="dirty"||r.value==="dirty"?$a(c.value):c});{if(r.value==="aborted")return de;const o=this._def.schema._parseSync({data:l,path:n.path,parent:n});return o.status==="aborted"?de:o.status==="dirty"||r.value==="dirty"?$a(o.value):o}}if(a.type==="refinement"){const l=o=>{const c=a.refinement(o,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?de:(o.status==="dirty"&&r.dirty(),l(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?de:(o.status==="dirty"&&r.dirty(),l(o.value).then(()=>({status:r.value,value:o.value}))))}if(a.type==="transform")if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!aa(l))return de;const o=a.transform(l.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>aa(l)?Promise.resolve(a.transform(l.value,i)).then(o=>({status:r.value,value:o})):de);Ne.assertNever(a)}}oa.create=(t,s,r)=>new oa({schema:t,typeName:ue.ZodEffects,effect:s,...pe(r)});oa.createWithPreprocess=(t,s,r)=>new oa({schema:s,effect:{type:"preprocess",transform:t},typeName:ue.ZodEffects,...pe(r)});class jr extends we{_parse(s){return this._getType(s)===ne.undefined?Vt(void 0):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}jr.create=(t,s)=>new jr({innerType:t,typeName:ue.ZodOptional,...pe(s)});class ca extends we{_parse(s){return this._getType(s)===ne.null?Vt(null):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}ca.create=(t,s)=>new ca({innerType:t,typeName:ue.ZodNullable,...pe(s)});class Xd extends we{_parse(s){const{ctx:r}=this._processInputParams(s);let n=r.data;return r.parsedType===ne.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Xd.create=(t,s)=>new Xd({innerType:t,typeName:ue.ZodDefault,defaultValue:typeof s.default=="function"?s.default:()=>s.default,...pe(s)});class eu extends we{_parse(s){const{ctx:r}=this._processInputParams(s),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ao(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new bs(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new bs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}eu.create=(t,s)=>new eu({innerType:t,typeName:ue.ZodCatch,catchValue:typeof s.catch=="function"?s.catch:()=>s.catch,...pe(s)});class z0 extends we{_parse(s){if(this._getType(s)!==ne.nan){const n=this._getOrReturnCtx(s);return se(n,{code:X.invalid_type,expected:ne.nan,received:n.parsedType}),de}return{status:"valid",value:s.data}}}z0.create=t=>new z0({typeName:ue.ZodNaN,...pe(t)});class VN extends we{_parse(s){const{ctx:r}=this._processInputParams(s),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class _h extends we{_parse(s){const{status:r,ctx:n}=this._processInputParams(s);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?de:i.status==="dirty"?(r.dirty(),$a(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?de:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(s,r){return new _h({in:s,out:r,typeName:ue.ZodPipeline})}}class tu extends we{_parse(s){const r=this._def.innerType._parse(s),n=a=>(aa(a)&&(a.value=Object.freeze(a.value)),a);return ao(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}tu.create=(t,s)=>new tu({innerType:t,typeName:ue.ZodReadonly,...pe(s)});var ue;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ue||(ue={}));const Aa=lr.create,D0=ia.create;Sr.create;fs.create;const HN=Ie.create;lo.create;oo.create;dn.create;const WN=la.create;co.create;jr.create;ca.create;const U0=HN({name:Aa().min(2),email:Aa().email(),password_hash:Aa().min(6),user_type:WN(["buyer","seller"]),phone:Aa().nullable().optional(),location_lat:D0().nullable().optional(),location_lng:D0().nullable().optional(),address:Aa().nullable().optional()});function QN({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const ZN=u.forwardRef(QN);function KN({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Za=u.forwardRef(KN);function GN({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const YN=u.forwardRef(GN);function JN({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const wc=u.forwardRef(JN);function XN({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"}))}const e_=u.forwardRef(XN);function t_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z"}))}const V0=u.forwardRef(t_);function s_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"}))}const uo=u.forwardRef(s_);function r_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"}))}const n_=u.forwardRef(r_);function a_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const su=u.forwardRef(a_);function i_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const l_=u.forwardRef(i_);function o_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const or=u.forwardRef(o_);function c_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const d_=u.forwardRef(c_);function u_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const H0=u.forwardRef(u_);function h_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const m_=u.forwardRef(h_);function x_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const ru=u.forwardRef(x_);function p_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const W0=u.forwardRef(p_);function f_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ka=u.forwardRef(f_);function g_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Vg=u.forwardRef(g_);function y_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const nu=u.forwardRef(y_);function b_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Nc=u.forwardRef(b_);function v_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const j_=u.forwardRef(v_);function w_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"}))}const N_=u.forwardRef(w_);function __({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const k_=u.forwardRef(__);function S_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Bo=u.forwardRef(S_);function C_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const E_=u.forwardRef(C_);function P_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3v1.5M3 21v-6m0 0 2.77-.693a9 9 0 0 1 6.208.682l.108.054a9 9 0 0 0 6.086.71l3.114-.732a48.524 48.524 0 0 1-.005-10.499l-3.11.732a9 9 0 0 1-6.085-.711l-.108-.054a9 9 0 0 0-6.208-.682L3 4.5M3 15V4.5"}))}const Q0=u.forwardRef(P_);function A_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const _c=u.forwardRef(A_);function R_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const Z0=u.forwardRef(R_);function M_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const L_=u.forwardRef(M_);function T_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Hg=u.forwardRef(T_);function F_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const O_=u.forwardRef(F_);function $_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Jr=u.forwardRef($_);function B_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const K0=u.forwardRef(B_);function I_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 6.75V15m6-6v8.25m.503 3.498 4.875-2.437c.381-.19.622-.58.622-1.006V4.82c0-.836-.88-1.38-1.628-1.006l-3.869 1.934c-.317.159-.69.159-1.006 0L9.503 3.252a1.125 1.125 0 0 0-1.006 0L3.622 5.689C3.24 5.88 3 6.27 3 6.695V19.18c0 .836.88 1.38 1.628 1.006l3.869-1.934c.317-.159.69-.159 1.006 0l4.994 2.497c.317.158.69.158 1.006 0Z"}))}const rl=u.forwardRef(I_);function q_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const kl=u.forwardRef(q_);function z_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const D_=u.forwardRef(z_);function U_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const V_=u.forwardRef(U_);function H_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const zt=u.forwardRef(H_);function W_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 0 1-2.031.352 5.988 5.988 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971Zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 0 1-2.031.352 5.989 5.989 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971Z"}))}const Q_=u.forwardRef(W_);function Z_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const ho=u.forwardRef(Z_);function K_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const au=u.forwardRef(K_);function G_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const Wg=u.forwardRef(G_);function Y_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const J_=u.forwardRef(Y_);function X_({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const wr=u.forwardRef(X_);function e5({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const iu=u.forwardRef(e5);function t5({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const Qg=u.forwardRef(t5);function s5({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Fn=u.forwardRef(s5);function r5({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const G0=u.forwardRef(r5);function n5({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const da=u.forwardRef(n5),a5=()=>{const[t]=nt(),s=Is(),r=W(_=>_.authentication_state.authentication_status.is_authenticated),n=W(_=>_.authentication_state.authentication_status.is_loading),a=W(_=>_.authentication_state.error_message),i=W(_=>_.register_user),l=W(_=>_.clear_auth_error),[o,c]=u.useState({email:"",password:"",name:"",user_type:t.get("account_type")||"buyer",phone:"",location_lat:null,location_lng:null,address:""}),[d,m]=u.useState({}),[f,x]=u.useState({current_step:1,total_steps:4}),[j,y]=u.useState({selected_type:o.user_type,show_comparison:!1}),[b,w]=u.useState({coordinates:null,address:"",manual_entry:!1,location_loading:!1,location_error:""});u.useEffect(()=>{if(r){const _=t.get("redirect_to")||"/search";s(_,{replace:!0})}},[r,s,t]),u.useEffect(()=>{l()},[l]);const g=(_,T)=>{try{const L={[_]:!0};U0.pick(L).parse({[_]:T}),m(D=>({...D,[_]:void 0}))}catch(L){if(L instanceof bs){const q=L.errors.find(D=>D.path[0]===_);q&&m(D=>({...D,[_]:q.message}))}}},h=()=>{if(!navigator.geolocation){w(_=>({..._,location_error:"Geolocation is not supported by this browser",manual_entry:!0}));return}w(_=>({..._,location_loading:!0,location_error:""})),navigator.geolocation.getCurrentPosition(_=>{const{latitude:T,longitude:L}=_.coords;w(q=>({...q,coordinates:{lat:T,lng:L},location_loading:!1})),c(q=>({...q,location_lat:T,location_lng:L})),w(q=>({...q,address:`${T.toFixed(4)}, ${L.toFixed(4)}`}))},_=>{let T="Unable to retrieve location";switch(_.code){case _.PERMISSION_DENIED:T="Location access denied. You can enter your address manually.";break;case _.POSITION_UNAVAILABLE:T="Location information unavailable.";break;case _.TIMEOUT:T="Location request timed out.";break}w(L=>({...L,location_loading:!1,location_error:T,manual_entry:!0}))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},p=async()=>{l();try{U0.parse({email:o.email,password_hash:o.password,name:o.name,user_type:o.user_type,phone:o.phone||null,location_lat:o.location_lat,location_lng:o.location_lng,address:o.address||null}),await i({email:o.email,password:o.password,name:o.name,user_type:o.user_type,phone:o.phone||void 0,location_lat:o.location_lat||void 0,location_lng:o.location_lng||void 0,address:o.address||void 0})}catch(_){console.error("Registration error:",_)}},k=()=>{f.current_step<f.total_steps&&x(_=>({..._,current_step:_.current_step+1}))},E=()=>{f.current_step>1&&x(_=>({..._,current_step:_.current_step-1}))},I=_=>{switch(_){case 1:return j.selected_type==="buyer"||j.selected_type==="seller";case 2:return!!o.email&&!!o.password&&!!o.name&&!d.email&&!d.password&&!d.name;case 3:return!0;case 4:return!0;default:return!1}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Join ConstructHub"}),e.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:"Connect with suppliers and streamline your construction material procurement"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Step ",f.current_step," of ",f.total_steps]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(f.current_step/f.total_steps*100),"% Complete"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300 ease-in-out",style:{width:`${f.current_step/f.total_steps*100}%`}})})]}),e.jsx("div",{className:"bg-white shadow-xl shadow-gray-200/50 rounded-xl border border-gray-100 overflow-hidden",children:e.jsxs("div",{className:"p-6 lg:p-8",children:[a&&e.jsxs("div",{className:"mb-6 bg-red-50 border-2 border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start space-x-3",children:[e.jsx(Bo,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm",children:a})]}),f.current_step===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Choose Your Account Type"}),e.jsx("p",{className:"text-gray-600",children:"Select the option that best describes your needs"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx("button",{type:"button",onClick:()=>{y({selected_type:"buyer",show_comparison:!1}),c(_=>({..._,user_type:"buyer"}))},className:`p-6 rounded-xl border-2 transition-all duration-200 text-left hover:shadow-lg ${j.selected_type==="buyer"?"border-blue-500 bg-blue-50 ring-4 ring-blue-100":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${j.selected_type==="buyer"?"bg-blue-100":"bg-gray-100"}`,children:e.jsx(Fn,{className:`w-6 h-6 ${j.selected_type==="buyer"?"text-blue-600":"text-gray-600"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Buyer / Contractor"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Find materials, compare prices, and manage projects"}),e.jsxs("ul",{className:"text-xs text-gray-500 space-y-1",children:[e.jsx("li",{children:"• Search and compare products"}),e.jsx("li",{children:"• Create Bills of Materials"}),e.jsx("li",{children:"• Request quotes from suppliers"}),e.jsx("li",{children:"• Track project costs"})]})]})]})}),e.jsx("button",{type:"button",onClick:()=>{y({selected_type:"seller",show_comparison:!1}),c(_=>({..._,user_type:"seller"}))},className:`p-6 rounded-xl border-2 transition-all duration-200 text-left hover:shadow-lg ${j.selected_type==="seller"?"border-blue-500 bg-blue-50 ring-4 ring-blue-100":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${j.selected_type==="seller"?"bg-blue-100":"bg-gray-100"}`,children:e.jsx(uo,{className:`w-6 h-6 ${j.selected_type==="seller"?"text-blue-600":"text-gray-600"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Shop Owner / Supplier"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"List your products and connect with buyers"}),e.jsxs("ul",{className:"text-xs text-gray-500 space-y-1",children:[e.jsx("li",{children:"• Manage inventory and pricing"}),e.jsx("li",{children:"• Respond to quote requests"}),e.jsx("li",{children:"• Analytics and insights"}),e.jsx("li",{children:"• Customer management"})]})]})]})})]})]}),f.current_step===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Basic Information"}),e.jsx("p",{className:"text-gray-600",children:"Tell us about yourself"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Fn,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"name",type:"text",required:!0,value:o.name,onChange:_=>{c(T=>({...T,name:_.target.value})),m(T=>({...T,name:void 0})),g("name",_.target.value)},className:`w-full pl-10 pr-4 py-3 border-2 rounded-lg focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all duration-200 ${d.name?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"Enter your full name"})]}),d.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(k_,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"email",type:"email",required:!0,value:o.email,onChange:_=>{c(T=>({...T,email:_.target.value})),m(T=>({...T,email:void 0})),g("email",_.target.value)},className:`w-full pl-10 pr-4 py-3 border-2 rounded-lg focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all duration-200 ${d.email?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"Enter your email address"})]}),d.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(O_,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"password",type:"password",required:!0,value:o.password,onChange:_=>{c(T=>({...T,password:_.target.value})),m(T=>({...T,password:void 0})),g("password_hash",_.target.value)},className:`w-full pl-10 pr-4 py-3 border-2 rounded-lg focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all duration-200 ${d.password?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"Create a secure password"})]}),d.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.password}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Minimum 6 characters required"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone Number ",o.user_type==="seller"?"*":"(Optional)"]}),e.jsxs("div",{className:"relative",children:[e.jsx(D_,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"phone",type:"tel",required:o.user_type==="seller",value:o.phone,onChange:_=>{c(T=>({...T,phone:_.target.value})),m(T=>({...T,phone:void 0})),_.target.value&&g("phone",_.target.value)},className:`w-full pl-10 pr-4 py-3 border-2 rounded-lg focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all duration-200 ${d.phone?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"+971 50 123 4567"})]}),d.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.phone})]})]})]}),f.current_step===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Location Setup"}),e.jsx("p",{className:"text-gray-600",children:"Help us find suppliers near you (optional)"})]}),e.jsxs("div",{className:"space-y-4",children:[!b.manual_entry&&!b.coordinates&&e.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-lg",children:[e.jsx(K0,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Detect Your Location"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Allow location access to find nearby suppliers and get accurate delivery estimates"}),e.jsx("button",{type:"button",onClick:h,disabled:b.location_loading,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:b.location_loading?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Detecting Location..."]}):e.jsxs(e.Fragment,{children:[e.jsx(L_,{className:"w-4 h-4 mr-2"}),"Use My Location"]})}),e.jsx("button",{type:"button",onClick:()=>w(_=>({..._,manual_entry:!0})),className:"block mx-auto mt-3 text-sm text-gray-500 hover:text-gray-700 transition-colors duration-200",children:"Enter address manually instead"})]}),b.location_error&&e.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 text-yellow-700 px-4 py-3 rounded-lg",children:e.jsx("p",{className:"text-sm",children:b.location_error})}),b.coordinates&&e.jsxs("div",{className:"bg-green-50 border-2 border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-center space-x-3",children:[e.jsx(or,{className:"w-5 h-5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Location detected successfully!"}),e.jsx("p",{className:"text-xs text-green-600",children:b.address||`${b.coordinates.lat.toFixed(4)}, ${b.coordinates.lng.toFixed(4)}`})]})]}),(b.manual_entry||b.coordinates)&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Address (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(K0,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"address",type:"text",value:o.address,onChange:_=>{c(T=>({...T,address:_.target.value}))},className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-4 focus:ring-blue-100 focus:border-blue-500 focus:outline-none transition-all duration-200",placeholder:"Enter your address"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"This helps us show you nearby suppliers and calculate delivery costs"})]})]})]}),f.current_step===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Review & Complete"}),e.jsx("p",{className:"text-gray-600",children:"Confirm your information and create your account"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Account Type:"}),e.jsxs("span",{className:"text-sm text-gray-900 capitalize flex items-center",children:[o.user_type==="buyer"?e.jsx(Fn,{className:"w-4 h-4 mr-1"}):e.jsx(uo,{className:"w-4 h-4 mr-1"}),o.user_type==="buyer"?"Buyer / Contractor":"Shop Owner / Supplier"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Name:"}),e.jsx("span",{className:"text-sm text-gray-900",children:o.name})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Email:"}),e.jsx("span",{className:"text-sm text-gray-900",children:o.email})]}),o.phone&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Phone:"}),e.jsx("span",{className:"text-sm text-gray-900",children:o.phone})]}),o.address&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Address:"}),e.jsx("span",{className:"text-sm text-gray-900",children:o.address})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["By creating an account, you agree to our"," ",e.jsx(Z,{to:"/terms",className:"text-blue-600 hover:text-blue-700 underline",children:"Terms of Service"})," ","and"," ",e.jsx(Z,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 underline",children:"Privacy Policy"})]})})]}),e.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-100",children:[e.jsxs("button",{type:"button",onClick:E,disabled:f.current_step===1,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:[e.jsx(m_,{className:"w-4 h-4 mr-1"}),"Back"]}),f.current_step<f.total_steps?e.jsxs("button",{type:"button",onClick:k,disabled:!I(f.current_step),className:"inline-flex items-center px-6 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:["Continue",e.jsx(ru,{className:"w-4 h-4 ml-1"})]}):e.jsx("button",{type:"button",onClick:p,disabled:n||!I(f.current_step),className:"inline-flex items-center px-6 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:n?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):"Create Account"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(Z,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-medium transition-colors duration-200",children:"Sign in here"})]})})]})})]})})})},i5=()=>{var U,P,C,S,z,O;const t=Is(),[s]=nt(),r=s.get("redirect_to"),n=s.get("reset_token"),[a,i]=u.useState({email:"",password:"",remember_me:!1}),[l,o]=u.useState({}),[c,d]=u.useState({email:"",reset_sent:!1,loading:!1}),[m,f]=u.useState({google_loading:!1,facebook_loading:!1}),[x,j]=u.useState(!1),[y,b]=u.useState(!1),[w,g]=u.useState({password:"",confirmPassword:""}),h=W(N=>N.authentication_state.current_user),p=W(N=>N.authentication_state.authentication_status.is_authenticated),k=W(N=>N.authentication_state.authentication_status.is_loading),E=W(N=>N.authentication_state.error_message),I=W(N=>N.login_user),_=W(N=>N.clear_auth_error);u.useEffect(()=>{if(p&&h){const N=r||(h.user_type==="seller"?"/shop/dashboard":"/search");t(N,{replace:!0})}},[p,h,r,t]),u.useEffect(()=>{E&&_(),o({})},[a.email,a.password,E,_]);const T=xe({mutationFn:async N=>(await G.post("http://localhost:3000/api/auth/forgot-password",N)).data,onSuccess:()=>{d(N=>({...N,reset_sent:!0,loading:!1}))},onError:()=>{d(N=>({...N,loading:!1}))}}),L=xe({mutationFn:async N=>(await G.post("http://localhost:3000/api/auth/reset-password",N)).data,onSuccess:()=>{t("/login?reset=success",{replace:!0})}}),q=()=>{const N={};return a.email?/\S+@\S+\.\S+/.test(a.email)||(N.email="Please enter a valid email address"):N.email="Email is required",a.password?a.password.length<6&&(N.password="Password must be at least 6 characters"):N.password="Password is required",o(N),Object.keys(N).length===0},D=async N=>{if(N.preventDefault(),_(),!!q())try{await I(a.email,a.password)}catch(A){console.error("Login error:",A)}},R=async N=>{N.preventDefault(),c.email&&(d(A=>({...A,loading:!0})),T.mutate({email:c.email}))},B=async N=>{N.preventDefault(),!(!n||!w.password)&&w.password===w.confirmPassword&&(w.password.length<6||L.mutate({token:n,password:w.password}))},Y=N=>{f(A=>({...A,[`${N}_loading`]:!0})),setTimeout(()=>{f(A=>({...A,[`${N}_loading`]:!1})),console.log(`${N} login would redirect to OAuth provider`)},1e3)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-blue-600 mb-2",children:"ConstructHub"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Reset Your Password":y?"Reset Password":"Welcome Back"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:n?"Enter your new password below":y?"Enter your email to receive reset instructions":"Sign in to access your construction materials hub"})]})}),e.jsxs("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg shadow-gray-200/50 sm:rounded-xl sm:px-10 border border-gray-100",children:[n&&e.jsxs("form",{className:"space-y-6",onSubmit:B,children:[L.error&&e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[e.jsx(es,{className:"h-5 w-5 flex-shrink-0"}),e.jsx("p",{className:"text-sm",children:((C=(P=(U=L.error)==null?void 0:U.response)==null?void 0:P.data)==null?void 0:C.message)||"Password reset failed. Please try again."})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:x?"text":"password",required:!0,value:w.password,onChange:N=>g(A=>({...A,password:N.target.value})),className:"block w-full px-4 py-3 pl-12 pr-12 border border-gray-200 rounded-lg focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all duration-200",placeholder:"Enter new password"}),e.jsx(Qa,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("button",{type:"button",onClick:()=>j(!x),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:x?e.jsx(Qd,{className:"h-5 w-5"}):e.jsx(on,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:w.confirmPassword,onChange:N=>g(A=>({...A,confirmPassword:N.target.value})),className:"block w-full px-4 py-3 pl-12 border border-gray-200 rounded-lg focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all duration-200",placeholder:"Confirm new password"}),e.jsx(Qa,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]}),w.password&&w.confirmPassword&&w.password!==w.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:"Passwords do not match"})]}),e.jsx("button",{type:"submit",disabled:L.isPending||!w.password||!w.confirmPassword||w.password!==w.confirmPassword||w.password.length<6,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:L.isPending?e.jsxs(e.Fragment,{children:[e.jsx(kt,{className:"animate-spin h-4 w-4 mr-2"}),"Resetting Password..."]}):e.jsxs(e.Fragment,{children:["Reset Password",e.jsx(ft,{className:"ml-2 h-4 w-4"})]})})]}),!n&&y&&e.jsx("form",{className:"space-y-6",onSubmit:R,children:c.reset_sent?e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[e.jsx(ss,{className:"h-5 w-5 flex-shrink-0"}),e.jsx("p",{className:"text-sm",children:"Password reset instructions have been sent to your email address."})]}),e.jsx("button",{type:"button",onClick:()=>{b(!1),d({email:"",reset_sent:!1,loading:!1})},className:"text-blue-600 hover:text-blue-500 text-sm font-medium",children:"Back to Sign In"})]}):e.jsxs(e.Fragment,{children:[T.error&&e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[e.jsx(es,{className:"h-5 w-5 flex-shrink-0"}),e.jsx("p",{className:"text-sm",children:((O=(z=(S=T.error)==null?void 0:S.response)==null?void 0:z.data)==null?void 0:O.message)||"Failed to send reset email. Please try again."})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"resetEmail",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"resetEmail",name:"resetEmail",type:"email",required:!0,value:c.email,onChange:N=>d(A=>({...A,email:N.target.value})),className:"block w-full px-4 py-3 pl-12 border border-gray-200 rounded-lg focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all duration-200",placeholder:"Enter your email address"}),e.jsx(ro,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>b(!1),className:"flex-1 py-3 px-4 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-4 focus:ring-gray-100 transition-all duration-200",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:T.isPending||!c.email,className:"flex-1 flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:T.isPending?e.jsxs(e.Fragment,{children:[e.jsx(kt,{className:"animate-spin h-4 w-4 mr-2"}),"Sending..."]}):"Send Reset Email"})]})]})}),!n&&!y&&e.jsxs(e.Fragment,{children:[e.jsxs("form",{className:"space-y-6",onSubmit:D,children:[(E||l.general)&&e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[e.jsx(es,{className:"h-5 w-5 flex-shrink-0"}),e.jsx("p",{className:"text-sm",children:E||l.general})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:a.email,onChange:N=>{i(A=>({...A,email:N.target.value})),l.email&&o(A=>({...A,email:void 0}))},className:`block w-full px-4 py-3 pl-12 border rounded-lg focus:ring-4 focus:ring-blue-100 transition-all duration-200 ${l.email?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"Enter your email"}),e.jsx(ro,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]}),l.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:x?"text":"password",autoComplete:"current-password",required:!0,value:a.password,onChange:N=>{i(A=>({...A,password:N.target.value})),l.password&&o(A=>({...A,password:void 0}))},className:`block w-full px-4 py-3 pl-12 pr-12 border rounded-lg focus:ring-4 focus:ring-blue-100 transition-all duration-200 ${l.password?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"Enter your password"}),e.jsx(Qa,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("button",{type:"button",onClick:()=>j(!x),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:x?e.jsx(Qd,{className:"h-5 w-5"}):e.jsx(on,{className:"h-5 w-5"})})]}),l.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.password})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:a.remember_me,onChange:N=>i(A=>({...A,remember_me:N.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),e.jsx("button",{type:"button",onClick:()=>b(!0),className:"text-sm text-blue-600 hover:text-blue-500 font-medium transition-colors",children:"Forgot password?"})]}),e.jsx("button",{type:"submit",disabled:k,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:k?e.jsxs(e.Fragment,{children:[e.jsx(kt,{className:"animate-spin h-4 w-4 mr-2"}),"Signing in..."]}):e.jsxs(e.Fragment,{children:["Sign In",e.jsx(ft,{className:"ml-2 h-4 w-4"})]})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>Y("google"),disabled:m.google_loading,className:"w-full inline-flex justify-center py-3 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 focus:outline-none focus:ring-4 focus:ring-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[m.google_loading?e.jsx(kt,{className:"h-5 w-5 animate-spin"}):e.jsx(Dw,{className:"h-5 w-5"}),e.jsx("span",{className:"ml-2",children:"Google"})]}),e.jsxs("button",{type:"button",onClick:()=>Y("facebook"),disabled:m.facebook_loading,className:"w-full inline-flex justify-center py-3 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 focus:outline-none focus:ring-4 focus:ring-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[m.facebook_loading?e.jsx(kt,{className:"h-5 w-5 animate-spin"}):e.jsx("div",{className:"h-5 w-5 bg-blue-600 rounded"}),e.jsx("span",{className:"ml-2",children:"Facebook"})]})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",e.jsx(Z,{to:`/register${r?`?redirect_to=${encodeURIComponent(r)}`:""}`,className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Create one now"})]})})]})]}),!n&&!y&&e.jsxs("div",{className:"mt-6 text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Want to explore first?"}),e.jsxs(Z,{to:"/",className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-500 transition-colors",children:["Continue as Guest",e.jsx(ft,{className:"ml-1 h-4 w-4"})]})]})]}),s.get("reset")==="success"&&e.jsxs("div",{className:"fixed top-4 right-4 bg-green-50 border border-green-200 text-green-700 px-6 py-4 rounded-lg shadow-lg flex items-center space-x-2 max-w-md",children:[e.jsx(ss,{className:"h-5 w-5 flex-shrink-0"}),e.jsx("p",{className:"text-sm font-medium",children:"Password reset successful! You can now sign in with your new password."})]})]})})},l5=()=>{var P,C,S,z,O,N;const[t,s]=nt(),[r,n]=u.useState("grid"),[a,i]=u.useState(!1),[l,o]=u.useState({}),[c,d]=u.useState(""),m=W(A=>A.authentication_state.authentication_status.is_authenticated),f=W(A=>A.user_location),x=W(A=>A.app_preferences.currency),j=W(A=>A.active_comparison.product_ids),y=W(A=>A.current_bom),b=W(A=>A.add_to_comparison),w=W(A=>A.remove_from_comparison),g=W(A=>A.add_bom_item),h=u.useMemo(()=>{var M,Q;const A=t.get("brand");return{query:t.get("q")||"",category:t.get("category")||"",brand:A?A.split(","):[],price_min:t.get("price_min")?Number(t.get("price_min")):null,price_max:t.get("price_max")?Number(t.get("price_max")):null,location_lat:t.get("location_lat")?Number(t.get("location_lat")):((M=f.coordinates)==null?void 0:M.lat)||null,location_lng:t.get("location_lng")?Number(t.get("location_lng")):((Q=f.coordinates)==null?void 0:Q.lng)||null,radius:Number(t.get("radius")||"10"),in_stock:t.get("in_stock")==="true"?!0:t.get("in_stock")==="false"?!1:null,sort:t.get("sort")||"relevance"}},[t,f.coordinates]);u.useEffect(()=>{d(h.query)},[h.query]);const p=ce({queryKey:["searchProducts",h],queryFn:async()=>{const A=new URLSearchParams;return h.query&&A.append("query",h.query),h.brand.length>0&&A.append("brand",h.brand.join(",")),A.append("is_active","true"),A.append("limit","20"),A.append("offset","0"),h.sort==="price_asc"?(A.append("sort_by","price"),A.append("sort_order","asc")):h.sort==="price_desc"?(A.append("sort_by","price"),A.append("sort_order","desc")):(A.append("sort_by","brand"),A.append("sort_order","asc")),(await G.get(`http://localhost:3000/api/product-variants?${A.toString()}`)).data},enabled:!0,staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),k=ce({queryKey:["searchPrices",(P=p.data)==null?void 0:P.variants],queryFn:async()=>{var v,$;if(!(($=(v=p.data)==null?void 0:v.variants)!=null&&$.length))return{prices:[]};const A=p.data.variants.map(K=>K.id),M=new URLSearchParams;return A.forEach(K=>M.append("variant_id",K)),M.append("verified","true"),M.append("sort_by","price"),M.append("sort_order","asc"),M.append("limit","100"),(await G.get(`http://localhost:3000/api/prices?${M.toString()}`)).data},enabled:!!((S=(C=p.data)==null?void 0:C.variants)!=null&&S.length),staleTime:3e5,refetchOnWindowFocus:!1,retry:1}),E=u.useMemo(()=>{var A;return(A=k.data)!=null&&A.prices?k.data.prices.reduce((M,Q)=>(M[Q.variant_id]||(M[Q.variant_id]=[]),M[Q.variant_id].push(Q),M),{}):{}},[(z=k.data)==null?void 0:z.prices]),I=u.useCallback(A=>{const M=new URLSearchParams(t);Object.entries(A).forEach(([Q,v])=>{v==null||v===""||Array.isArray(v)&&v.length===0?M.delete(Q):Array.isArray(v)?M.set(Q,v.join(",")):M.set(Q,String(v))}),s(M)},[t,s]),_=u.useCallback(A=>{A.preventDefault(),I({query:c.trim()})},[c,I]),T=u.useCallback((A,M)=>{I({[A]:M})},[I]),L=u.useCallback(A=>{if(j.includes(A))w(A);else{if(j.length>=10){alert("Maximum 10 products can be compared at once");return}b(A)}},[j,b,w]),q=u.useCallback(async A=>{if(!m){alert("Please login to add items to BOM");return}if(!y.id){alert("Please create a BOM first");return}const M=l[A]||1;try{await g({variant_id:A,quantity:M,unit:"piece",waste_factor:0}),o(Q=>({...Q,[A]:1})),alert("Item added to BOM successfully")}catch(Q){console.error("Failed to add item to BOM:",Q),alert("Failed to add item to BOM")}},[m,y.id,l,g]),D=u.useCallback((A,M)=>{o(Q=>({...Q,[A]:Math.max(1,(Q[A]||1)+M)}))},[]),R=u.useCallback(A=>{const M=E[A];return!M||M.length===0?null:M.reduce((Q,v)=>v.price_per_base_unit<Q.price_per_base_unit?v:Q)},[E]),B=u.useCallback(A=>{var M;return((M=E[A])==null?void 0:M.length)||0},[E]),Y=u.useCallback(A=>{const M=E[A];return M?M.some(Q=>{var v;return(v=Q.shop)==null?void 0:v.verified}):!1},[E]),U=({variant:A,isGridView:M})=>{var fe,ve,Nt,H,le,Ae,ns,kh;const Q=R(A.id),v=B(A.id),$=Y(A.id),K=j.includes(A.id),ie=l[A.id]||1;return M?e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-lg transition-all duration-200 group",children:[e.jsxs("div",{className:"relative aspect-square bg-gray-100 overflow-hidden",children:[A.image_url?e.jsx("img",{src:A.image_url,alt:(le=A.product)==null?void 0:le.canonical_name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:Io=>{Io.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0ibTMgNiAzIDEgMTQgMCAzLTF2MTBsLTMgMUg2bC0zLTFWNloiIGZpbGw9IiNmM2Y0ZjYiLz4KPHBhdGggZD0ibTkgOSAyIDRoMmwyLTQtMy0xLTMgMVoiIGZpbGw9IiNkMWQ1ZGIiLz4KPC9zdmc+"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:e.jsx(vr,{className:"w-16 h-16"})}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("button",{onClick:()=>L(A.id),className:`w-6 h-6 rounded border-2 transition-all duration-200 ${K?"bg-blue-600 border-blue-600 text-white":"bg-white border-gray-300 hover:border-blue-500"}`,title:"Add to comparison",children:K&&e.jsx("span",{className:"block w-full text-center text-xs",children:"✓"})})}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${$?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:$?"In Stock":"Out of Stock"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 min-h-[2.5rem]",children:e.jsx(Z,{to:`/product/${A.product_id}?variant=${A.id}`,className:"hover:text-blue-600 transition-colors",children:((Ae=A.product)==null?void 0:Ae.canonical_name)||"Unknown Product"})}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[A.brand&&e.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs",children:A.brand}),A.grade&&e.jsx("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded text-xs",children:A.grade})]}),Q?e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[Q.price.toFixed(2)," ",x]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["per ",((ns=A.product)==null?void 0:ns.base_unit)||"unit"]}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[e.jsx(Et,{className:"w-3 h-3"}),e.jsxs("span",{children:[v," shops"]})]}),((kh=Q.shop)==null?void 0:kh.verified)&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Es,{className:"w-3 h-3 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"Verified"})]})]})]}):e.jsx("div",{className:"text-gray-500 mb-4",children:"Price not available"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[e.jsx("button",{onClick:()=>D(A.id,-1),className:"p-2 hover:bg-gray-100 transition-colors rounded-l-lg",disabled:ie<=1,children:e.jsx(Zd,{className:"w-4 h-4"})}),e.jsx("span",{className:"px-4 py-2 text-sm font-medium min-w-[3rem] text-center border-x border-gray-300",children:ie}),e.jsx("button",{onClick:()=>D(A.id,1),className:"p-2 hover:bg-gray-100 transition-colors rounded-r-lg",children:e.jsx(ps,{className:"w-4 h-4"})})]})}),e.jsxs("div",{className:"flex space-x-2",children:[m&&y.id&&e.jsxs("button",{onClick:()=>q(A.id),className:"flex-1 bg-green-600 text-white px-3 py-2 rounded-lg text-sm font-medium hover:bg-green-700 transition-colors flex items-center justify-center space-x-1",children:[e.jsx(na,{className:"w-4 h-4"}),e.jsx("span",{children:"Add to BOM"})]}),e.jsx(Z,{to:`/product/${A.product_id}?variant=${A.id}`,className:"flex-1 bg-blue-600 text-white px-3 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors text-center",children:"View Details"})]})]})]})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200",children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx("div",{className:"flex-shrink-0 w-24 h-24 bg-gray-100 rounded-lg overflow-hidden",children:A.image_url?e.jsx("img",{src:A.image_url,alt:(fe=A.product)==null?void 0:fe.canonical_name,className:"w-full h-full object-cover",onError:Io=>{Io.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0ibTMgNiAzIDEgMTQgMCAzLTF2MTBsLTMgMUg2bC0zLTFWNloiIGZpbGw9IiNmM2Y0ZjYiLz4KPHBhdGggZD0ibTkgOSAyIDRoMmwyLTQtMy0xLTMgMVoiIGZpbGw9IiNkMWQ1ZGIiLz4KPC9zdmc+"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:e.jsx(vr,{className:"w-8 h-8"})})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.jsx(Z,{to:`/product/${A.product_id}?variant=${A.id}`,className:"hover:text-blue-600 transition-colors",children:((ve=A.product)==null?void 0:ve.canonical_name)||"Unknown Product"})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 mb-3",children:[A.brand&&e.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:A.brand}),A.grade&&e.jsxs("span",{className:"text-gray-500",children:["Grade: ",A.grade]}),A.size&&e.jsxs("span",{className:"text-gray-500",children:["Size: ",A.size]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Et,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-gray-600",children:[v," shops"]})]}),e.jsxs("div",{className:`flex items-center space-x-1 ${$?"text-green-600":"text-red-500"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${$?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:"text-xs font-medium",children:$?"In Stock":"Out of Stock"})]})]})]}),e.jsxs("div",{className:"flex-shrink-0 text-right ml-6",children:[Q?e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[Q.price.toFixed(2)," ",x]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["per ",((Nt=A.product)==null?void 0:Nt.base_unit)||"unit"]}),((H=Q.shop)==null?void 0:H.verified)&&e.jsxs("div",{className:"flex items-center justify-end mt-1",children:[e.jsx(Es,{className:"w-3 h-3 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"Verified"})]})]}):e.jsx("div",{className:"text-gray-500 mb-3",children:"Price not available"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center border border-gray-300 rounded",children:[e.jsx("button",{onClick:()=>D(A.id,-1),className:"p-1 hover:bg-gray-100 transition-colors",disabled:ie<=1,children:e.jsx(Zd,{className:"w-3 h-3"})}),e.jsx("span",{className:"px-2 py-1 text-sm font-medium min-w-[2rem] text-center",children:ie}),e.jsx("button",{onClick:()=>D(A.id,1),className:"p-1 hover:bg-gray-100 transition-colors",children:e.jsx(ps,{className:"w-3 h-3"})})]}),e.jsx("button",{onClick:()=>L(A.id),className:`p-2 rounded-lg border transition-all duration-200 ${K?"bg-blue-600 text-white border-blue-600":"border-gray-300 text-gray-600 hover:border-blue-500 hover:text-blue-600"}`,title:"Add to comparison",children:e.jsx(eo,{className:"w-4 h-4"})}),m&&y.id&&e.jsx("button",{onClick:()=>q(A.id),className:"p-2 rounded-lg border border-green-300 text-green-600 hover:bg-green-50 transition-colors",title:"Add to BOM",children:e.jsx(na,{className:"w-4 h-4"})}),e.jsx(Z,{to:`/product/${A.product_id}?variant=${A.id}`,className:"p-2 rounded-lg border border-gray-300 text-gray-600 hover:border-blue-500 hover:text-blue-600 transition-colors",title:"View details",children:e.jsx(on,{className:"w-4 h-4"})})]})]})]})})]})})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-16 z-10",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("form",{onSubmit:_,className:"flex-1 max-w-2xl",children:e.jsxs("div",{className:"relative",children:[e.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",value:c,onChange:A=>d(A.target.value),placeholder:"Search construction materials...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"}),c&&e.jsx("button",{type:"button",onClick:()=>d(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(ct,{className:"w-5 h-5"})})]})}),e.jsx("button",{onClick:()=>i(!a),className:`px-4 py-3 rounded-lg border transition-colors ${a?"bg-blue-600 text-white border-blue-600":"border-gray-300 text-gray-700 hover:border-blue-500"}`,children:e.jsx(jh,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[e.jsx("button",{onClick:()=>n("grid"),className:`p-3 transition-colors ${r==="grid"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:e.jsx(Qw,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>n("list"),className:`p-3 transition-colors ${r==="list"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:e.jsx(Jw,{className:"w-5 h-5"})})]})]}),(h.query||h.brand.length>0||h.category||h.price_min||h.price_max||h.in_stock!==null)&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-4",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Filters:"}),h.query&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:['Search: "',h.query,'"',e.jsx("button",{onClick:()=>T("query",""),className:"ml-2 hover:text-blue-900",children:e.jsx(ct,{className:"w-3 h-3"})})]}),h.brand.map(A=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800",children:["Brand: ",A,e.jsx("button",{onClick:()=>T("brand",h.brand.filter(M=>M!==A)),className:"ml-2 hover:text-green-900",children:e.jsx(ct,{className:"w-3 h-3"})})]},A)),h.category&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800",children:["Category: ",h.category,e.jsx("button",{onClick:()=>T("category",""),className:"ml-2 hover:text-purple-900",children:e.jsx(ct,{className:"w-3 h-3"})})]}),(h.price_min||h.price_max)&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-yellow-100 text-yellow-800",children:["Price: ",h.price_min||0," - ",h.price_max||"∞"," ",x,e.jsx("button",{onClick:()=>{T("price_min",null),T("price_max",null)},className:"ml-2 hover:text-yellow-900",children:e.jsx(ct,{className:"w-3 h-3"})})]}),h.in_stock!==null&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-red-100 text-red-800",children:[h.in_stock?"In Stock Only":"Include Out of Stock",e.jsx("button",{onClick:()=>T("in_stock",null),className:"ml-2 hover:text-red-900",children:e.jsx(ct,{className:"w-3 h-3"})})]}),e.jsx("button",{onClick:()=>{s({}),d("")},className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Clear all"})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex gap-6",children:[a&&e.jsx("div",{className:"w-80 flex-shrink-0",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 sticky top-32",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filters"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsxs("select",{value:h.category,onChange:A=>T("category",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Categories"}),e.jsx("option",{value:"cement",children:"Cement"}),e.jsx("option",{value:"steel",children:"Steel"}),e.jsx("option",{value:"concrete",children:"Concrete"}),e.jsx("option",{value:"bricks",children:"Bricks"}),e.jsx("option",{value:"paint",children:"Paint"}),e.jsx("option",{value:"tiles",children:"Tiles"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Price Range (",x,")"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"number",placeholder:"Min",value:h.price_min||"",onChange:A=>T("price_min",A.target.value?Number(A.target.value):null),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("input",{type:"number",placeholder:"Max",value:h.price_max||"",onChange:A=>T("price_max",A.target.value?Number(A.target.value):null),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Availability"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"stock",checked:h.in_stock===null,onChange:()=>T("in_stock",null),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All products"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"stock",checked:h.in_stock===!0,onChange:()=>T("in_stock",!0),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In stock only"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort by"}),e.jsxs("select",{value:h.sort,onChange:A=>T("sort",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"relevance",children:"Relevance"}),e.jsx("option",{value:"price_asc",children:"Price: Low to High"}),e.jsx("option",{value:"price_desc",children:"Price: High to Low"}),e.jsx("option",{value:"rating",children:"Customer Rating"}),e.jsx("option",{value:"distance",children:"Distance"})]})]}),f.coordinates&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Radius (km)"}),e.jsx("input",{type:"range",min:"1",max:"50",value:h.radius,onChange:A=>T("radius",Number(A.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"1 km"}),e.jsxs("span",{children:[h.radius," km"]}),e.jsx("span",{children:"50 km"})]})]})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:h.query?`Search Results for "${h.query}"`:"All Products"}),p.data&&e.jsxs("span",{className:"text-gray-500",children:["(",p.data.total||0," products)"]})]}),j.length>0&&e.jsxs(Z,{to:"/compare",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx(eo,{className:"w-4 h-4"}),e.jsxs("span",{children:["Compare (",j.length,")"]})]})]}),p.isLoading&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"flex items-center space-x-3 text-gray-600",children:[e.jsx(kt,{className:"w-6 h-6 animate-spin"}),e.jsx("span",{children:"Searching products..."})]})}),p.isError&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[e.jsx(es,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"Search Failed"}),e.jsx("p",{className:"text-red-700 mb-4",children:"We couldn't load the search results. Please try again."}),e.jsx("button",{onClick:()=>p.refetch(),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]}),p.data&&(!p.data.variants||p.data.variants.length===0)&&e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-12 text-center",children:[e.jsx(ys,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No products found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:h.query?`No products match your search for "${h.query}"`:"No products match your current filters"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Try:"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"• Checking your spelling"}),e.jsx("li",{children:"• Using fewer or different keywords"}),e.jsx("li",{children:"• Removing some filters"}),e.jsx("li",{children:"• Browsing categories instead"})]})]}),e.jsx(Z,{to:"/categories",className:"inline-block mt-6 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Categories"})]}),((O=p.data)==null?void 0:O.variants)&&p.data.variants.length>0&&e.jsx("div",{className:r==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:p.data.variants.map(A=>e.jsx(U,{variant:A,isGridView:r==="grid"},A.id))}),((N=p.data)==null?void 0:N.variants)&&p.data.variants.length>0&&e.jsx("div",{className:"mt-12 text-center",children:e.jsx("button",{className:"bg-gray-100 text-gray-700 px-8 py-3 rounded-lg hover:bg-gray-200 transition-colors",children:"Load More Products"})})]})]})})]})})},o5=()=>{var A,M,Q;const{product_id:t}=ih(),[s]=nt(),r=s.get("quantity"),n=s.get("shop_id"),[a,i]=u.useState(r?parseInt(r):1),[l,o]=u.useState(""),[c,d]=u.useState(0),[m,f]=u.useState("overview"),x=W(v=>v.authentication_state.authentication_status.is_authenticated),j=W(v=>v.current_bom),y=W(v=>v.active_comparison),b=W(v=>v.user_location),w=W(v=>v.app_preferences.currency),g=W(v=>v.add_bom_item),h=W(v=>v.create_bom),p=W(v=>v.add_to_comparison),k="http://localhost:3000",{data:E,isLoading:I,error:_}=ce({queryKey:["product",t,a,b==null?void 0:b.coordinates],queryFn:async()=>{if(!t)throw new Error("Product ID is required");const v=new URLSearchParams({quantity:a.toString(),radius:"10"});return b!=null&&b.coordinates&&(v.append("location_lat",b.coordinates.lat.toString()),v.append("location_lng",b.coordinates.lng.toString())),n&&v.append("shop_id",n),(await G.get(`${k}/api/products/${t}?${v.toString()}`)).data},enabled:!!t,staleTime:5*60*1e3,select:v=>({...v,variants:v.variants.map($=>{var K;return{...$,prices:((K=$.prices)==null?void 0:K.map(ie=>({...ie,price:Number(ie.price||0),price_per_base_unit:Number(ie.price_per_base_unit||0)})))||[]}})})}),{data:T,isLoading:L}=ce({queryKey:["reviews",l],queryFn:async()=>l?(await G.get(`${k}/api/reviews?variant_id=${l}&limit=20&sort_by=created_at&sort_order=desc`)).data:{reviews:[],rating_summary:{}},enabled:!!l,staleTime:2*60*1e3});u.useEffect(()=>{var v;(v=E==null?void 0:E.variants)!=null&&v.length&&!l&&o(E.variants[0].id)},[E==null?void 0:E.variants,l]);const q=async()=>{if(!(!l||!x))try{j.id||await h({title:`Project with ${E==null?void 0:E.canonical_name}`,description:"Auto-created from product details"}),await g({variant_id:l,quantity:a,unit:(E==null?void 0:E.base_unit)||"piece",waste_factor:(E==null?void 0:E.waste_factor_percentage)||0})}catch(v){console.error("Failed to add to BOM:",v)}},D=()=>{l&&p(l)},R=(A=E==null?void 0:E.variants)==null?void 0:A.find(v=>v.id===l),Y=[...(R==null?void 0:R.prices)||[]].filter(v=>v.shop).sort((v,$)=>{var K,ie,fe,ve;return(K=v.inventory)!=null&&K.in_stock&&!((ie=$.inventory)!=null&&ie.in_stock)?-1:!((fe=v.inventory)!=null&&fe.in_stock)&&((ve=$.inventory)!=null&&ve.in_stock)?1:v.price_per_base_unit-$.price_per_base_unit}),U=Y[0],P=U?U.price_per_base_unit*a:0,C=Math.max(...Y.map(v=>v.price_per_base_unit)),S=U&&C>U.price_per_base_unit?(C-U.price_per_base_unit)*a:0,z=["","",...Y.slice(0,3).map(()=>"").filter(Boolean)||[]].filter(Boolean),O=()=>{d(v=>(v+1)%z.length)},N=()=>{d(v=>(v-1+z.length)%z.length)};return I?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-300 rounded w-1/3 mb-4"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsx("div",{className:"aspect-square bg-gray-300 rounded-lg"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-8 bg-gray-300 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"}),e.jsx("div",{className:"h-6 bg-gray-300 rounded w-1/4"})]})]})]})})})}):_||!E?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(es,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Product Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The product you're looking for doesn't exist or has been removed."}),e.jsx(Z,{to:"/search",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Back to Search"})]})})})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx(Z,{to:"/",className:"hover:text-gray-700",children:"Home"}),e.jsx("span",{children:"/"}),e.jsx(Z,{to:"/categories",className:"hover:text-gray-700",children:"Categories"}),e.jsx("span",{children:"/"}),e.jsx(Z,{to:`/categories/${E.category_id}`,className:"hover:text-gray-700",children:E.subcategory||"Products"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-900 font-medium",children:E.canonical_name})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"relative aspect-square bg-white rounded-xl shadow-lg overflow-hidden",children:z.length>0?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:z[c],alt:E.canonical_name,className:"w-full h-full object-cover"}),z.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:N,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/90 hover:bg-white p-2 rounded-full shadow-lg transition-all duration-200",children:e.jsx(Tg,{className:"w-5 h-5 text-gray-700"})}),e.jsx("button",{onClick:O,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/90 hover:bg-white p-2 rounded-full shadow-lg transition-all duration-200",children:e.jsx(vh,{className:"w-5 h-5 text-gray-700"})})]})]}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:e.jsx("span",{className:"text-gray-400",children:"No Image Available"})})}),z.length>1&&e.jsx("div",{className:"grid grid-cols-4 gap-2",children:z.slice(0,4).map((v,$)=>e.jsx("button",{onClick:()=>d($),className:`aspect-square rounded-lg overflow-hidden border-2 transition-all duration-200 ${c===$?"border-blue-500 ring-2 ring-blue-100":"border-gray-200 hover:border-gray-300"}`,children:e.jsx("img",{src:v,alt:`${E.canonical_name} ${$+1}`,className:"w-full h-full object-cover"})},$))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 leading-tight mb-2",children:E.canonical_name}),(R==null?void 0:R.brand)&&e.jsxs("p",{className:"text-lg text-gray-600 mb-2",children:["Brand: ",e.jsx("span",{className:"font-semibold",children:R.brand})]}),(R==null?void 0:R.grade)&&e.jsxs("p",{className:"text-base text-gray-500",children:["Grade: ",R.grade]})]}),E.variants.length>1&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Variants"}),e.jsx("select",{value:l,onChange:v=>o(v.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-4 focus:ring-blue-100 focus:border-blue-500",children:E.variants.map(v=>e.jsxs("option",{value:v.id,children:[[v.brand,v.grade,v.size].filter(Boolean).join(" - "),v.pack_quantity&&` (${v.pack_quantity} ${v.pack_unit})`]},v.id))})]}),U&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-xl p-6 border border-blue-100",children:[e.jsxs("div",{className:"flex items-baseline space-x-2 mb-2",children:[e.jsxs("span",{className:"text-3xl font-bold text-blue-700",children:[U.price_per_base_unit.toFixed(2)," ",w]}),e.jsxs("span",{className:"text-lg text-gray-600",children:["per ",E.base_unit]})]}),U.promotional_price&&e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsxs("span",{className:"text-lg text-gray-500 line-through",children:[U.price.toFixed(2)," ",w]}),e.jsx("span",{className:"bg-red-100 text-red-700 text-xs px-2 py-1 rounded-full font-medium",children:"SALE"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ss,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{className:"text-sm text-green-700 font-medium",children:["Best Price from ",U.shop.name]})]}),S>0&&e.jsxs("span",{className:"text-sm text-green-600 font-medium",children:["Save ",S.toFixed(2)," ",w]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Quantity Needed"}),e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("button",{onClick:()=>i(Math.max(1,a-1)),className:"w-10 h-10 rounded-lg border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors",children:"-"}),e.jsx("input",{type:"number",min:"1",value:a,onChange:v=>i(Math.max(1,parseInt(v.target.value)||1)),className:"w-20 text-center py-2 border border-gray-300 rounded-lg focus:ring-4 focus:ring-blue-100 focus:border-blue-500"}),e.jsx("button",{onClick:()=>i(a+1),className:"w-10 h-10 rounded-lg border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors",children:"+"}),e.jsxs("span",{className:"text-gray-600",children:[E.base_unit,"(s)"]})]}),E.waste_factor_percentage>0&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Gd,{className:"w-4 h-4 text-yellow-600"}),e.jsxs("span",{className:"text-sm text-yellow-800",children:["Includes ",E.waste_factor_percentage,"% waste factor"]})]}),e.jsxs("p",{className:"text-xs text-yellow-700 mt-1",children:["Total needed: ",(a*(1+E.waste_factor_percentage/100)).toFixed(2)," ",E.base_unit,"(s)"]})]}),P>0&&e.jsx("div",{className:"border-t border-gray-200 pt-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total Estimated Cost:"}),e.jsxs("span",{className:"text-2xl font-bold text-blue-700",children:[P.toFixed(2)," ",w]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:q,disabled:!x||!l,className:"flex items-center justify-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[e.jsx(ps,{className:"w-5 h-5"}),e.jsx("span",{children:"Add to BOM"}),j.item_count>0&&e.jsx("span",{className:"bg-blue-500 text-white text-xs px-2 py-1 rounded-full",children:j.item_count})]}),e.jsxs("button",{onClick:D,disabled:!l,className:"flex items-center justify-center space-x-2 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 focus:ring-4 focus:ring-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[e.jsx(zw,{className:"w-5 h-5"}),e.jsx("span",{children:"Compare"}),y.product_ids.length>0&&e.jsx("span",{className:"bg-gray-500 text-white text-xs px-2 py-1 rounded-full",children:y.product_ids.length})]})]}),x&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs(Z,{to:`/rfq?product_id=${t}&variant_id=${l}&quantity=${a}`,className:"flex items-center justify-center space-x-2 px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 focus:ring-4 focus:ring-green-100 transition-all duration-200",children:[e.jsx(Zs,{className:"w-5 h-5"}),e.jsx("span",{children:"Request Quote"})]}),e.jsxs("button",{className:"flex items-center justify-center space-x-2 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 focus:ring-4 focus:ring-gray-100 transition-all duration-200",children:[e.jsx(Bg,{className:"w-5 h-5"}),e.jsx("span",{children:"Save"})]})]})]})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[{id:"overview",name:"Overview & Pricing",icon:na},{id:"specifications",name:"Specifications",icon:es},{id:"reviews",name:"Reviews & Ratings",icon:Es}].map(v=>e.jsxs("button",{onClick:()=>f(v.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${m===v.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(v.icon,{className:"w-4 h-4"}),e.jsx("span",{children:v.name})]},v.id))})})}),m==="overview"&&e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Shop Comparison (",Y.length," shops available)"]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shop"}),e.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:["Price per ",E.base_unit]}),e.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:["Total (",a," ",E.base_unit,"s)"]}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Distance"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Y.map((v,$)=>{var K,ie,fe;return e.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${$===0?"bg-blue-50 border-l-4 border-blue-500":""} ${n===v.shop.id?"bg-yellow-50 border-l-4 border-yellow-500":""}`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:v.shop.name}),v.shop.verified&&e.jsx(ss,{className:"w-4 h-4 text-green-500"}),$===0&&e.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full font-medium",children:"Best Price"})]}),e.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((ve,Nt)=>e.jsx(Es,{className:`w-3 h-3 ${Nt<Math.floor(v.shop.rating_average)?"text-yellow-400 fill-current":"text-gray-300"}`},Nt))}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",v.shop.rating_average.toFixed(1),")"]})]})]})})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[v.price_per_base_unit.toFixed(2)," ",w]}),v.promotional_price&&e.jsxs("div",{className:"text-xs text-green-600",children:["Sale: ",v.promotional_price.toFixed(2)," ",w]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[(v.price_per_base_unit*a).toFixed(2)," ",w]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${(K=v.inventory)!=null&&K.in_stock?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:(ie=v.inventory)!=null&&ie.in_stock?"In Stock":"Out of Stock"}),((fe=v.inventory)==null?void 0:fe.lead_time_days)&&v.inventory.lead_time_days>0&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Lead time: ",v.inventory.lead_time_days," days"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.distance_km?e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Et,{className:"w-3 h-3 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[v.distance_km.toFixed(1)," km"]})]}):e.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[v.shop.phones.length>0&&e.jsx("a",{href:`tel:${v.shop.phones[0]}`,className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Call shop",children:e.jsx(Ig,{className:"w-4 h-4"})}),e.jsx(Z,{to:`/map?shop_id=${v.shop.id}&lat=${v.shop.location_lat}&lng=${v.shop.location_lng}`,className:"text-gray-600 hover:text-gray-700 p-1 rounded transition-colors",title:"View on map",children:e.jsx(Et,{className:"w-4 h-4"})}),e.jsx(Z,{to:`/shops/${v.shop.id}`,className:"text-gray-600 hover:text-gray-700 p-1 rounded transition-colors",title:"Shop details",children:e.jsx(Hw,{className:"w-4 h-4"})})]})})]},v.id)})})]})}),Y.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(es,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Prices Available"}),e.jsx("p",{className:"text-gray-500",children:"No shops have pricing information for this product yet."})]})]})}),m==="specifications"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Technical Specifications"}),E.description&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:E.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-4",children:"Product Details"}),e.jsxs("dl",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("dt",{className:"text-sm text-gray-600",children:"Base Unit"}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:E.base_unit})]}),(R==null?void 0:R.brand)&&e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("dt",{className:"text-sm text-gray-600",children:"Brand"}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:R.brand})]}),(R==null?void 0:R.grade)&&e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("dt",{className:"text-sm text-gray-600",children:"Grade"}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:R.grade})]}),(R==null?void 0:R.size)&&e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("dt",{className:"text-sm text-gray-600",children:"Size"}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:R.size})]}),(R==null?void 0:R.pack_quantity)&&e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("dt",{className:"text-sm text-gray-600",children:"Pack Size"}),e.jsxs("dd",{className:"text-sm font-medium text-gray-900",children:[R.pack_quantity," ",R.pack_unit]})]}),E.waste_factor_percentage>0&&e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("dt",{className:"text-sm text-gray-600",children:"Waste Factor"}),e.jsxs("dd",{className:"text-sm font-medium text-gray-900",children:[E.waste_factor_percentage,"%"]})]})]})]}),(E.specifications||(R==null?void 0:R.specifications))&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-4",children:"Technical Specifications"}),e.jsx("dl",{className:"space-y-3",children:Object.entries({...E.specifications||{},...(R==null?void 0:R.specifications)||{}}).map(([v,$])=>e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("dt",{className:"text-sm text-gray-600 capitalize",children:v.replace(/_/g," ")}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:typeof $=="string"?$:JSON.stringify($)})]},v))})]})]}),(R==null?void 0:R.sku)&&e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"SKU"}),e.jsx("span",{className:"text-sm font-mono text-gray-900 bg-gray-100 px-2 py-1 rounded",children:R.sku})]})})]}),m==="reviews"&&e.jsxs("div",{className:"space-y-8",children:[(T==null?void 0:T.rating_summary)&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Customer Reviews"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:((M=T.rating_summary.average_rating)==null?void 0:M.toFixed(1))||"0.0"}),e.jsx("div",{className:"flex items-center justify-center mb-2",children:[...Array(5)].map((v,$)=>e.jsx(Es,{className:`w-5 h-5 ${$<Math.floor(T.rating_summary.average_rating||0)?"text-yellow-400 fill-current":"text-gray-300"}`},$))}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Based on ",T.rating_summary.total_reviews||0," reviews"]})]}),e.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(v=>{var $,K;return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-600 w-8",children:[v,"★"]}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${((($=T.rating_summary.rating_distribution)==null?void 0:$[v])||0)/(T.rating_summary.total_reviews||1)*100}%`}})}),e.jsx("span",{className:"text-sm text-gray-600 w-8",children:((K=T.rating_summary.rating_distribution)==null?void 0:K[v])||0})]},v)})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"All Reviews"})}),L?e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(3)].map((v,$)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/4"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]},$))})}):((Q=T==null?void 0:T.reviews)==null?void 0:Q.length)>0?e.jsx("div",{className:"divide-y divide-gray-200",children:T.reviews.map(v=>{var $,K,ie;return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-gray-600",children:((K=($=v.user)==null?void 0:$.name)==null?void 0:K.charAt(0).toUpperCase())||"U"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-900",children:((ie=v.user)==null?void 0:ie.name)||"Anonymous User"}),v.verified_purchase&&e.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Verified Purchase"}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(v.created_at).toLocaleDateString()})]}),e.jsx("div",{className:"flex items-center mb-2",children:[...Array(5)].map((fe,ve)=>e.jsx(Es,{className:`w-4 h-4 ${ve<v.rating?"text-yellow-400 fill-current":"text-gray-300"}`},ve))}),v.review_text&&e.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:v.review_text}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("button",{className:"hover:text-gray-700",children:["Helpful (",v.helpful_votes,")"]}),e.jsx("span",{children:"•"}),e.jsx("button",{className:"hover:text-gray-700",children:"Report"})]})]})]})},v.id)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Es,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Reviews Yet"}),e.jsx("p",{className:"text-gray-500",children:"Be the first to review this product and help other buyers make informed decisions."})]})]})]}),!x&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-xl p-8 text-center text-white",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Get Full Access"}),e.jsx("p",{className:"text-blue-100 mb-6 max-w-2xl mx-auto",children:"Create an account to add products to your BOM, request quotes from suppliers, and access advanced comparison tools."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(Z,{to:"/register?redirect_to=/product",className:"px-8 py-3 bg-white text-blue-600 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"Create Account"}),e.jsx(Z,{to:"/login?redirect_to=/product",className:"px-8 py-3 border border-white text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Sign In"})]})]})]})]})})};function c5({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{d:"M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z"}))}const d5=u.forwardRef(c5);function u5({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const h5=u.forwardRef(u5);function m5({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const Y0=u.forwardRef(m5);function x5({title:t,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?u.createElement("title",{id:s},t):null,u.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const Tr=u.forwardRef(x5),p5=()=>{const[t]=nt(),s=Je(),r=W(P=>P.authentication_state.current_user),n=W(P=>P.authentication_state.auth_token),a=W(P=>P.current_bom),i=W(P=>P.user_location),[l,o]=u.useState([]),[c,d]=u.useState([]),[m,f]=u.useState({}),[x,j]=u.useState(!1),[y,b]=u.useState({}),[w,g]=u.useState(!1);u.useEffect(()=>{const P=t.get("product_ids"),C=t.get("shop_ids"),S=t.get("quantity"),z=t.get("include_delivery"),O=t.get("waste_factor");if(P){const N=P.split(",").filter(Boolean);o(N);const A=S?parseFloat(S):1,M={};if(N.forEach(Q=>{M[Q]=A}),f(M),O){const Q=parseFloat(O),v={};N.forEach($=>{v[$]=Q}),b(v)}}C&&d(C.split(",").filter(Boolean)),j(z==="true")},[t]);const{data:h,isLoading:p,error:k,refetch:E}=ce({queryKey:["comparison",l,c,m,x,y,i==null?void 0:i.coordinates],queryFn:async()=>{if(l.length===0)return{comparison:[],optimization:{cheapest_single_shop:null,optimized_multi_shop:[],total_savings:0}};const P=new URLSearchParams;P.append("variant_ids",l.join(",")),c.length>0&&P.append("shop_ids",c.join(","));const C=Object.values(m)[0]||1;P.append("quantity",C.toString()),P.append("include_delivery",x.toString());const S=Object.values(y)[0]||0;return S>0&&P.append("waste_factor",S.toString()),i!=null&&i.coordinates&&(P.append("location_lat",i.coordinates.lat.toString()),P.append("location_lng",i.coordinates.lng.toString())),(await G.get(`http://localhost:3000/api/prices/compare?${P}`,n?{headers:{Authorization:`Bearer ${n}`}}:{})).data},enabled:l.length>0,staleTime:5*60*1e3,refetchOnWindowFocus:!1,retry:1}),I=xe({mutationFn:async({variantId:P,quantity:C,unit:S,wasteFactor:z})=>{if(!a.id||!n)throw new Error("No active BOM or authentication required");return(await G.post(`http://localhost:3000/api/boms/${a.id}/items`,{variant_id:P,quantity:C,unit:S,waste_factor:z},{headers:{Authorization:`Bearer ${n}`}})).data},onSuccess:()=>{s.invalidateQueries({queryKey:["bom",a.id]})}}),_=xe({mutationFn:async({title:P,description:C,priority:S})=>{if(!a.id||!n)throw new Error("No active BOM or authentication required");return(await G.post("http://localhost:3000/api/rfqs",{bom_id:a.id,title:P,description:C,priority:S},{headers:{Authorization:`Bearer ${n}`}})).data},onSuccess:()=>{s.invalidateQueries({queryKey:["rfqs"]})}}),T=u.useCallback((P,C)=>{f(S=>({...S,[P]:Math.max(1,C)}))},[]),L=u.useCallback((P,C)=>{b(S=>({...S,[P]:Math.max(0,Math.min(100,C))}))},[]),q=u.useCallback(P=>{d(C=>C.includes(P)?C.filter(S=>S!==P):[...C,P])},[]),D=u.useMemo(()=>{if(!(h!=null&&h.comparison))return[];const P=new Map;return h.comparison.forEach(C=>{C.shop_prices.forEach(S=>{P.set(S.shop.id,S.shop)})}),Array.from(P.values()).sort((C,S)=>C.name.localeCompare(S.name))},[h]),R=u.useMemo(()=>{if(!(h!=null&&h.comparison))return new Map;const P=new Map;return h.comparison.forEach(C=>{const S=C.variant.id,z=C.shop_prices.filter(O=>O.inventory.in_stock).map(O=>O.total_price);z.length>0&&P.set(S,Math.min(...z))}),P},[h]),B=async P=>{var C;try{const S=(C=h==null?void 0:h.comparison.find(z=>z.variant.id===P))==null?void 0:C.variant;if(!S)return;await I.mutateAsync({variantId:P,quantity:m[P]||1,unit:S.pack_unit||"piece",wasteFactor:y[P]||0})}catch(S){console.error("Failed to add to BOM:",S)}},Y=async()=>{try{await _.mutateAsync({title:`RFQ for Comparison Items - ${new Date().toLocaleDateString()}`,description:`Request for quote including ${l.length} products from comparison table.`,priority:"medium"})}catch(P){console.error("Failed to send RFQ:",P)}},U=(P,C,S)=>{if(!S)return"bg-red-50 text-red-900 border-red-200";const z=R.get(P);return z&&C===z?"bg-green-50 text-green-900 border-green-200":z&&C>z*1.2?"bg-amber-50 text-amber-900 border-amber-200":"bg-white text-gray-900 border-gray-200"};return l.length===0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-md mx-auto text-center",children:[e.jsx(su,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:"No products to compare"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start by adding products to your comparison from the search results."}),e.jsx("div",{className:"mt-6",children:e.jsxs(Z,{to:"/search",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(au,{className:"-ml-1 mr-2 h-5 w-5"}),"Browse Products"]})})]})})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Price Comparison"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Comparing ",l.length," products across ",D.length," shops"]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>g(!w),className:`inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium ${w?"text-blue-700 bg-blue-100 hover:bg-blue-200":"text-gray-700 bg-white hover:bg-gray-50"} border-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:[w?e.jsx(d5,{className:"h-5 w-5 mr-2"}):e.jsx(su,{className:"h-5 w-5 mr-2"}),"Optimization"]}),e.jsxs("button",{onClick:()=>E(),disabled:p,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[e.jsx(Za,{className:`h-5 w-5 mr-2 ${p?"animate-spin":""}`}),"Refresh"]})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qg,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:x,onChange:P=>j(P.target.checked),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Include delivery costs"})]})]}),a.id&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Nc,{className:"h-5 w-5 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active BOM:"}),e.jsx("span",{className:"text-sm font-medium text-blue-600",children:a.title})]}),r&&e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("button",{onClick:Y,disabled:_.isPending||!a.id,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[e.jsx(Vg,{className:"h-4 w-4 mr-1"}),"Send RFQ"]})})]})})}),w&&(h==null?void 0:h.optimization)&&e.jsx("div",{className:"bg-blue-50 border-b border-blue-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsx("h3",{className:"text-lg font-medium text-blue-900 mb-4",children:"Purchase Optimization"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.optimization.cheapest_single_shop&&e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Cheapest Single Shop"}),e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[h.optimization.cheapest_single_shop.total_cost.toFixed(2)," AED"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Shop ID: ",h.optimization.cheapest_single_shop.shop_id]})]}),h.optimization.total_savings>0&&e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Multi-Shop Savings"}),e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[h.optimization.total_savings.toFixed(2)," AED"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Potential savings with multi-shop strategy"})]})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:p?e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(Za,{className:"h-8 w-8 animate-spin text-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading comparison data..."})]}):k?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(Bo,{className:"h-5 w-5 text-red-400"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading comparison data"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:k instanceof Error?k.message:"An unexpected error occurred"})]})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden lg:block",children:e.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"sticky left-0 z-10 bg-gray-50 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Product"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Waste %"}),D.map(P=>e.jsx("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[160px]",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("button",{onClick:()=>q(P.id),className:`p-1 rounded ${c.includes(P.id)?"text-blue-600 hover:text-blue-700":"text-gray-400 hover:text-gray-600"}`,children:c.includes(P.id)?e.jsx("span",{className:"h-4 w-4",children:"📌"}):e.jsx("span",{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:P.name}),e.jsxs("div",{className:"flex items-center justify-center text-xs text-gray-500",children:[P.verified&&e.jsx(or,{className:"h-3 w-3 text-green-500 mr-1"}),"★ ",P.rating_average.toFixed(1)]})]})]})},P.id)),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h==null?void 0:h.comparison.map(P=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"sticky left-0 z-10 bg-white px-6 py-4 border-r border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[P.variant.image_url&&e.jsx("img",{className:"h-10 w-10 rounded-lg object-cover mr-3",src:P.variant.image_url,alt:P.product.canonical_name}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.product.canonical_name}),e.jsxs("div",{className:"text-sm text-gray-500",children:[P.variant.brand&&`${P.variant.brand} • `,P.variant.grade&&`${P.variant.grade} • `,P.variant.size]}),P.variant.pack_quantity&&e.jsxs("div",{className:"text-xs text-gray-400",children:[P.variant.pack_quantity," ",P.variant.pack_unit]})]})]})}),e.jsx("td",{className:"px-3 py-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",min:"1",step:"1",value:m[P.variant.id]||1,onChange:C=>T(P.variant.id,parseFloat(C.target.value)||1),className:"w-20 px-2 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("span",{className:"text-xs text-gray-500",children:P.variant.pack_unit||"pcs"})]})}),e.jsx("td",{className:"px-3 py-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",min:"0",max:"100",step:"1",value:y[P.variant.id]||0,onChange:C=>L(P.variant.id,parseFloat(C.target.value)||0),className:"w-16 px-2 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx(Q_,{className:"h-4 w-4 text-gray-400"})]})}),D.map(C=>{const S=P.shop_prices.find(N=>N.shop.id===C.id);if(!S)return e.jsx("td",{className:"px-3 py-4 text-center",children:e.jsx("div",{className:"text-sm text-gray-400",children:"Not available"})},C.id);const z=(m[P.variant.id]||1)*(1+(y[P.variant.id]||0)/100),O=S.price.price_per_base_unit*z+(x?S.delivery_fee:0);return e.jsx("td",{className:"px-3 py-4",children:e.jsxs("div",{className:`p-3 rounded-lg border ${U(P.variant.id,O,S.inventory.in_stock)}`,children:[e.jsxs("div",{className:"text-lg font-semibold",children:[O.toFixed(2)," AED"]}),e.jsxs("div",{className:"text-xs text-gray-600",children:[S.price.price_per_base_unit.toFixed(2)," AED/unit"]}),x&&S.delivery_fee>0&&e.jsxs("div",{className:"text-xs text-gray-500",children:["+",S.delivery_fee.toFixed(2)," delivery"]}),e.jsx("div",{className:"mt-1 flex items-center justify-center",children:S.inventory.in_stock?e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(or,{className:"h-3 w-3 mr-1"}),e.jsx("span",{className:"text-xs",children:"In Stock"})]}):e.jsxs("div",{className:"flex items-center text-red-600",children:[e.jsx(G0,{className:"h-3 w-3 mr-1"}),e.jsx("span",{className:"text-xs",children:"Out of Stock"})]})}),S.inventory.lead_time_days>0&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[S.inventory.lead_time_days," days lead time"]}),S.price.promotional_price&&e.jsxs("div",{className:"text-xs text-orange-600 mt-1",children:["Promotion: ",S.price.promotional_price.toFixed(2)," AED"]})]})},C.id)}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col space-y-2",children:[a.id&&e.jsxs("button",{onClick:()=>B(P.variant.id),disabled:I.isPending,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:[e.jsx(Nc,{className:"h-3 w-3 mr-1"}),"Add to BOM"]}),e.jsx(Z,{to:`/product/${P.variant.product_id}`,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"View Details"})]})})]},P.variant.id))})]})})}),e.jsx("div",{className:"lg:hidden space-y-6",children:h==null?void 0:h.comparison.map(P=>e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsxs("div",{className:"px-4 py-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center",children:[P.variant.image_url&&e.jsx("img",{className:"h-12 w-12 rounded-lg object-cover mr-3",src:P.variant.image_url,alt:P.product.canonical_name}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:P.product.canonical_name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[P.variant.brand&&`${P.variant.brand} • `,P.variant.grade&&`${P.variant.grade} • `,P.variant.size]})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",min:"1",step:"1",value:m[P.variant.id]||1,onChange:C=>T(P.variant.id,parseFloat(C.target.value)||1),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("span",{className:"text-sm text-gray-500",children:P.variant.pack_unit||"pcs"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Waste %"}),e.jsx("input",{type:"number",min:"0",max:"100",step:"1",value:y[P.variant.id]||0,onChange:C=>L(P.variant.id,parseFloat(C.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"space-y-3",children:P.shop_prices.map(C=>{const S=(m[P.variant.id]||1)*(1+(y[P.variant.id]||0)/100),z=C.price.price_per_base_unit*S+(x?C.delivery_fee:0);return e.jsxs("div",{className:`p-3 rounded-lg border ${U(P.variant.id,z,C.inventory.in_stock)}`,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-900",children:C.shop.name}),C.shop.verified&&e.jsx(or,{className:"h-4 w-4 text-green-500 ml-1"}),e.jsx("button",{onClick:()=>q(C.shop.id),className:`ml-2 p-1 rounded ${c.includes(C.shop.id)?"text-blue-600 hover:text-blue-700":"text-gray-400 hover:text-gray-600"}`,children:c.includes(C.shop.id)?e.jsx("span",{className:"h-4 w-4",children:"📌"}):e.jsx("span",{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["★ ",C.shop.rating_average.toFixed(1),C.distance_km&&` • ${C.distance_km.toFixed(1)} km`]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[z.toFixed(2)," AED"]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[C.price.price_per_base_unit.toFixed(2)," AED/unit"]})]})]}),e.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[C.inventory.in_stock?e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(or,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"text-sm",children:"In Stock"})]}):e.jsxs("div",{className:"flex items-center text-red-600",children:[e.jsx(G0,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"text-sm",children:"Out of Stock"})]}),C.inventory.lead_time_days>0&&e.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:[C.inventory.lead_time_days," days"]})]}),x&&C.delivery_fee>0&&e.jsxs("span",{className:"text-sm text-gray-500",children:["+",C.delivery_fee.toFixed(2)," delivery"]})]})]},C.shop.id)})})}),e.jsx("div",{className:"px-4 py-3 bg-gray-50 rounded-b-lg",children:e.jsxs("div",{className:"flex space-x-2",children:[a.id&&e.jsxs("button",{onClick:()=>B(P.variant.id),disabled:I.isPending,className:"flex-1 inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:[e.jsx(Nc,{className:"h-4 w-4 mr-2"}),"Add to BOM"]}),e.jsx(Z,{to:`/product/${P.variant.product_id}`,className:"flex-1 inline-flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"View Details"})]})})]},P.variant.id))})]})})]})})},f5=()=>{const{bom_id:t}=ih(),[s]=nt(),r=Je(),n=W(R=>R.authentication_state.auth_token),a=W(R=>R.user_location),[i,l]=u.useState(!1),[o,c]=u.useState(""),[d,m]=u.useState(!1),[f,x]=u.useState(!1),[j,y]=u.useState(!0),b=s.get("template"),w=s.get("duplicate"),g="http://localhost:3000",{data:h,isLoading:p,error:k}=ce({queryKey:["bom",t],queryFn:async()=>{if(!t){const B={title:b?`${b} Project`:"New Project",description:"",project_type:b||null,template:b||null,duplicate_source_id:w||null,is_public:!1};return(await G.post(`${g}/api/boms`,B,{headers:{Authorization:`Bearer ${n}`}})).data}return(await G.get(`${g}/api/boms/${t}`,{headers:{Authorization:`Bearer ${n}`}})).data},enabled:!!n,staleTime:5*60*1e3}),{data:E,isLoading:I}=ce({queryKey:["bom-cost-analysis",h==null?void 0:h.id],queryFn:async()=>{if(!(h!=null&&h.id))return{total_cost:0,item_count:0,shop_breakdown:[],optimization_suggestions:{cheapest_single_shop:null,multi_shop_optimal:[]},missing_items:[]};const R=new URLSearchParams;return a.coordinates&&(R.append("location_lat",a.coordinates.lat.toString()),R.append("location_lng",a.coordinates.lng.toString())),R.append("include_delivery","true"),(await G.get(`${g}/api/boms/${h.id}/cost-analysis?${R}`,{headers:{Authorization:`Bearer ${n}`}})).data},enabled:!!(h!=null&&h.id)&&!!n,staleTime:2*60*1e3}),_=xe({mutationFn:async R=>{if(!(h!=null&&h.id))throw new Error("No BOM selected");return(await G.put(`${g}/api/boms/${h.id}`,R,{headers:{Authorization:`Bearer ${n}`}})).data},onSuccess:()=>{r.invalidateQueries({queryKey:["bom",t]})}}),T=xe({mutationFn:async R=>{if(!(h!=null&&h.id))throw new Error("No BOM selected");await G.delete(`${g}/api/boms/${h.id}/items/${R}`,{headers:{Authorization:`Bearer ${n}`}})},onSuccess:()=>{r.invalidateQueries({queryKey:["bom",t]}),r.invalidateQueries({queryKey:["bom-cost-analysis",h==null?void 0:h.id]})}}),L=xe({mutationFn:async R=>{if(!(h!=null&&h.id))throw new Error("No BOM selected");return(await G.post(`${g}/api/boms/${h.id}/share`,R,{headers:{Authorization:`Bearer ${n}`}})).data},onSuccess:()=>{r.invalidateQueries({queryKey:["bom",t]}),x(!1)}}),q=async()=>{i&&o.trim()&&o!==(h==null?void 0:h.title)&&await _.mutateAsync({title:o.trim()}),l(!1)},D=async R=>{window.confirm("Are you sure you want to remove this item?")&&await T.mutateAsync(R)};return u.useEffect(()=>{h!=null&&h.title&&c(h.title)},[h==null?void 0:h.title]),p?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading BOM..."})]})})}):k?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Bo,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error Loading BOM"}),e.jsx("p",{className:"text-gray-600 mb-4",children:k instanceof Error?k.message:"Failed to load BOM"}),e.jsx(Z,{to:"/bom-library",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Back to BOM Library"})]})})}):h?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[i?e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"text",value:o,onChange:R=>c(R.target.value),onBlur:q,onKeyDown:R=>{R.key==="Enter"&&q(),R.key==="Escape"&&(c(h.title),l(!1))},className:"text-2xl font-bold text-gray-900 bg-transparent border-b-2 border-blue-500 focus:outline-none min-w-0 flex-1",autoFocus:!0}),e.jsx("button",{onClick:q,className:"text-green-600 hover:text-green-700",children:e.jsx(d_,{className:"h-5 w-5"})})]}):e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 truncate",children:h.title}),e.jsx("button",{onClick:()=>l(!0),className:"text-gray-400 hover:text-gray-600",children:e.jsx(kl,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("span",{children:[h.item_count," ",h.item_count===1?"item":"items"]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:E?`${E.total_cost.toFixed(2)} AED`:"Calculating..."}),e.jsx("span",{children:"•"}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${h.status==="draft"?"bg-gray-100 text-gray-800":h.status==="active"?"bg-blue-100 text-blue-800":h.status==="completed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:h.status})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>x(!0),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(ho,{className:"h-4 w-4 mr-2"}),"Share"]}),e.jsxs(Z,{to:`/compare?bom_id=${h.id}`,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(su,{className:"h-4 w-4 mr-2"}),"Compare"]}),e.jsxs(Z,{to:`/trip?bom_id=${h.id}`,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(Qg,{className:"h-4 w-4 mr-2"}),"Plan Trip"]}),e.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(zt,{className:"h-4 w-4 mr-2"}),"Add Item"]})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Materials List"})}),h.items&&h.items.length>0?e.jsx("div",{className:"divide-y divide-gray-200",children:h.items.map(R=>{var B;return e.jsxs("div",{className:"p-6 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:((B=R.product)==null?void 0:B.canonical_name)||"Unknown Product"}),R.variant&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:[R.variant.brand,R.variant.grade,R.variant.size].filter(Boolean).join(" • ")}),e.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("span",{children:["Qty: ",R.quantity," ",R.unit]}),R.waste_factor>0&&e.jsxs("span",{children:["Waste: ",(R.waste_factor*100).toFixed(1),"%"]}),e.jsxs("span",{children:["Total: ",R.total_quantity_needed," ",R.unit]})]}),R.notes&&e.jsx("p",{className:"mt-2 text-sm text-gray-600 italic",children:R.notes})]}),e.jsxs("div",{className:"ml-4 flex items-center space-x-2",children:[e.jsxs("div",{className:"text-right",children:[R.estimated_price_per_unit&&e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[R.estimated_price_per_unit.toFixed(2)," AED/",R.unit]}),R.total_estimated_cost&&e.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[R.total_estimated_cost.toFixed(2)," AED"]})]}),e.jsx("button",{onClick:()=>D(R.id),className:"text-red-400 hover:text-red-600",children:e.jsx(iu,{className:"h-5 w-5"})})]})]}),R.best_prices&&R.best_prices.length>0&&e.jsxs("div",{className:"mt-4 bg-gray-50 rounded-md p-3",children:[e.jsx("h5",{className:"text-xs font-medium text-gray-700 uppercase tracking-wide mb-2",children:"Best Prices"}),e.jsx("div",{className:"space-y-2",children:R.best_prices.slice(0,3).map((Y,U)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-gray-900",children:Y.shop_name}),Y.verified&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:"Verified"})]}),e.jsxs("span",{className:"font-medium text-gray-900",children:[Y.price.toFixed(2)," AED"]})]},U))})]})]},R.id)})}):e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(uo,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No items yet"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding your first material."}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(zt,{className:"h-4 w-4 mr-2"}),"Add First Item"]})})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Cost Analysis"}),e.jsx("button",{onClick:()=>y(!j),className:"text-gray-400 hover:text-gray-600",children:e.jsx(n_,{className:"h-5 w-5"})})]}),I?e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Calculating costs..."})]}):E?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[E.total_cost.toFixed(2)," AED"]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Total estimated cost"})]}),E.shop_breakdown.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Shop Breakdown"}),e.jsx("div",{className:"space-y-2",children:E.shop_breakdown.slice(0,3).map((R,B)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-900",children:R.shop.name}),e.jsxs("span",{className:"text-gray-500 ml-1",children:["(",R.available_items,"/",E.item_count," items)"]})]}),e.jsxs("span",{className:"font-medium",children:[R.total_cost.toFixed(2)," AED"]})]},B))})]}),E.optimization_suggestions.cheapest_single_shop&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-md p-3",children:[e.jsx("h4",{className:"text-sm font-medium text-green-800 mb-1",children:"Cheapest Single Shop"}),e.jsxs("p",{className:"text-sm text-green-700",children:["Save time by buying everything from one shop for"," ",E.optimization_suggestions.cheapest_single_shop.total_cost.toFixed(2)," AED"]})]}),E.missing_items.length>0&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3",children:[e.jsx("h4",{className:"text-sm font-medium text-yellow-800 mb-1",children:"Missing Items"}),e.jsxs("p",{className:"text-sm text-yellow-700",children:[E.missing_items.length," items not available in nearby shops"]})]})]}):e.jsx("p",{className:"text-sm text-gray-500",children:"Cost analysis unavailable"})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(Z,{to:`/rfq?bom_id=${h.id}`,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(nu,{className:"h-4 w-4 mr-2"}),"Request Quotes"]}),e.jsxs("button",{onClick:()=>x(!0),className:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(ho,{className:"h-4 w-4 mr-2"}),"Share BOM"]}),e.jsxs("button",{onClick:()=>{alert("Export functionality coming soon!")},className:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(ZN,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]})]})]})}),d&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add Item to BOM"}),e.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(da,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search for products"}),e.jsxs("div",{className:"relative",children:[e.jsx(Jr,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search for materials...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{children:"Search integration would go here"}),e.jsx("p",{className:"text-sm mt-2",children:"This would connect to the product search API"})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:()=>{m(!1)},className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Add Item"})]})]})]})}),f&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Share BOM"}),e.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(da,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Make public"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Anyone with the link can view this BOM"})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:()=>{L.mutate({is_public:!0})},disabled:L.isPending,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:L.isPending?"Sharing...":"Create Share Link"})]})]})]})})]})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-600",children:"No BOM data available"})})})})},g5=()=>{const t=W(p=>p.authentication_state.current_user),s=W(p=>p.authentication_state.auth_token),r=Je(),n=(p,k,E,I)=>{const T=(E-p)*Math.PI/180,L=(I-k)*Math.PI/180,q=Math.sin(T/2)*Math.sin(T/2)+Math.cos(p*Math.PI/180)*Math.cos(E*Math.PI/180)*Math.sin(L/2)*Math.sin(L/2);return 6371*(2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q)))},{data:a,isLoading:i,error:l}=ce({queryKey:["shop-profile",t==null?void 0:t.id],queryFn:async()=>{if(!(t!=null&&t.id)||!s)throw new Error("Authentication required");const p=await G.get("http://localhost:3000/api/shops",{headers:{Authorization:`Bearer ${s}`},params:{user_id:t.id,limit:1}});if(!p.data.shops||p.data.shops.length===0)throw new Error("No shop found for user");const k=p.data.shops[0].id;return(await G.get(`http://localhost:3000/api/shops/${k}`,{headers:{Authorization:`Bearer ${s}`}})).data},enabled:!!(t!=null&&t.id)&&!!s,staleTime:30*60*1e3,retry:1}),{data:o=[],isLoading:c}=ce({queryKey:["pending-rfqs",a==null?void 0:a.id],queryFn:async()=>{var k;return!a||!s?[]:((k=(await G.get("http://localhost:3000/api/rfqs",{headers:{Authorization:`Bearer ${s}`},params:{status:"pending",limit:10,sort_by:"deadline",sort_order:"asc"}})).data.rfqs)==null?void 0:k.filter(E=>!E.delivery_location_lat||!E.delivery_location_lng||!a.delivery_radius?!0:n(E.delivery_location_lat,E.delivery_location_lng,a.location_lat,a.location_lng)<=a.delivery_radius))||[]},enabled:!!(a!=null&&a.id)&&!!s,staleTime:5*60*1e3,retry:1}),{data:d=[],isLoading:m}=ce({queryKey:["inventory-alerts",a==null?void 0:a.id],queryFn:async()=>{var k;return!a||!s?[]:((k=(await G.get("http://localhost:3000/api/inventory",{headers:{Authorization:`Bearer ${s}`},params:{shop_id:a.id,low_stock_only:!0,limit:20}})).data.inventory)==null?void 0:k.map(E=>{var I,_;return{variant_id:E.variant_id,product_name:((_=(I=E.variant)==null?void 0:I.product)==null?void 0:_.canonical_name)||"Unknown Product",current_stock:E.stock_quantity||0,low_stock_threshold:E.low_stock_threshold||0,alert_type:E.stock_quantity===0?"out_of_stock":"low_stock",severity:E.stock_quantity===0?"critical":"warning"}}))||[]},enabled:!!(a!=null&&a.id)&&!!s,staleTime:5*60*1e3,retry:1}),{data:f=[],isLoading:x}=ce({queryKey:["customer-messages",o],queryFn:async()=>{if(!o.length||!s)return[];const p=o.slice(0,5).map(async E=>{var I;try{return((I=(await G.get(`http://localhost:3000/api/rfqs/${E.id}/messages`,{headers:{Authorization:`Bearer ${s}`},params:{limit:50,offset:0}})).data.messages)==null?void 0:I.filter(T=>!T.read_at&&T.sender_id!==(t==null?void 0:t.id)).map(T=>{var L;return{message_id:T.id,rfq_id:T.rfq_id,customer_name:((L=T.sender)==null?void 0:L.name)||"Unknown Customer",message_preview:T.message.substring(0,100),created_at:T.created_at,is_urgent:E.priority==="urgent"||E.priority==="high"}}))||[]}catch(_){return console.warn(`Failed to fetch messages for RFQ ${E.id}:`,_),[]}});return(await Promise.all(p)).flat()},enabled:!!o.length&&!!s,staleTime:2*60*1e3,retry:1}),j={revenue:{monthly:35890.25},customers:{new_count:15,repeat_count:45},sales:{total_orders:128,conversion_rate:.68}},y=()=>{r.invalidateQueries({queryKey:["shop-profile"]}),r.invalidateQueries({queryKey:["pending-rfqs"]}),r.invalidateQueries({queryKey:["inventory-alerts"]}),r.invalidateQueries({queryKey:["customer-messages"]})},b=p=>new Intl.NumberFormat("en-AE",{style:"currency",currency:"AED",minimumFractionDigits:2}).format(p),w=p=>new Date(p).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),g=p=>{switch(p){case"urgent":return"text-red-600 bg-red-100";case"high":return"text-orange-600 bg-orange-100";case"medium":return"text-yellow-600 bg-yellow-100";case"low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},h=p=>{switch(p){case"critical":return"text-red-600 bg-red-100 border-red-200";case"warning":return"text-yellow-600 bg-yellow-100 border-yellow-200";default:return"text-gray-600 bg-gray-100 border-gray-200"}};return i?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(xn,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading shop dashboard..."})]})})}):l||!a?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Uw,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Shop Not Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Unable to load shop information. Please ensure you have a shop profile."}),e.jsx(Z,{to:"/shop/settings",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Shop Profile"})]})})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Shop Dashboard"}),e.jsxs("p",{className:"mt-1 text-gray-600",children:["Welcome back, ",a.name,a.verified&&e.jsx(ss,{className:"inline-block h-5 w-5 text-green-500 ml-2"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:y,className:"flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(xn,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(Z,{to:"/shop/settings",className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(fi,{className:"h-4 w-4 mr-2"}),"Settings"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Monthly Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b(j.revenue.monthly)}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx(Bt,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-sm text-green-600",children:"+12.5% from last month"})]})]}),e.jsx(so,{className:"h-12 w-12 text-blue-600 bg-blue-100 p-3 rounded-full"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.sales.total_orders}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx(Bt,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-sm text-green-600",children:"+8.2% this month"})]})]}),e.jsx(na,{className:"h-12 w-12 text-green-600 bg-green-100 p-3 rounded-full"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Customers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.customers.new_count+j.customers.repeat_count}),e.jsx("div",{className:"flex items-center mt-2",children:e.jsxs("span",{className:"text-sm text-gray-600",children:[j.customers.new_count," new, ",j.customers.repeat_count," returning"]})})]}),e.jsx(Ti,{className:"h-12 w-12 text-purple-600 bg-purple-100 p-3 rounded-full"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Conversion Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(j.sales.conversion_rate*100).toFixed(1),"%"]}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx(Bt,{className:"h-4 w-4 text-green-500 mr-1"}),e.jsx("span",{className:"text-sm text-green-600",children:"Above average"})]})]}),e.jsx(Bt,{className:"h-12 w-12 text-orange-600 bg-orange-100 p-3 rounded-full"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Pending RFQs"}),e.jsxs(Z,{to:"/rfq",className:"flex items-center text-blue-600 hover:text-blue-700 text-sm font-medium",children:["View All",e.jsx(ft,{className:"h-4 w-4 ml-1"})]})]})}),e.jsx("div",{className:"p-6",children:c?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(xn,{className:"h-6 w-6 animate-spin text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"Loading RFQs..."})]}):o.length>0?e.jsx("div",{className:"space-y-4",children:o.slice(0,5).map(p=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:p.title}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:p.delivery_address||"No delivery address specified"}),e.jsxs("div",{className:"flex items-center mt-2 space-x-4",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${g(p.priority)}`,children:p.priority}),p.deadline&&e.jsxs("span",{className:"flex items-center text-xs text-gray-500",children:[e.jsx(sa,{className:"h-3 w-3 mr-1"}),"Due ",w(p.deadline)]})]})]}),e.jsx(Z,{to:`/rfq?rfq_id=${p.id}`,className:"ml-4 px-3 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:"Respond"})]},p.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(_l,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No pending RFQs"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Inventory Alerts"}),e.jsxs(Z,{to:"/shop/inventory?low_stock=true",className:"flex items-center text-blue-600 hover:text-blue-700 text-sm font-medium",children:["Manage Inventory",e.jsx(ft,{className:"h-4 w-4 ml-1"})]})]})}),e.jsx("div",{className:"p-6",children:m?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(xn,{className:"h-6 w-6 animate-spin text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"Loading alerts..."})]}):d.length>0?e.jsx("div",{className:"space-y-3",children:d.slice(0,8).map(p=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${h(p.severity)}`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(cn,{className:"h-5 w-5 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:p.product_name}),e.jsxs("p",{className:"text-sm opacity-75",children:["Stock: ",p.current_stock," / Threshold: ",p.low_stock_threshold]})]})]}),e.jsx("span",{className:"text-xs font-medium uppercase tracking-wider",children:p.alert_type.replace("_"," ")})]},p.variant_id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(vr,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No inventory alerts"})]})})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Messages"})}),e.jsx("div",{className:"p-6",children:x?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(xn,{className:"h-6 w-6 animate-spin text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"Loading messages..."})]}):f.length>0?e.jsx("div",{className:"space-y-4",children:f.slice(0,5).map(p=>e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:p.customer_name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:p.message_preview}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:w(p.created_at)})]}),p.is_urgent&&e.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-1 bg-red-100 text-red-600 text-xs font-medium rounded-full",children:"Urgent"})]})},p.message_id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(_l,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No recent messages"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Quick Actions"})}),e.jsxs("div",{className:"p-6 space-y-3",children:[e.jsxs(Z,{to:"/shop/inventory",className:"flex items-center w-full p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(vr,{className:"h-5 w-5 text-gray-600 mr-3"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Manage Inventory"}),e.jsx(ft,{className:"h-4 w-4 text-gray-400 ml-auto"})]}),e.jsxs(Z,{to:"/rfq",className:"flex items-center w-full p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(_l,{className:"h-5 w-5 text-gray-600 mr-3"}),e.jsx("span",{className:"font-medium text-gray-900",children:"View All RFQs"}),e.jsx(ft,{className:"h-4 w-4 text-gray-400 ml-auto"})]}),e.jsxs(Z,{to:"/shop/analytics",className:"flex items-center w-full p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(Bt,{className:"h-5 w-5 text-gray-600 mr-3"}),e.jsx("span",{className:"font-medium text-gray-900",children:"View Analytics"}),e.jsx(ft,{className:"h-4 w-4 text-gray-400 ml-auto"})]}),e.jsxs(Z,{to:"/shop/settings",className:"flex items-center w-full p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx(fi,{className:"h-5 w-5 text-gray-600 mr-3"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Shop Settings"}),e.jsx(ft,{className:"h-4 w-4 text-gray-400 ml-auto"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Shop Status"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Verification Status"}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.verified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:a.verified?"Verified":"Pending"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Rating"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[a.rating_average.toFixed(1),"/5.0 (",a.rating_count," reviews)"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Response Time"}),e.jsx("span",{className:"font-medium text-gray-900",children:a.response_time_hours?`${a.response_time_hours}h`:"N/A"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Stock Accuracy"}),e.jsxs("span",{className:"font-medium text-gray-900",children:[a.stock_accuracy_score,"%"]})]})]})]})]})]})]})})})},y5=()=>{const[t,s]=nt(),r=W($=>$.authentication_state.current_user),n=W($=>$.authentication_state.auth_token),[a,i]=u.useState(t.get("search")||""),[l,o]=u.useState(t.get("category")||""),[c,d]=u.useState(t.get("low_stock")==="true"),[m,f]=u.useState([]),[x,j]=u.useState(!1),[y,b]=u.useState(null),[w,g]=u.useState(null),[h,p]=u.useState(""),[k,E]=u.useState(""),I=Je(),_=(r==null?void 0:r.id)||"";u.useEffect(()=>{const $=new URLSearchParams;a&&$.set("search",a),l&&$.set("category",l),c&&$.set("low_stock","true"),s($)},[a,l,c,s]),u.useEffect(()=>{const $=setTimeout(()=>{I.invalidateQueries({queryKey:["shop-inventory",_]})},300);return()=>clearTimeout($)},[a,I,_]);const{data:T,isLoading:L,error:q,refetch:D}=ce({queryKey:["shop-inventory",_,l,c,a],queryFn:async()=>{const $=new URLSearchParams({shop_id:_,limit:"100",sort_by:"updated_at",sort_order:"desc"});return a&&$.append("search",a),l&&$.append("category",l),c&&$.append("low_stock_only","true"),(await G.get(`http://localhost:3000/api/inventory?${$}`,{headers:{Authorization:`Bearer ${n}`}})).data},enabled:!!_&&!!n,staleTime:5*60*1e3}),{data:R,isLoading:B}=ce({queryKey:["price-competition",_],queryFn:async()=>{var fe,ve;if(!(T!=null&&T.inventory.length))return{comparison:[]};const $=T.inventory.map(Nt=>Nt.variant_id).join(","),K=new URLSearchParams({variant_ids:$,location_lat:((fe=r==null?void 0:r.location_lat)==null?void 0:fe.toString())||"25.2048",location_lng:((ve=r==null?void 0:r.location_lng)==null?void 0:ve.toString())||"55.2708"});return(await G.get(`http://localhost:3000/api/prices/compare?${K}`,{headers:{Authorization:`Bearer ${n}`}})).data},enabled:!!_&&!!n&&!!(T!=null&&T.inventory.length)&&x,staleTime:15*60*1e3}),Y=xe({mutationFn:async({variantId:$,data:K})=>(await G.put(`http://localhost:3000/api/inventory/${_}/${$}`,K,{headers:{Authorization:`Bearer ${n}`}})).data,onSuccess:()=>{I.invalidateQueries({queryKey:["shop-inventory",_]}),g(null),E("")}}),U=xe({mutationFn:async({priceId:$,data:K})=>(await G.put(`http://localhost:3000/api/prices/${$}`,K,{headers:{Authorization:`Bearer ${n}`}})).data,onSuccess:()=>{I.invalidateQueries({queryKey:["shop-inventory",_]}),I.invalidateQueries({queryKey:["price-competition",_]}),b(null),p("")}}),P=xe({mutationFn:async $=>{await G.delete(`http://localhost:3000/api/inventory/${_}/${$}`,{headers:{Authorization:`Bearer ${n}`}})},onSuccess:()=>{I.invalidateQueries({queryKey:["shop-inventory",_]}),f($=>$.filter(K=>!$.includes(K)))}}),C=u.useMemo(()=>T!=null&&T.inventory?T.inventory.map($=>({...$,product_catalog:$.variant,inventory_status:{shop_id:$.shop_id,variant_id:$.variant_id,in_stock:$.in_stock,stock_quantity:$.stock_quantity,low_stock_threshold:$.low_stock_threshold,lead_time_days:$.lead_time_days,minimum_order_quantity:$.minimum_order_quantity,maximum_order_quantity:$.maximum_order_quantity,updated_at:$.updated_at},pricing_data:$.price})):[],[T]),S=u.useMemo(()=>{if(!(R!=null&&R.comparison))return new Map;const $=new Map;return R.comparison.forEach(K=>{$.set(K.variant_id,K)}),$},[R]),z=u.useCallback($=>{f(K=>K.includes($)?K.filter(ie=>ie!==$):[...K,$])},[]),O=u.useCallback(()=>{const $=C.map(K=>K.variant_id);f(K=>K.length===$.length?[]:$)},[C]),N=u.useCallback(($,K,ie)=>{Y.mutate({variantId:$,data:{stock_quantity:K,in_stock:ie}})},[Y]),A=u.useCallback(($,K,ie)=>{U.mutate({priceId:$,data:{price:K,price_per_base_unit:K/ie}})},[U]),M=u.useCallback($=>{window.confirm("Are you sure you want to remove this item from your inventory?")&&P.mutate($)},[P]),Q=u.useCallback(()=>{m.length!==0&&window.confirm(`Are you sure you want to remove ${m.length} items from your inventory?`)&&m.forEach($=>{P.mutate($)})},[m,P]),v=u.useMemo(()=>{const $=C.length,K=C.filter(ve=>ve.in_stock).length,ie=C.filter(ve=>ve.stock_quantity!==null&&ve.low_stock_threshold!==null&&ve.stock_quantity<=ve.low_stock_threshold).length,fe=C.filter(ve=>!ve.in_stock).length;return{totalItems:$,inStockItems:K,lowStockItems:ie,outOfStockItems:fe}},[C]);return L?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):q?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(cn,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error Loading Inventory"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Failed to load your inventory data."}),e.jsx("button",{onClick:()=>D(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Inventory Manager"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your product catalog, stock levels, and pricing"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>j(!x),className:`flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-colors ${x?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(eo,{className:"h-4 w-4 mr-2"}),"Competition Analysis"]}),e.jsxs("button",{className:"flex items-center bg-gray-100 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors",children:[e.jsx(dN,{className:"h-4 w-4 mr-2"}),"Import CSV"]}),e.jsxs("button",{className:"flex items-center bg-gray-100 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors",children:[e.jsx($o,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(Z,{to:"/shop/inventory/add",className:"flex items-center bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:[e.jsx(ps,{className:"h-4 w-4 mr-2"}),"Add Product"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(vr,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Products"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.totalItems})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Fg,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"In Stock"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.inStockItems})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(cn,{className:"h-8 w-8 text-yellow-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Low Stock"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.lowStockItems})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ct,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Out of Stock"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.outOfStockItems})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[e.jsx("div",{className:"flex-1 max-w-lg",children:e.jsxs("div",{className:"relative",children:[e.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search products by name, SKU, or barcode...",value:a,onChange:$=>i($.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),e.jsxs("div",{className:"flex items-center space-x-4 mt-4 md:mt-0",children:[e.jsxs("select",{value:l,onChange:$=>o($.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Categories"}),e.jsx("option",{value:"cement",children:"Cement"}),e.jsx("option",{value:"steel",children:"Steel"}),e.jsx("option",{value:"concrete",children:"Concrete"}),e.jsx("option",{value:"tools",children:"Tools"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:c,onChange:$=>d($.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Low Stock Only"})]}),e.jsxs("button",{onClick:()=>D(),className:"flex items-center text-gray-600 hover:text-gray-900",children:[e.jsx(xn,{className:"h-4 w-4 mr-1"}),"Refresh"]})]})]})}),m.length>0&&e.jsx("div",{className:"px-6 py-3 bg-blue-50 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-blue-700",children:[m.length," item",m.length!==1?"s":""," selected"]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:Q,className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Delete Selected"}),e.jsx("button",{onClick:()=>f([]),className:"text-gray-600 hover:text-gray-700 text-sm font-medium",children:"Clear Selection"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:m.length===C.length&&C.length>0,onChange:O,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),x&&e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Competition"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map($=>{const K=$.product_catalog,ie=$.inventory_status,fe=$.pricing_data,ve=S.get(K.id),Nt=m.includes(K.id),H=ie.stock_quantity!==null&&ie.low_stock_threshold!==null&&ie.stock_quantity<=ie.low_stock_threshold;return e.jsxs("tr",{className:Nt?"bg-blue-50":"",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:Nt,onChange:()=>z(K.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-12 w-12 bg-gray-200 rounded-lg mr-4 flex items-center justify-center",children:K.image_url?e.jsx("img",{src:K.image_url,alt:K.brand||"Product",className:"h-12 w-12 rounded-lg object-cover"}):e.jsx(vr,{className:"h-6 w-6 text-gray-400"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[K.brand," ",K.grade," ",K.size]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["SKU: ",K.sku||"N/A"]}),K.pack_quantity&&e.jsxs("div",{className:"text-xs text-gray-400",children:[K.pack_quantity," ",K.pack_unit]})]})]})}),e.jsxs("td",{className:"px-6 py-4",children:[w===K.id?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",value:k,onChange:le=>E(le.target.value),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm",autoFocus:!0}),e.jsx("button",{onClick:()=>{const le=parseInt(k);isNaN(le)||N(K.id,le,le>0)},className:"text-green-600 hover:text-green-700",children:e.jsx(to,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>{g(null),E("")},className:"text-gray-400 hover:text-gray-600",children:e.jsx(ct,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`text-sm ${H?"text-red-600":"text-gray-900"}`,children:ie.stock_quantity||0}),e.jsx("button",{onClick:()=>{g(K.id),E((ie.stock_quantity||0).toString())},className:"text-gray-400 hover:text-gray-600",children:e.jsx(no,{className:"h-3 w-3"})})]}),H&&e.jsx("div",{className:"text-xs text-red-500 mt-1",children:"Low Stock"})]}),e.jsx("td",{className:"px-6 py-4",children:fe?y===fe.id?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",step:"0.01",value:h,onChange:le=>p(le.target.value),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm",autoFocus:!0}),e.jsx("button",{onClick:()=>{const le=parseFloat(h);isNaN(le)||A(fe.id,le,K.unit_to_base_factor)},className:"text-green-600 hover:text-green-700",children:e.jsx(to,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>{b(null),p("")},className:"text-gray-400 hover:text-gray-600",children:e.jsx(ct,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-900",children:[fe.currency," ",fe.price.toFixed(2)]}),e.jsx("button",{onClick:()=>{b(fe.id),p(fe.price.toString())},className:"text-gray-400 hover:text-gray-600",children:e.jsx(no,{className:"h-3 w-3"})})]}):e.jsx("span",{className:"text-sm text-gray-500",children:"No price set"})}),x&&e.jsx("td",{className:"px-6 py-4",children:ve?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${ve.price_ranking<=2?"bg-green-100 text-green-800":ve.price_ranking<=4?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:["Rank #",ve.price_ranking]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Suggested: ",fe==null?void 0:fe.currency," ",ve.suggested_price.toFixed(2)]})]}):B?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-600 rounded-full"}):e.jsx("span",{className:"text-xs text-gray-400",children:"No data"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ie.in_stock?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:ie.in_stock?"In Stock":"Out of Stock"})}),e.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>{},className:"text-blue-600 hover:text-blue-700",children:e.jsx(on,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>{},className:"text-gray-600 hover:text-gray-700",children:e.jsx(fi,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>M(K.id),className:"text-red-600 hover:text-red-700",children:e.jsx(Nh,{className:"h-4 w-4"})})]})})]},K.id)})})]})}),C.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(vr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:a||l||c?"Try adjusting your search filters.":"Start by adding products to your inventory."}),e.jsxs(Z,{to:"/shop/inventory/add",className:"inline-flex items-center bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:[e.jsx(ps,{className:"h-4 w-4 mr-2"}),"Add First Product"]})]})]})]})]})})},b5=()=>{var N,A;const[t,s]=nt(),r=Je(),n=u.useRef(null),a=W(M=>M.authentication_state.current_user),i=W(M=>M.authentication_state.auth_token),[l,o]=u.useState(null),[c,d]=u.useState(""),[m,f]=u.useState(!1),[x,j]=u.useState({total_price:0,delivery_fee:0,delivery_days:0,notes:"",terms_conditions:"",valid_until:null,line_items:[]}),[y,b]=u.useState(!1),w=t.get("status")||"",g=t.get("priority")||"",h=t.get("shop_id")||"",p="http://localhost:3000",{data:k,isLoading:E,error:I}=ce({queryKey:["rfqs",w,g,h,a==null?void 0:a.id],queryFn:async()=>{if(!i||!a)throw new Error("Authentication required");const M=new URLSearchParams;w&&M.append("status",w),g&&M.append("priority",g),h&&M.append("shop_id",h),M.append("limit","50"),M.append("sort_by","created_at"),M.append("sort_order","desc");let v=(await G.get(`${p}/api/rfqs?${M.toString()}`,{headers:{Authorization:`Bearer ${i}`}})).data.rfqs;return a.user_type==="buyer"?v=v.filter($=>$.user_id===a.id):a.user_type,{rfqs:v,total:v.length}},enabled:!!i&&!!a,staleTime:3e4,refetchOnWindowFocus:!1}),{data:_,isLoading:T}=ce({queryKey:["rfq-detail",l],queryFn:async()=>{if(!i||!l)throw new Error("Authentication and RFQ ID required");return(await G.get(`${p}/api/rfqs/${l}`,{headers:{Authorization:`Bearer ${i}`}})).data},enabled:!!i&&!!l,staleTime:1e4}),{data:L,isLoading:q}=ce({queryKey:["rfq-messages",l],queryFn:async()=>{if(!i||!l)throw new Error("Authentication and RFQ ID required");return(await G.get(`${p}/api/rfqs/${l}/messages?limit=100&offset=0`,{headers:{Authorization:`Bearer ${i}`}})).data.messages.map(Q=>({...Q,sender_name:Q.sender.name,is_from_current_user:(Q==null?void 0:Q.sender_id)===(a==null?void 0:a.id)}))},enabled:!!i&&!!l,refetchInterval:5e3}),{data:D}=ce({queryKey:["shop-inventory",l,a==null?void 0:a.id],queryFn:async()=>{var $;if(!i||!l||(a==null?void 0:a.user_type)!=="seller")return{};if(!(($=_==null?void 0:_.bom)!=null&&$.items))return{};const M=_.bom.items.map(K=>K.variant_id),Q=new URLSearchParams;return Q.append("shop_id",a.id),M.forEach(K=>Q.append("variant_id",K)),(await G.get(`${p}/api/inventory?${Q.toString()}`,{headers:{Authorization:`Bearer ${i}`}})).data.inventory.reduce((K,ie)=>{var fe;return{...K,[ie.variant_id]:{in_stock:ie.in_stock,available_quantity:ie.stock_quantity,lead_time_days:ie.lead_time_days,unit_price:((fe=ie.price)==null?void 0:fe.price)||0}}},{})},enabled:!!i&&!!l&&!!_&&(a==null?void 0:a.user_type)==="seller"}),R=xe({mutationFn:async({rfqId:M,message:Q,messageType:v="text",attachments:$=[]})=>{if(!i)throw new Error("Authentication required");return(await G.post(`${p}/api/rfqs/${M}/messages`,{message:Q,message_type:v,attachments:$},{headers:{Authorization:`Bearer ${i}`}})).data},onSuccess:()=>{r.invalidateQueries({queryKey:["rfq-messages",l]}),d("")}}),B=xe({mutationFn:async M=>{if(!i||!l)throw new Error("Authentication and RFQ ID required");return(await G.post(`${p}/api/rfqs/${l}/replies`,M,{headers:{Authorization:`Bearer ${i}`}})).data},onSuccess:()=>{r.invalidateQueries({queryKey:["rfq-detail",l]}),r.invalidateQueries({queryKey:["rfqs"]}),f(!1),j({total_price:0,delivery_fee:0,delivery_days:0,notes:"",terms_conditions:"",valid_until:null,line_items:[]})}});u.useEffect(()=>{var M;if((M=_==null?void 0:_.bom)!=null&&M.items&&(a==null?void 0:a.user_type)==="seller"&&m){const Q=_.bom.items.map(v=>{var $;return{variant_id:v.variant_id,quantity:v.quantity,unit_price:(($=D==null?void 0:D[v.variant_id])==null?void 0:$.unit_price)||0,total_price:0,notes:null}});j(v=>({...v,line_items:Q}))}},[_,D,m,a==null?void 0:a.user_type]),u.useEffect(()=>{if(x.line_items.length>0){const M=x.line_items.reduce((Q,v)=>{const $=v.quantity*v.unit_price;return Q+$},0);j(Q=>({...Q,total_price:M+Q.delivery_fee,line_items:Q.line_items.map(v=>({...v,total_price:v.quantity*v.unit_price}))}))}},[x.line_items,x.delivery_fee]),u.useEffect(()=>{var M;(M=n.current)==null||M.scrollIntoView({behavior:"smooth"})},[L]);const Y=M=>{o(M),b(!0),f(!1)},U=M=>{M.preventDefault(),!(!c.trim()||!l)&&R.mutate({rfqId:l,message:c.trim()})},P=()=>{!l||x.line_items.length===0||B.mutate(x)},C=M=>new Intl.NumberFormat("en-AE",{style:"currency",currency:"AED"}).format(M),S=M=>new Date(M).toLocaleDateString("en-AE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),z=M=>{switch(M){case"urgent":return"text-red-600 bg-red-100";case"high":return"text-orange-600 bg-orange-100";case"medium":return"text-yellow-600 bg-yellow-100";case"low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},O=M=>{switch(M){case"pending":return"text-blue-600 bg-blue-100";case"active":return"text-green-600 bg-green-100";case"closed":return"text-gray-600 bg-gray-100";case"cancelled":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return a?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[e.jsx("div",{className:"md:hidden fixed top-4 left-4 z-10",children:y&&e.jsx("button",{onClick:()=>b(!1),className:"bg-white rounded-full p-2 shadow-lg hover:bg-gray-50 transition-colors",children:e.jsx(Tg,{className:"w-5 h-5 text-gray-600"})})}),e.jsxs("div",{className:`${y?"hidden":"block"} md:block w-full md:w-1/3 lg:w-1/4 bg-white border-r border-gray-200 flex flex-col`,children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:a.user_type==="buyer"?"My Requests":"Quote Requests"}),e.jsx(Zs,{className:"w-6 h-6 text-blue-600"})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:w,onChange:M=>{const Q=new URLSearchParams(t);M.target.value?Q.set("status",M.target.value):Q.delete("status"),s(Q)},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"closed",children:"Closed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]}),e.jsxs("select",{value:g,onChange:M=>{const Q=new URLSearchParams(t);M.target.value?Q.set("priority",M.target.value):Q.delete("priority"),s(Q)},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Priority"}),e.jsx("option",{value:"urgent",children:"Urgent"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"})]})]})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:E?e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(M=>e.jsx("div",{className:"bg-gray-200 h-24 rounded-lg"},M))})}):I?e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(cn,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),e.jsx("p",{className:"text-red-600 font-medium",children:"Failed to load RFQs"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Please try again later"})]}):(N=k==null?void 0:k.rfqs)!=null&&N.length?e.jsx("div",{className:"divide-y divide-gray-200",children:k.rfqs.map(M=>e.jsxs("div",{onClick:()=>Y(M.id),className:`p-4 cursor-pointer hover:bg-gray-50 transition-colors ${l===M.id?"bg-blue-50 border-r-2 border-blue-500":""}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-medium text-gray-900 truncate flex-1 mr-2",children:M.title}),e.jsx("div",{className:"flex items-center space-x-1",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${z(M.priority)}`,children:M.priority})})]}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${O(M.status)}`,children:M.status}),e.jsxs("span",{className:"text-xs text-gray-500",children:[M.responses_count," response",M.responses_count!==1?"s":""]})]}),M.bom&&e.jsxs("div",{className:"flex items-center text-xs text-gray-500 mb-2",children:[e.jsx(N0,{className:"w-3 h-3 mr-1"}),M.bom.title," (",M.bom.item_count," items)"]}),M.deadline&&e.jsxs("div",{className:"flex items-center text-xs text-gray-500 mb-2",children:[e.jsx(sa,{className:"w-3 h-3 mr-1"}),"Due: ",S(M.deadline)]}),M.budget_limit&&e.jsxs("div",{className:"flex items-center text-xs text-gray-500 mb-2",children:[e.jsx(so,{className:"w-3 h-3 mr-1"}),"Budget: ",C(M.budget_limit)]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-400",children:S(M.created_at)}),e.jsx(vh,{className:"w-4 h-4 text-gray-400"})]})]},M.id))}):e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(Zs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No RFQs found"}),e.jsx("p",{className:"text-gray-500 text-sm",children:a.user_type==="buyer"?"You haven't sent any quote requests yet.":"No quote requests match your current filters."})]})})]}),e.jsx("div",{className:`${y?"block":"hidden"} md:block flex-1 flex flex-col bg-white`,children:l?T?e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):_?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:_.title}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${O(_.status)}`,children:_.status}),e.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${z(_.priority)}`,children:[_.priority," priority"]}),e.jsxs("span",{children:["Created ",S(_.created_at)]})]})]}),a.user_type==="seller"&&_.status==="pending"&&e.jsx("button",{onClick:()=>f(!m),className:`px-4 py-2 rounded-lg font-medium transition-colors ${m?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-blue-600 text-white hover:bg-blue-700"}`,children:m?e.jsxs(e.Fragment,{children:[e.jsx(ct,{className:"w-4 h-4 inline mr-2"}),"Cancel Quote"]}):e.jsxs(e.Fragment,{children:[e.jsx(Kd,{className:"w-4 h-4 inline mr-2"}),"Prepare Quote"]})})]}),_.description&&e.jsx("p",{className:"text-gray-600 mb-4",children:_.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[_.deadline&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(bh,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsxs("span",{children:["Deadline: ",S(_.deadline)]})]}),_.budget_limit&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(so,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsxs("span",{children:["Budget: ",C(_.budget_limit)]})]}),_.delivery_address&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Et,{className:"w-4 h-4 text-gray-400 mr-2"}),e.jsx("span",{className:"truncate",children:_.delivery_address})]})]}),_.special_requirements&&e.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-yellow-800 mb-1",children:"Special Requirements:"}),e.jsx("p",{className:"text-yellow-700 text-sm",children:_.special_requirements})]})]}),m&&a.user_type==="seller"&&e.jsxs("div",{className:"p-6 bg-blue-50 border-b border-blue-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:[e.jsx(Kd,{className:"w-5 h-5 inline mr-2"}),"Prepare Quote"]}),((A=_.bom)==null?void 0:A.items)&&e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("h4",{className:"font-medium text-blue-800",children:"Items Required:"}),e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-6 gap-4 p-3 bg-gray-50 text-sm font-medium text-gray-700",children:[e.jsx("div",{className:"col-span-2",children:"Product"}),e.jsx("div",{children:"Quantity"}),e.jsx("div",{children:"Unit Price"}),e.jsx("div",{children:"Total"}),e.jsx("div",{children:"Stock"})]}),_.bom.items.map(M=>{const Q=x.line_items.find($=>$.variant_id===M.variant_id),v=D==null?void 0:D[M.variant_id];return e.jsxs("div",{className:"grid grid-cols-6 gap-4 p-3 border-t border-gray-200",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("div",{className:"font-medium text-gray-900",children:M.product.canonical_name}),e.jsxs("div",{className:"text-sm text-gray-500",children:[M.variant.brand," ",M.variant.grade," ",M.variant.size]})]}),e.jsxs("div",{className:"text-sm",children:[M.quantity," ",M.unit]}),e.jsx("div",{children:e.jsx("input",{type:"number",step:"0.01",value:(Q==null?void 0:Q.unit_price)||0,onChange:$=>{const K=parseFloat($.target.value)||0;j(ie=>({...ie,line_items:ie.line_items.map(fe=>fe.variant_id===M.variant_id?{...fe,unit_price:K}:fe)}))},className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"0.00"})}),e.jsx("div",{className:"font-medium",children:C((Q==null?void 0:Q.total_price)||0)}),e.jsx("div",{children:v?e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${v.in_stock?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.in_stock?"In Stock":"Out of Stock"}):e.jsx("span",{className:"text-xs text-gray-400",children:"Checking..."})})]},M.id)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-blue-800 mb-1",children:"Delivery Fee"}),e.jsx("input",{type:"number",step:"0.01",value:x.delivery_fee,onChange:M=>j(Q=>({...Q,delivery_fee:parseFloat(M.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-blue-800 mb-1",children:"Delivery Days"}),e.jsx("input",{type:"number",value:x.delivery_days,onChange:M=>j(Q=>({...Q,delivery_days:parseInt(M.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-blue-800 mb-1",children:"Notes"}),e.jsx("textarea",{value:x.notes,onChange:M=>j(Q=>({...Q,notes:M.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Additional notes..."})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"text-lg font-semibold text-blue-900",children:["Total Quote: ",C(x.total_price)]}),e.jsxs("div",{className:"text-sm text-blue-700 mt-1",children:["Items: ",C(x.total_price-x.delivery_fee)," + Delivery: ",C(x.delivery_fee)]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:P,disabled:B.isPending||x.line_items.length===0,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:B.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white inline mr-2"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(_0,{className:"w-4 h-4 inline mr-2"}),"Submit Quote"]})})]})]}),_.bom&&!m&&e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:[e.jsx(N0,{className:"w-5 h-5 inline mr-2"}),"Bill of Materials: ",_.bom.title]}),_.bom.items&&e.jsxs("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-3 bg-gray-100 text-sm font-medium text-gray-700",children:[e.jsx("div",{className:"col-span-2",children:"Product"}),e.jsx("div",{children:"Quantity"}),e.jsx("div",{children:"Notes"})]}),_.bom.items.map(M=>e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-3 border-t border-gray-200",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("div",{className:"font-medium text-gray-900",children:M.product.canonical_name}),e.jsxs("div",{className:"text-sm text-gray-500",children:[M.variant.brand," ",M.variant.grade," ",M.variant.size]})]}),e.jsxs("div",{className:"text-sm",children:[M.quantity," ",M.unit,M.waste_factor>0&&e.jsxs("div",{className:"text-xs text-gray-400",children:["+",M.waste_factor,"% waste"]})]}),e.jsx("div",{className:"text-sm text-gray-600",children:M.notes||"-"})]},M.id))]})]}),_.replies&&_.replies.length>0&&e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:[e.jsx(Og,{className:"w-5 h-5 inline mr-2"}),"Quotes Received (",_.replies.length,")"]}),e.jsx("div",{className:"space-y-4",children:_.replies.map(M=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900 flex items-center",children:[M.shop.name,M.shop.verified&&e.jsx(Fg,{className:"w-4 h-4 text-green-500 ml-2"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[e.jsx(Es,{className:"w-3 h-3 text-yellow-400 mr-1"}),M.shop.rating_average.toFixed(1),e.jsx("span",{className:"mx-2",children:"•"}),S(M.created_at)]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xl font-bold text-gray-900",children:C(M.total_price)}),e.jsxs("div",{className:"text-sm text-gray-500",children:[M.delivery_days," day delivery"]})]})]}),M.notes&&e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:M.notes}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-gray-500",children:[e.jsx(cN,{className:"w-4 h-4 inline mr-1"}),"Delivery: ",C(M.delivery_fee)]}),M.valid_until&&e.jsxs("span",{className:"text-gray-500",children:[e.jsx(sa,{className:"w-4 h-4 inline mr-1"}),"Valid until: ",S(M.valid_until)]})]}),a.user_type==="buyer"&&M.status==="pending"&&e.jsxs("div",{className:"space-x-2",children:[e.jsx("button",{className:"px-3 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:"Accept"}),e.jsx("button",{className:"px-3 py-1 text-xs border border-gray-300 text-gray-700 rounded hover:bg-gray-50 transition-colors",children:"Negotiate"})]})]})]},M.id))})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[e.jsx(Zs,{className:"w-5 h-5 inline mr-2"}),"Messages"]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[q?e.jsx("div",{className:"text-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"})}):L!=null&&L.length?L.map(M=>e.jsx("div",{className:`flex ${(M==null?void 0:M.sender_id)===(a==null?void 0:a.id)?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${(M==null?void 0:M.sender_id)===(a==null?void 0:a.id)?"bg-blue-600 text-white":"bg-gray-200 text-gray-900"}`,children:[(M==null?void 0:M.sender_id)!==(a==null?void 0:a.id)&&e.jsxs("div",{className:"text-xs opacity-75 mb-1",children:[M.sender.name,M.sender.shop_name&&` (${M.sender.shop_name})`]}),e.jsx("div",{className:"text-sm",children:M.message}),e.jsx("div",{className:`text-xs mt-1 ${(M==null?void 0:M.sender_id)===(a==null?void 0:a.id)?"text-blue-100":"text-gray-500"}`,children:S(M.created_at)})]})},M.id)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Zs,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"No messages yet. Start the conversation!"})]}),e.jsx("div",{ref:n})]}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("form",{onSubmit:U,className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:c,onChange:M=>d(M.target.value),placeholder:"Type your message...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:R.isPending}),e.jsx("button",{type:"button",className:"px-3 py-2 text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(sN,{className:"w-5 h-5"})}),e.jsx("button",{type:"submit",disabled:!c.trim()||R.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:R.isPending?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsx(_0,{className:"w-4 h-4"})})]})})]})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(cn,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),e.jsx("p",{className:"text-red-600 font-medium",children:"Failed to load RFQ details"})]})}):e.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Zs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select an RFQ"}),e.jsx("p",{className:"text-gray-500",children:"Choose an RFQ from the list to view details and manage communication."})]})})})]})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Authentication Required"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Please log in to access the RFQ inbox."}),e.jsx(Z,{to:"/login",className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Sign In"})]})})})},v5=()=>{var A,M,Q;const[t,s]=nt(),r=Je(),n=W(v=>v.authentication_state.current_user),a=W(v=>v.authentication_state.auth_token),i=W(v=>v.update_user_profile),l=W(v=>v.app_preferences.language),o=W(v=>v.app_preferences.currency),c=W(v=>v.update_language),d=W(v=>v.update_currency),[m,f]=u.useState(t.get("tab")||"personal"),[x,j]=u.useState(null),[y,b]=u.useState({}),[w,g]=u.useState({current_password:"",new_password:"",confirm_password:""}),[h,p]=u.useState(!1),[k,E]=u.useState(null),[I,_]=u.useState(null);u.useEffect(()=>{const v=t.get("tab")||"personal";v!==m&&f(v)},[t,m]);const{data:T,isLoading:L}=ce({queryKey:["userProfile"],queryFn:async()=>(await G.get("http://localhost:3000/api/auth/me",{headers:{Authorization:`Bearer ${a}`}})).data,enabled:!!a,staleTime:5*60*1e3}),q=xe({mutationFn:async v=>{if(!(n!=null&&n.id))throw new Error("User ID required");return(await G.put(`http://localhost:3000/api/users/${n.id}`,v,{headers:{Authorization:`Bearer ${a}`}})).data},onSuccess:v=>{i(v),r.setQueryData(["userProfile"],v),j(null),b({})}}),D=xe({mutationFn:async v=>(await G.post("http://localhost:3000/api/auth/change-password",v,{headers:{Authorization:`Bearer ${a}`}})).data,onSuccess:()=>{g({current_password:"",new_password:"",confirm_password:""}),j(null)}}),R=xe({mutationFn:async v=>{if(!(n!=null&&n.id))throw new Error("User ID required");const $=new FormData;return $.append("avatar",v),(await G.post(`http://localhost:3000/api/users/${n.id}/avatar`,$,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"multipart/form-data"}})).data},onSuccess:v=>{i(v),E(null),_(null)}}),B=v=>{f(v),s({tab:v}),j(null)},Y=v=>{x===v?(j(null),b({})):(j(v),v==="personal"&&T&&b({name:T.name,phone:T.phone,address:T.address}))},U=(v,$)=>{b(K=>({...K,[v]:$}))},P=()=>{Object.keys(y).length>0&&q.mutate(y)},C=()=>{w.new_password===w.confirm_password&&D.mutate({current_password:w.current_password,new_password:w.new_password})},S=v=>{var K;const $=(K=v.target.files)==null?void 0:K[0];if($){E($);const ie=new FileReader;ie.onload=fe=>{var ve;return _((ve=fe.target)==null?void 0:ve.result)},ie.readAsDataURL($)}},z=()=>{k&&R.mutate(k)},O=(v,$,K)=>{U("location_lat",v),U("location_lng",$),U("address",K),p(!1)},N=T||n;return L?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden mb-8",children:e.jsx("div",{className:"px-6 py-8",children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden",children:I?e.jsx("img",{src:I,alt:"Profile preview",className:"w-full h-full object-cover"}):N!=null&&N.name?e.jsx("span",{className:"text-2xl font-bold text-gray-600",children:N.name.charAt(0).toUpperCase()}):e.jsx(gi,{className:"w-12 h-12 text-gray-400"})}),e.jsxs("label",{className:"absolute bottom-0 right-0 bg-blue-600 text-white p-2 rounded-full cursor-pointer hover:bg-blue-700 transition-colors",children:[e.jsx(Lg,{className:"w-4 h-4"}),e.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"hidden"})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:N==null?void 0:N.name}),e.jsx("p",{className:"text-gray-600 mt-1",children:N==null?void 0:N.email}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N!=null&&N.is_verified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:N!=null&&N.is_verified?"Verified":"Unverified"}),e.jsx("span",{className:"ml-3 text-sm text-gray-500 capitalize",children:N==null?void 0:N.user_type})]})]}),k&&e.jsx("button",{onClick:z,disabled:R.isPending,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:R.isPending?"Uploading...":"Save Photo"})]})})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex",children:[{id:"personal",label:"Personal Info",icon:gi},{id:"preferences",label:"Preferences",icon:fi},{id:"security",label:"Security",icon:ra},...(N==null?void 0:N.user_type)==="buyer"?[{id:"business",label:"Business",icon:Cs}]:[]].map(v=>{const $=v.icon;return e.jsxs("button",{onClick:()=>B(v.id),className:`flex items-center px-6 py-4 text-sm font-medium transition-colors ${m===v.id?"border-b-2 border-blue-600 text-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[e.jsx($,{className:"w-5 h-5 mr-2"}),v.label]},v.id)})})}),e.jsxs("div",{className:"p-6",children:[m==="personal"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Personal Information"}),e.jsxs("button",{onClick:()=>Y("personal"),className:"flex items-center px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors",children:[x==="personal"?e.jsx(ct,{className:"w-4 h-4 mr-2"}):e.jsx(no,{className:"w-4 h-4 mr-2"}),x==="personal"?"Cancel":"Edit"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),x==="personal"?e.jsx("input",{type:"text",value:y.name||"",onChange:v=>U("name",v.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}):e.jsx("p",{className:"px-4 py-3 bg-gray-50 rounded-lg text-gray-900",children:N==null?void 0:N.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("p",{className:"px-4 py-3 bg-gray-50 rounded-lg text-gray-500",children:[N==null?void 0:N.email," (Cannot be changed)"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),x==="personal"?e.jsx("input",{type:"tel",value:y.phone||"",onChange:v=>U("phone",v.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter phone number"}):e.jsx("p",{className:"px-4 py-3 bg-gray-50 rounded-lg text-gray-900",children:(N==null?void 0:N.phone)||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),x==="personal"?e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",value:y.address||"",onChange:v=>U("address",v.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter address"}),e.jsxs("button",{onClick:()=>p(!h),className:"flex items-center text-sm text-blue-600 hover:text-blue-700",children:[e.jsx(Et,{className:"w-4 h-4 mr-1"}),h?"Hide Map":"Select on Map"]})]}):e.jsx("p",{className:"px-4 py-3 bg-gray-50 rounded-lg text-gray-900",children:(N==null?void 0:N.address)||"Not provided"})]})]}),h&&x==="personal"&&e.jsxs("div",{className:"bg-gray-100 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Map integration would go here"}),e.jsx("button",{onClick:()=>O(25.2048,55.2708,"Dubai Marina, Dubai, UAE"),className:"text-sm bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700",children:"Use Sample Location"})]}),x==="personal"&&e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:P,disabled:q.isPending,className:"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[e.jsx(Vs,{className:"w-4 h-4 mr-2"}),q.isPending?"Saving...":"Save Changes"]})})]}),m==="preferences"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Account Preferences"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),e.jsxs("select",{value:l,onChange:v=>c(v.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"ar",children:"العربية (Arabic)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),e.jsxs("select",{value:o,onChange:v=>d(v.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"AED",children:"AED (UAE Dirham)"}),e.jsx("option",{value:"USD",children:"USD (US Dollar)"}),e.jsx("option",{value:"EUR",children:"EUR (Euro)"}),e.jsx("option",{value:"SAR",children:"SAR (Saudi Riyal)"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Communication Preferences"}),e.jsx("div",{className:"space-y-3",children:[{id:"email_alerts",label:"Email Alerts",description:"Receive price and stock alerts via email"},{id:"sms_notifications",label:"SMS Notifications",description:"Receive important updates via SMS"},{id:"push_notifications",label:"Push Notifications",description:"Receive real-time notifications in browser"},{id:"marketing_emails",label:"Marketing Emails",description:"Receive promotional offers and updates"}].map(v=>e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:v.label}),e.jsx("p",{className:"text-sm text-gray-500",children:v.description})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},v.id))})]})]}),m==="security"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Security Settings"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Change Password"}),e.jsxs("button",{onClick:()=>Y("password"),className:"flex items-center px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors",children:[x==="password"?e.jsx(ct,{className:"w-4 h-4 mr-2"}):e.jsx(no,{className:"w-4 h-4 mr-2"}),x==="password"?"Cancel":"Change Password"]})]}),x==="password"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"password",placeholder:"Current Password",value:w.current_password,onChange:v=>g($=>({...$,current_password:v.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("input",{type:"password",placeholder:"New Password",value:w.new_password,onChange:v=>g($=>({...$,new_password:v.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("input",{type:"password",placeholder:"Confirm New Password",value:w.confirm_password,onChange:v=>g($=>({...$,confirm_password:v.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsxs("button",{onClick:C,disabled:D.isPending||w.new_password!==w.confirm_password,className:"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[e.jsx(Vs,{className:"w-4 h-4 mr-2"}),D.isPending?"Updating...":"Update Password"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Activity"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Last login: ",N!=null&&N.last_login?new Date(N.last_login).toLocaleString():"Never"]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Account created: ",N!=null&&N.created_at?new Date(N.created_at).toLocaleString():"Unknown"]})]})]})]}),m==="business"&&(N==null?void 0:N.user_type)==="buyer"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Business Features"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Quick Access"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{to:"/alerts",className:"block text-blue-600 hover:text-blue-700 text-sm",children:"Manage Price Alerts"}),e.jsx(Z,{to:"/saved-searches",className:"block text-blue-600 hover:text-blue-700 text-sm",children:"Saved Searches"}),e.jsx(Z,{to:"/bom-library",className:"block text-blue-600 hover:text-blue-700 text-sm",children:"BOM Library"}),e.jsx(Z,{to:"/orders",className:"block text-blue-600 hover:text-blue-700 text-sm",children:"Order History"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Account Statistics"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Active BOMs: 3"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Price Alerts: 12"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Saved Searches: 8"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Orders Placed: 23"})]})]})]})]})]})]}),(q.error||D.error||R.error)&&e.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:e.jsx("p",{className:"text-sm",children:((A=q.error)==null?void 0:A.message)||((M=D.error)==null?void 0:M.message)||((Q=R.error)==null?void 0:Q.message)})}),(q.isSuccess||D.isSuccess||R.isSuccess)&&e.jsx("div",{className:"mt-4 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:e.jsxs("p",{className:"text-sm flex items-center",children:[e.jsx(to,{className:"w-4 h-4 mr-2"}),q.isSuccess&&"Profile updated successfully!",D.isSuccess&&"Password changed successfully!",R.isSuccess&&"Profile image updated successfully!"]})})]})})})},j5=async t=>(await G.get("http://localhost:3000/api/map/shops",{params:{lat:t.lat,lng:t.lng,zoom:t.zoom,shop_type:t.shop_type||void 0,product_search:t.product_search||void 0,bounds:t.bounds||void 0}})).data,w5=async t=>(await G.get("http://localhost:3000/api/shops/near-me",{params:{lat:t.lat,lng:t.lng,radius:t.radius,shop_type:t.shop_type||void 0,product_search:t.product_search||void 0,limit:t.limit||20}})).data,N5=async t=>(await G.get(`http://localhost:3000/api/shops/${t}`)).data,_5=async(t,s)=>(await G.post("http://localhost:3000/api/trip-planner",t,{headers:{Authorization:`Bearer ${s}`}})).data,k5=()=>{var O;const[t,s]=nt(),r=W(N=>N.user_location),n=W(N=>N.authentication_state.auth_token),a=W(N=>N.update_user_location),[i,l]=u.useState({lat:parseFloat(t.get("lat")||"25.2048"),lng:parseFloat(t.get("lng")||"55.2708")}),[o,c]=u.useState(parseInt(t.get("zoom")||"12")),[d,m]=u.useState({shop_type:t.get("shop_type"),product_search:t.get("product_search"),radius_km:10,verified_only:!1}),[f,x]=u.useState(null),[j,y]=u.useState({active:!1,selected_shops:[],optimized_route:null}),[b,w]=u.useState(!1),[g,h]=u.useState("prompt"),p=u.useMemo(()=>{const N=.05*Math.pow(2,12-o),A=.05*Math.pow(2,12-o);return`${i.lat+N},${i.lat-N},${i.lng+A},${i.lng-A}`},[i,o]),{data:k,isLoading:E,error:I}=ce({queryKey:["mapShops",i.lat,i.lng,o,d.shop_type,d.product_search,p],queryFn:()=>j5({lat:i.lat,lng:i.lng,zoom:o,shop_type:d.shop_type,product_search:d.product_search,bounds:p}),staleTime:5*60*1e3,refetchOnWindowFocus:!1}),_=xe({mutationFn:w5}),{data:T,isLoading:L}=ce({queryKey:["shopDetails",f==null?void 0:f.id],queryFn:()=>N5(f.id),enabled:!!(f!=null&&f.id),staleTime:10*60*1e3}),q=xe({mutationFn:({shop_ids:N,start_location:A,return_to_start:M})=>_5({shop_ids:N,start_location:A,return_to_start:M},n)});u.useEffect(()=>{const N=new URLSearchParams;N.set("lat",i.lat.toString()),N.set("lng",i.lng.toString()),N.set("zoom",o.toString()),d.shop_type&&N.set("shop_type",d.shop_type),d.product_search&&N.set("product_search",d.product_search),s(N,{replace:!0})},[i,o,d,s]),u.useEffect(()=>{r.coordinates&&!t.get("lat")&&!t.get("lng")&&l({lat:r.coordinates.lat,lng:r.coordinates.lng})},[r.coordinates,t]);const D=u.useCallback(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(N=>{const A={coordinates:{lat:N.coords.latitude,lng:N.coords.longitude},accuracy:N.coords.accuracy};a(A),l(A.coordinates),h("granted"),_.mutate({lat:A.coordinates.lat,lng:A.coordinates.lng,radius:d.radius_km,shop_type:d.shop_type,product_search:d.product_search})},N=>{console.error("Error getting location:",N),h("denied")})},[a,d,_]),R=u.useCallback(N=>{j.active?y(A=>({...A,selected_shops:A.selected_shops.includes(N.id)?A.selected_shops.filter(M=>M!==N.id):[...A.selected_shops,N.id]})):x(N)},[j.active]),B=u.useCallback(()=>{c(N=>Math.min(18,N+1))},[]),Y=u.useCallback(()=>{c(N=>Math.max(1,N-1))},[]),U=u.useCallback((N,A)=>{j.active||l({lat:N,lng:A})},[j.active]),P=u.useCallback(()=>{j.selected_shops.length>1&&r.coordinates&&n&&q.mutate({shop_ids:j.selected_shops,start_location:r.coordinates,return_to_start:!0},{onSuccess:N=>{y(A=>({...A,optimized_route:N.route}))}})},[j.selected_shops,r.coordinates,n,q]),C=u.useMemo(()=>k!=null&&k.shops?k.shops.filter(N=>!(d.verified_only&&!N.verified)):[],[k==null?void 0:k.shops,d.verified_only]),S=N=>{const A=(f==null?void 0:f.id)===N.id,M=j.selected_shops.includes(N.id);return e.jsx("div",{className:`absolute cursor-pointer transform -translate-x-1/2 -translate-y-1/2 transition-all duration-200 hover:scale-110 ${A?"z-30":M?"z-20":"z-10"}`,style:{left:`${(N.location_lng-(i.lng-.05))/.1*100}%`,top:`${(i.lat+.05-N.location_lat)/.1*100}%`},onClick:()=>R(N),children:e.jsxs("div",{className:`relative ${A?"animate-pulse":""}`,children:[e.jsx(Et,{className:`w-6 h-6 ${M?"text-purple-600":N.verified?"text-blue-600":"text-gray-600"}`,fill:"currentColor"}),N.verified&&e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white"}),M&&e.jsx("div",{className:"absolute -top-2 -right-2 w-4 h-4 bg-purple-600 text-white text-xs rounded-full flex items-center justify-center font-bold",children:j.selected_shops.indexOf(N.id)+1})]})},N.id)},z=(N,A)=>e.jsx("div",{className:"absolute cursor-pointer transform -translate-x-1/2 -translate-y-1/2 z-10",style:{left:`${(N.lng-(i.lng-.05))/.1*100}%`,top:`${(i.lat+.05-N.lat)/.1*100}%`},onClick:()=>{l({lat:N.lat,lng:N.lng}),c(M=>Math.min(18,M+2))},children:e.jsx("div",{className:"bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm border-2 border-white shadow-lg hover:bg-blue-700 transition-colors",children:N.count})},`cluster-${A}`);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"h-screen flex flex-col bg-gray-100",children:[e.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Shop Map"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:["Zoom: ",o]}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Shops: ",C.length]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>w(!b),className:`p-2 rounded-lg transition-colors ${b?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:e.jsx(jh,{className:"w-5 h-5"})}),e.jsx("button",{onClick:D,disabled:g==="denied",className:"p-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(qg,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>y(N=>({...N,active:!N.active,selected_shops:N.active?[]:N.selected_shops,optimized_route:N.active?null:N.optimized_route})),className:`p-2 rounded-lg transition-colors ${j.active?"bg-purple-100 text-purple-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:e.jsx(rN,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex-1 flex",children:[b&&e.jsx("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col",children:e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Map Filters"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:d.product_search||"",onChange:N=>m(A=>({...A,product_search:N.target.value||null})),placeholder:"Search for products...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shop Type"}),e.jsxs("select",{value:d.shop_type||"",onChange:N=>m(A=>({...A,shop_type:N.target.value||null})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"hardware_store",children:"Hardware Store"}),e.jsx("option",{value:"building_materials",children:"Building Materials"}),e.jsx("option",{value:"electrical_supplies",children:"Electrical Supplies"}),e.jsx("option",{value:"plumbing_supplies",children:"Plumbing Supplies"}),e.jsx("option",{value:"paint_supplies",children:"Paint Supplies"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Search Radius: ",d.radius_km," km"]}),e.jsx("input",{type:"range",min:"1",max:"50",value:d.radius_km,onChange:N=>m(A=>({...A,radius_km:parseInt(N.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"1km"}),e.jsx("span",{children:"50km"})]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:d.verified_only,onChange:N=>m(A=>({...A,verified_only:N.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Verified shops only"})]})})]})}),e.jsxs("div",{className:"flex-1 relative bg-gray-200",children:[e.jsxs("div",{className:"absolute top-4 right-4 z-30 flex flex-col space-y-2",children:[e.jsx("button",{onClick:B,className:"w-10 h-10 bg-white rounded-lg shadow-lg flex items-center justify-center hover:bg-gray-50 transition-colors",children:e.jsx(ps,{className:"w-5 h-5 text-gray-600"})}),e.jsx("button",{onClick:Y,className:"w-10 h-10 bg-white rounded-lg shadow-lg flex items-center justify-center hover:bg-gray-50 transition-colors",children:e.jsx(Zd,{className:"w-5 h-5 text-gray-600"})})]}),j.active&&e.jsxs("div",{className:"absolute top-4 left-4 z-30 bg-white rounded-lg shadow-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-600 rounded-full"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Route Planning Mode"})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Selected shops: ",j.selected_shops.length]}),j.selected_shops.length>1&&e.jsx("button",{onClick:P,disabled:q.isPending||!n,className:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:q.isPending?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(tN,{className:"w-4 h-4"}),e.jsx("span",{children:"Plan Route"})]})})]}),E&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20 flex items-center justify-center z-20",children:e.jsxs("div",{className:"bg-white rounded-lg p-4 flex items-center space-x-3",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-gray-900",children:"Loading shops..."})]})}),e.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-green-100 to-blue-100 relative overflow-hidden cursor-crosshair",onClick:N=>{const A=N.currentTarget.getBoundingClientRect(),M=(N.clientX-A.left)/A.width,Q=(N.clientY-A.top)/A.height,v=i.lat+.05-Q*.1,$=i.lng-.05+M*.1;U(v,$)},children:[e.jsxs("div",{className:"absolute inset-0",children:[Array.from({length:10}).map((N,A)=>e.jsx("div",{className:"absolute w-full h-px bg-white bg-opacity-30",style:{top:`${A*10}%`}},`h-${A}`)),Array.from({length:10}).map((N,A)=>e.jsx("div",{className:"absolute h-full w-px bg-white bg-opacity-30",style:{left:`${A*10}%`}},`v-${A}`))]}),e.jsxs("div",{className:"absolute bottom-4 left-4 bg-white bg-opacity-90 rounded-lg px-3 py-2 text-sm text-gray-700",children:[i.lat.toFixed(4),", ",i.lng.toFixed(4)]}),r.coordinates&&e.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 z-20",style:{left:`${(r.coordinates.lng-(i.lng-.05))/.1*100}%`,top:`${(i.lat+.05-r.coordinates.lat)/.1*100}%`},children:e.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full border-2 border-white shadow-lg animate-pulse"})}),o>=13?C.map(N=>S(N)):(O=k==null?void 0:k.clusters)==null?void 0:O.map((N,A)=>z(N,A))]})]}),f&&e.jsxs("div",{className:"w-96 bg-white border-l border-gray-200 flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f.name}),e.jsx("button",{onClick:()=>x(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:"×"})]}),f.verified&&e.jsx("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 mb-2",children:"✓ Verified"}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium",children:f.rating_average.toFixed(1)}),e.jsx("span",{className:"ml-1",children:"★"})]}),f.distance_km&&e.jsxs("span",{children:[f.distance_km.toFixed(1)," km away"]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:L?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})}):T?e.jsxs("div",{className:"space-y-4",children:[T.address&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"Address"}),e.jsx("p",{className:"text-sm text-gray-600",children:T.address})]}),T.phones&&T.phones.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"Phone"}),T.phones.map((N,A)=>e.jsx("p",{className:"text-sm text-gray-600",children:N},A))]}),T.hours&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"Hours"}),e.jsx("div",{className:"text-sm text-gray-600",children:Object.entries(T.hours).map(([N,A])=>e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"capitalize",children:N}),e.jsx("span",{children:A})]},N))})]}),T.shop_type&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"Type"}),e.jsx("p",{className:"text-sm text-gray-600 capitalize",children:T.shop_type.replace("_"," ")})]})]}):null}),e.jsxs("div",{className:"p-4 border-t border-gray-200 space-y-2",children:[e.jsx(Z,{to:`/shop/${f.id}`,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-center block",children:"View Shop Details"}),j.active&&e.jsx("button",{onClick:()=>R(f),className:`w-full px-4 py-2 rounded-lg transition-colors ${j.selected_shops.includes(f.id)?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:j.selected_shops.includes(f.id)?"Remove from Route":"Add to Route"})]})]})]}),I&&e.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-lg",children:e.jsx("p",{className:"text-sm",children:"Failed to load shops. Please try again."})})]})})},S5=()=>{var ve,Nt;const t=W(H=>H.authentication_state.auth_token),[s,r]=u.useState({type:new URLSearchParams(window.location.search).get("type"),active:new URLSearchParams(window.location.search).get("active")==="true"?!0:null}),[n,a]=u.useState(!1),[i,l]=u.useState(null),[o,c]=u.useState("alerts"),[d,m]=u.useState(""),[f,x]=u.useState(!1),[j,y]=u.useState({type:"price_drop",variant_id:null,shop_id:null,threshold_value:null,condition_type:"below",notification_methods:["push"]}),[b,w]=u.useState([]),[g,h]=u.useState(""),[p,k]=u.useState(!1),[E,I]=u.useState({push_enabled:!0,email_enabled:!0,sms_enabled:!1,quiet_hours:null}),_=Je(),T=async()=>{const H=new URLSearchParams;return s.type&&H.append("type",s.type),s.active!==null&&H.append("active",s.active.toString()),H.append("limit","50"),H.append("offset","0"),(await G.get(`http://localhost:3000/api/alerts?${H.toString()}`,{headers:{Authorization:`Bearer ${t}`}})).data},L=async H=>(await G.post("http://localhost:3000/api/alerts",H,{headers:{Authorization:`Bearer ${t}`}})).data,q=async({alertId:H,updates:le})=>(await G.put(`http://localhost:3000/api/alerts/${H}`,le,{headers:{Authorization:`Bearer ${t}`}})).data,D=async H=>{await G.delete(`http://localhost:3000/api/alerts/${H}`,{headers:{Authorization:`Bearer ${t}`}})},R=async H=>H.trim()?(await G.get(`http://localhost:3000/api/product-variants?query=${encodeURIComponent(H)}&limit=10&is_active=true`)).data:{variants:[]},{data:B,isLoading:Y,error:U}=ce({queryKey:["alerts",s],queryFn:T,enabled:!!t}),P=xe({mutationFn:L,onSuccess:()=>{_.invalidateQueries({queryKey:["alerts"]}),a(!1),y({type:"price_drop",variant_id:null,shop_id:null,threshold_value:null,condition_type:"below",notification_methods:["push"]}),w([]),h("")}}),C=xe({mutationFn:q,onSuccess:()=>{_.invalidateQueries({queryKey:["alerts"]}),l(null)}}),S=xe({mutationFn:D,onSuccess:()=>{_.invalidateQueries({queryKey:["alerts"]})}}),{mutate:z}=xe({mutationFn:R,onSuccess:H=>{w(H.variants)}});u.useEffect(()=>{if(g.length>=2){const H=setTimeout(()=>{z(g)},300);return()=>clearTimeout(H)}else w([])},[g,z]);const O=H=>{const le={...s,...H};r(le);const Ae=new URLSearchParams;le.type&&Ae.set("type",le.type),le.active!==null&&Ae.set("active",le.active.toString()),window.history.replaceState({},"",`${window.location.pathname}?${Ae.toString()}`)},N=()=>{P.mutate(j)},A=H=>{C.mutate({alertId:H.id,updates:{active:!H.active}})},M=H=>{window.confirm("Are you sure you want to delete this alert?")&&S.mutate(H)},Q=H=>{y(le=>({...le,variant_id:H.id})),k(!1),h(""),w([])},v=H=>{switch(H){case"price_drop":return"Price Alert";case"stock_available":return"Stock Alert";case"new_product":return"New Product Alert";case"shop_alert":return"Shop Alert";default:return H}},$=H=>{switch(H){case"price_drop":return e.jsx(Bt,{className:"h-4 w-4"});case"stock_available":return e.jsx(ss,{className:"h-4 w-4"});case"new_product":return e.jsx(ps,{className:"h-4 w-4"});case"shop_alert":return e.jsx(Cs,{className:"h-4 w-4"});default:return e.jsx(Cs,{className:"h-4 w-4"})}},K=H=>{switch(H){case"below":return"Below";case"above":return"Above";case"equals":return"Equals";case"percentage_change":return"% Change";default:return H}},ie=(B==null?void 0:B.alerts)||[],fe=ie.filter(H=>{var le,Ae;if(d){const ns=d.toLowerCase();return((le=H.product_name)==null?void 0:le.toLowerCase().includes(ns))||((Ae=H.shop_name)==null?void 0:Ae.toLowerCase().includes(ns))||v(H.type).toLowerCase().includes(ns)}return!0});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50 py-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Alert Management"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Monitor price changes, stock availability, and product updates"})]}),e.jsxs("div",{className:"mt-4 lg:mt-0 lg:ml-4 flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[e.jsxs("button",{onClick:()=>x(!f),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(jh,{className:"h-4 w-4 mr-2"}),"Filters"]}),e.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx(ps,{className:"h-4 w-4 mr-2"}),"Create Alert"]})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow-lg rounded-lg border",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Cs,{className:"h-6 w-6 text-blue-600"})}),e.jsx("div",{className:"ml-4 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Alerts"}),e.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:ie.length})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-lg rounded-lg border",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ss,{className:"h-6 w-6 text-green-600"})}),e.jsx("div",{className:"ml-4 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Alerts"}),e.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:ie.filter(H=>H.active).length})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-lg rounded-lg border",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(cn,{className:"h-6 w-6 text-orange-600"})}),e.jsx("div",{className:"ml-4 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Recently Triggered"}),e.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:ie.filter(H=>H.last_triggered_at&&Date.now()-H.last_triggered_at<24*60*60*1e3).length})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-lg rounded-lg border",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Bt,{className:"h-6 w-6 text-purple-600"})}),e.jsx("div",{className:"ml-4 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Triggers"}),e.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:ie.reduce((H,le)=>H+le.triggered_count,0)})]})})]})})})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("nav",{className:"flex space-x-8",children:[e.jsx("button",{onClick:()=>c("alerts"),className:`py-2 px-1 border-b-2 font-medium text-sm ${o==="alerts"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"My Alerts"}),e.jsx("button",{onClick:()=>c("preferences"),className:`py-2 px-1 border-b-2 font-medium text-sm ${o==="preferences"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Notification Preferences"}),e.jsx("button",{onClick:()=>c("history"),className:`py-2 px-1 border-b-2 font-medium text-sm ${o==="history"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Alert History"})]})}),f&&e.jsx("div",{className:"mb-6 bg-white rounded-lg shadow-lg border p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alert Type"}),e.jsxs("select",{value:s.type||"",onChange:H=>O({type:H.target.value||null}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"price_drop",children:"Price Alerts"}),e.jsx("option",{value:"stock_available",children:"Stock Alerts"}),e.jsx("option",{value:"new_product",children:"New Product Alerts"}),e.jsx("option",{value:"shop_alert",children:"Shop Alerts"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:s.active===null?"":s.active.toString(),onChange:H=>O({active:H.target.value===""?null:H.target.value==="true"}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"true",children:"Active Only"}),e.jsx("option",{value:"false",children:"Inactive Only"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search alerts...",value:d,onChange:H=>m(H.target.value),className:"block w-full pl-10 rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),e.jsx(ys,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"})]})]})]})}),o==="alerts"&&e.jsx("div",{className:"bg-white shadow-lg rounded-lg border",children:Y?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading alerts..."})]}):U?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(cn,{className:"h-8 w-8 text-red-500 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-red-600",children:"Failed to load alerts"})]}):fe.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(Cs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No alerts found"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:d||s.type||s.active!==null?"Try adjusting your filters or search query.":"Create your first alert to get started with price and stock monitoring."}),e.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(ps,{className:"h-4 w-4 mr-2"}),"Create Your First Alert"]})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:fe.map(H=>e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`flex-shrink-0 p-2 rounded-lg ${H.type==="price_drop"?"bg-blue-100 text-blue-600":H.type==="stock_available"?"bg-green-100 text-green-600":H.type==="new_product"?"bg-purple-100 text-purple-600":"bg-orange-100 text-orange-600"}`,children:$(H.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:v(H.type)}),H.product_name&&e.jsxs("p",{className:"text-sm text-gray-600 truncate",children:["Product: ",H.product_name]}),H.shop_name&&e.jsxs("p",{className:"text-sm text-gray-600 truncate",children:["Shop: ",H.shop_name]})]})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[H.threshold_value&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(Bt,{className:"h-4 w-4 mr-1"}),K(H.condition_type)," ",H.threshold_value]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(Cs,{className:"h-4 w-4 mr-1"}),H.notification_methods.join(", ")]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(sa,{className:"h-4 w-4 mr-1"}),H.triggered_count," triggers"]}),H.last_triggered_at&&e.jsxs("span",{className:"text-orange-600",children:["Last triggered: ",new Date(H.last_triggered_at).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>A(H),disabled:C.isPending,className:`p-2 rounded-lg transition-colors ${H.active?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-50"}`,title:H.active?"Disable alert":"Enable alert",children:H.active?e.jsx(on,{className:"h-4 w-4"}):e.jsx(Qd,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>l(H),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"Edit alert",children:e.jsx(Kd,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>M(H.id),disabled:S.isPending,className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete alert",children:e.jsx(Nh,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:`mt-4 flex items-center justify-between p-3 rounded-lg ${H.active?"bg-green-50 border border-green-200":"bg-gray-50 border border-gray-200"}`,children:[e.jsx("span",{className:`text-sm font-medium ${H.active?"text-green-800":"text-gray-600"}`,children:H.active?"Active":"Inactive"}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Created ",new Date(H.created_at).toLocaleDateString()]})]})]},H.id))})}),o==="preferences"&&e.jsxs("div",{className:"bg-white shadow-lg rounded-lg border p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Notification Preferences"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Push Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive alerts directly in your browser"})]}),e.jsx("button",{onClick:()=>I(H=>({...H,push_enabled:!H.push_enabled})),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${E.push_enabled?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${E.push_enabled?"translate-x-5":"translate-x-0"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive alerts via email"})]}),e.jsx("button",{onClick:()=>I(H=>({...H,email_enabled:!H.email_enabled})),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${E.email_enabled?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${E.email_enabled?"translate-x-5":"translate-x-0"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"SMS Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive alerts via text message"})]}),e.jsx("button",{onClick:()=>I(H=>({...H,sms_enabled:!H.sms_enabled})),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${E.sms_enabled?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${E.sms_enabled?"translate-x-5":"translate-x-0"}`})})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Quiet Hours"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Set hours when you don't want to receive notifications"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),e.jsx("input",{type:"time",value:((ve=E.quiet_hours)==null?void 0:ve.start)||"",onChange:H=>I(le=>{var Ae;return{...le,quiet_hours:{start:H.target.value,end:((Ae=le.quiet_hours)==null?void 0:Ae.end)||"08:00"}}}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),e.jsx("input",{type:"time",value:((Nt=E.quiet_hours)==null?void 0:Nt.end)||"",onChange:H=>I(le=>{var Ae;return{...le,quiet_hours:{start:((Ae=le.quiet_hours)==null?void 0:Ae.start)||"22:00",end:H.target.value}}}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]})]})]})]}),o==="history"&&e.jsxs("div",{className:"bg-white shadow-lg rounded-lg border p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Alert History"}),e.jsx("p",{className:"text-sm text-gray-500",children:"View your alert trigger history and performance analytics. This feature will be available soon."})]})]}),n&&e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-screen overflow-y-auto",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Create New Alert"}),e.jsx("button",{onClick:()=>{a(!1),y({type:"price_drop",variant_id:null,shop_id:null,threshold_value:null,condition_type:"below",notification_methods:["push"]}),w([]),h("")},className:"text-gray-400 hover:text-gray-600",children:e.jsx(ct,{className:"h-6 w-6"})})]})}),e.jsxs("div",{className:"px-6 py-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alert Type"}),e.jsxs("select",{value:j.type,onChange:H=>y(le=>({...le,type:H.target.value,variant_id:null,threshold_value:null})),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"price_drop",children:"Price Alert"}),e.jsx("option",{value:"stock_available",children:"Stock Alert"}),e.jsx("option",{value:"new_product",children:"New Product Alert"}),e.jsx("option",{value:"shop_alert",children:"Shop Alert"})]})]}),(j.type==="price_drop"||j.type==="stock_available")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search for a product...",value:g,onChange:H=>{h(H.target.value),k(!0)},onFocus:()=>k(!0),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),p&&b.length>0&&e.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-lg py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm",children:b.map(H=>{var le;return e.jsxs("button",{onClick:()=>Q(H),className:"w-full text-left px-4 py-2 text-sm text-gray-900 hover:bg-gray-100",children:[e.jsx("div",{className:"font-medium",children:(le=H.product)==null?void 0:le.canonical_name}),H.brand&&e.jsxs("div",{className:"text-gray-500",children:[H.brand," ",H.grade]})]},H.id)})})]}),j.variant_id&&e.jsx("div",{className:"mt-2 p-2 bg-blue-50 rounded-lg",children:e.jsx("p",{className:"text-sm text-blue-700",children:"Product selected"})})]}),j.type==="price_drop"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Condition"}),e.jsxs("select",{value:j.condition_type,onChange:H=>y(le=>({...le,condition_type:H.target.value})),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"below",children:"Below"}),e.jsx("option",{value:"above",children:"Above"}),e.jsx("option",{value:"equals",children:"Equals"}),e.jsx("option",{value:"percentage_change",children:"Percentage Change"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Threshold Value ",j.condition_type==="percentage_change"?"(%)":"(AED)"]}),e.jsx("input",{type:"number",step:"0.01",value:j.threshold_value||"",onChange:H=>y(le=>({...le,threshold_value:parseFloat(H.target.value)||null})),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter threshold value"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notification Methods"}),e.jsx("div",{className:"space-y-2",children:["push","email","sms"].map(H=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:j.notification_methods.includes(H),onChange:le=>{le.target.checked?y(Ae=>({...Ae,notification_methods:[...Ae.notification_methods,H]})):y(Ae=>({...Ae,notification_methods:Ae.notification_methods.filter(ns=>ns!==H)}))},className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),e.jsx("span",{className:"ml-2 text-sm text-gray-900 capitalize",children:H})]},H))})]})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{a(!1),y({type:"price_drop",variant_id:null,shop_id:null,threshold_value:null,condition_type:"below",notification_methods:["push"]})},className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:N,disabled:P.isPending||!j.notification_methods.length,className:"px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:P.isPending?"Creating...":"Create Alert"})]})]})}),i&&e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Alert"}),e.jsx("button",{onClick:()=>l(null),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ct,{className:"h-6 w-6"})})]})}),e.jsxs("div",{className:"px-6 py-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alert Status"}),e.jsx("button",{onClick:()=>A(i),className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${i.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:i.active?"Active":"Inactive"})]}),i.type==="price_drop"&&i.threshold_value&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Threshold Value (",i.condition_type==="percentage_change"?"%":"AED",")"]}),e.jsx("input",{type:"number",step:"0.01",defaultValue:i.threshold_value,onChange:H=>{const le=parseFloat(H.target.value);isNaN(le)||C.mutate({alertId:i.id,updates:{threshold_value:le}})},onBlur:H=>{const le=parseFloat(H.target.value);!isNaN(le)&&le!==i.threshold_value&&C.mutate({alertId:i.id,updates:{threshold_value:le}})},className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notification Methods"}),e.jsx("div",{className:"space-y-2",children:["push","email","sms"].map(H=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:i.notification_methods.includes(H),onChange:le=>{const Ae=le.target.checked?[...i.notification_methods,H]:i.notification_methods.filter(ns=>ns!==H);C.mutate({alertId:i.id,updates:{notification_methods:Ae}})},className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),e.jsx("span",{className:"ml-2 text-sm text-gray-900 capitalize",children:H})]},H))})]})]}),e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end",children:e.jsx("button",{onClick:()=>l(null),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Done"})})]})})]})})},C5=()=>{const{category_path:t}=ih(),[s,r]=nt(),n=Is(),a=W(S=>S.authentication_state.authentication_status.is_authenticated),i=W(S=>S.add_to_comparison),l=W(S=>S.add_bom_item),o=W(S=>S.current_bom),[c,d]=u.useState(""),[m,f]=u.useState(null),[x,j]=u.useState(s.get("view")||"grid"),[y,b]=u.useState(s.get("sort")||"name"),[w,g]=u.useState(!1),h="http://localhost:3000",{data:p,isLoading:k,error:E}=ce({queryKey:["categories","hierarchy"],queryFn:async()=>{const S=await G.get(`${h}/api/categories`,{params:{is_active:!0,limit:100,sort_by:"sort_order",sort_order:"asc"}}),z=(N,A=null)=>N.filter(M=>M.parent_id===A).map(M=>({...M,children:z(N,M.id),product_count:0}));return{hierarchy:z(S.data.categories),featured:S.data.categories.filter(N=>N.parent_id===null).slice(0,8).map(N=>({...N,popular:!0}))}},staleTime:10*60*1e3,refetchOnWindowFocus:!1}),{data:I,isLoading:_}=ce({queryKey:["category",m],queryFn:async()=>m?(await G.get(`${h}/api/categories/${m}`)).data:null,enabled:!!m,staleTime:5*60*1e3}),{data:T,isLoading:L,error:q}=ce({queryKey:["products","category",m,y,c],queryFn:async()=>{if(!m)return{products:[],total:0};const S={category_id:m,is_active:!0,sort_by:y,sort_order:"asc",limit:20,offset:0};return c.trim()&&(S.query=c.trim()),(await G.get(`${h}/api/products`,{params:S})).data},enabled:!!m,staleTime:2*60*1e3}),D=u.useMemo(()=>!I||!(p!=null&&p.hierarchy)?[]:((z,O)=>{const N=[];let A=z;for(;A;){N.unshift({id:A.id,name:A.name,path:A.category_path});const M=(Q,v)=>{for(const $ of Q){if($.id===v)return $;if($.children){const K=M($.children,v);if(K)return K}}return null};A=A.parent_id?M(O,A.parent_id):null}return N})(I||void 0,p.hierarchy),[I,p]);u.useEffect(()=>{if(t&&(p!=null&&p.hierarchy)){const S=(O,N)=>{for(const A of O){if(A.category_path===N)return A;if(A.children){const M=S(A.children,N);if(M)return M}}return null},z=S(p.hierarchy,t);z&&f(z.id)}else f(null)},[t,p]),u.useEffect(()=>{const S=new URLSearchParams;y!=="name"&&S.set("sort",y),x!=="grid"&&S.set("view",x),r(S)},[y,x,r]);const R=S=>{n(`/categories/${S.category_path}`)},B=S=>{d(S)},Y=S=>{i(S)},U=async S=>{if(o.id)try{await l({variant_id:S,quantity:1,unit:"piece",waste_factor:0})}catch(z){console.error("Failed to add to BOM:",z)}},P=S=>e.jsxs("div",{onClick:()=>R(S),className:"group relative bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 cursor-pointer overflow-hidden border border-gray-100",children:[e.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gradient-to-br from-blue-50 to-indigo-100",children:S.image_url?e.jsx("img",{src:S.image_url,alt:S.name,className:"w-full h-32 object-cover group-hover:scale-105 transition-transform duration-200"}):e.jsx("div",{className:"w-full h-32 flex items-center justify-center",children:e.jsx(wr,{className:"h-12 w-12 text-blue-500"})})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-blue-600 transition-colors",children:S.name}),S.popular&&e.jsx(J_,{className:"h-5 w-5 text-yellow-400 fill-current"})]}),S.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:S.description}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:[S.product_count||0," products"]}),e.jsx(ru,{className:"h-4 w-4 text-gray-400 group-hover:text-blue-500 transition-colors"})]})]})]},S.id),C=S=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-50",children:S.image_url?e.jsx("img",{src:S.image_url,alt:S.canonical_name,className:"w-full h-48 object-cover"}):e.jsx("div",{className:"w-full h-48 flex items-center justify-center",children:e.jsx(uo,{className:"h-16 w-16 text-gray-300"})})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:S.canonical_name}),S.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:S.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[e.jsxs("span",{children:["Unit: ",S.base_unit]}),S.waste_factor_percentage>0&&e.jsxs("span",{children:["Waste: ",S.waste_factor_percentage,"%"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Z,{to:`/product/${S.id}`,className:"flex-1 bg-blue-600 text-white px-3 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-1",children:[e.jsx(E_,{className:"h-4 w-4"}),"View Details"]}),a&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{var z,O;return Y(((O=(z=S.variants)==null?void 0:z[0])==null?void 0:O.id)||S.id)},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",title:"Add to comparison",children:e.jsx(Z0,{className:"h-4 w-4"})}),o.id&&e.jsx("button",{onClick:()=>{var z,O;return U(((O=(z=S.variants)==null?void 0:z[0])==null?void 0:O.id)||S.id)},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",title:"Add to BOM",children:e.jsx(zt,{className:"h-4 w-4"})})]})]})]})]},S.id);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:I?I.name:"Browse Categories"}),D.length>0&&e.jsxs("nav",{className:"flex items-center space-x-2 mt-2","aria-label":"Breadcrumb",children:[e.jsx(Z,{to:"/categories",className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"All Categories"}),D.map((S,z)=>e.jsxs(fn.Fragment,{children:[e.jsx(ru,{className:"h-4 w-4 text-gray-400"}),z===D.length-1?e.jsx("span",{className:"text-sm font-medium text-gray-900",children:S.name}):e.jsx(Z,{to:`/categories/${S.path}`,className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:S.name})]},S.id))]})]}),m&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search in category...",value:c,onChange:S=>B(S.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsx("button",{onClick:()=>g(!w),className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:e.jsx(Z0,{className:"h-5 w-5 text-gray-600"})})]})]}),m&&w&&e.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort by"}),e.jsxs("select",{value:y,onChange:S=>b(S.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"canonical_name",children:"Name"}),e.jsx("option",{value:"created_at",children:"Newest"}),e.jsx("option",{value:"category_id",children:"Category"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"View"}),e.jsxs("div",{className:"flex border border-gray-300 rounded-md",children:[e.jsx("button",{onClick:()=>j("grid"),className:`p-2 ${x==="grid"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-50"} transition-colors`,children:e.jsx(Wg,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>j("list"),className:`p-2 ${x==="list"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-50"} transition-colors`,children:e.jsx(Hg,{className:"h-4 w-4"})})]})]}),e.jsx("button",{onClick:()=>g(!1),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(da,{className:"h-5 w-5"})})]})})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(k||_||L)&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),(E||q)&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:e.jsx("p",{children:"Failed to load content. Please try again later."})}),!m&&!k&&p&&e.jsxs("div",{children:[p.featured.length>0&&e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Featured Categories"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:p.featured.map(P)})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"All Categories"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.hierarchy.map(P)})]})]}),m&&I&&!_&&e.jsxs("div",{children:[I.children&&I.children.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Subcategories"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:I.children.map(P)})]}),!L&&T&&e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Products (",T.total||0,")"]})}),T.products.length>0?e.jsx("div",{className:`grid gap-6 ${x==="grid"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1"}`,children:T.products.map(C)}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(wr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),e.jsx("p",{className:"text-gray-600",children:c?`No products match "${c}" in this category.`:"This category doesn't have any products yet."}),c&&e.jsx("button",{onClick:()=>d(""),className:"mt-4 text-blue-600 hover:text-blue-700 font-medium",children:"Clear search"})]})]})]}),!k&&!(p!=null&&p.hierarchy.length)&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(wr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No categories available"}),e.jsx("p",{className:"text-gray-600",children:"Categories will appear here when they're added to the system."})]})]})]})})},E5=()=>{var Q;const[t]=nt(),s=Is(),r=u.useRef(null),n=u.useRef(null),a=t.get("add_to_bom")==="true",i=W(v=>v.authentication_state.auth_token),l=W(v=>v.current_bom),o=W(v=>v.add_bom_item),[c,d]=u.useState({active:!1,permission_granted:!1,flash_enabled:!1,auto_focus:!0,scanning:!1}),[m,f]=u.useState({barcode:null,format:null,product_match:null,confidence:0}),[x,j]=u.useState({matched_variants:[],alternative_suggestions:[],manual_association_needed:!1}),[y,b]=u.useState({enabled:a,quantity:1,unit:"piece"}),[w,g]=u.useState([]),[h,p]=u.useState({active:!1,barcode_input:"",entry_method:"keyboard"}),[k,E]=u.useState(null),I=u.useCallback(async()=>{d(v=>({...v,scanning:!0}));try{const v=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}});r.current&&(r.current.srcObject=v,E(v),d($=>({...$,active:!0,permission_granted:!0,scanning:!1})))}catch(v){console.error("Camera access error:",v),d($=>({...$,active:!1,permission_granted:!1,scanning:!1}))}},[]),_=u.useCallback(()=>{k&&(k.getTracks().forEach(v=>v.stop()),E(null)),d(v=>({...v,active:!1,scanning:!1}))},[k]),T=u.useCallback(()=>{if(!c.active||c.scanning)return;const v=["1234567890123","9876543210987","5555555555555","1111111111111"],$=v[Math.floor(Math.random()*v.length)];f({barcode:$,format:"EAN-13",product_match:null,confidence:.95}),z($)},[c.active,c.scanning]),{data:L,isLoading:q,refetch:D}=ce({queryKey:["product-variants-barcode",m.barcode],queryFn:async()=>{if(!m.barcode)throw new Error("No barcode to search");return(await G.get("http://localhost:3000/api/product-variants",{params:{query:m.barcode,is_active:!0,limit:10}})).data},enabled:!1,staleTime:6e4,retry:1}),{data:R,isLoading:B,refetch:Y}=ce({queryKey:["search-products",m.barcode],queryFn:async()=>(await G.get("http://localhost:3000/api/search",{params:{q:m.barcode,type:"products",limit:20}})).data,enabled:!1,staleTime:6e4,retry:1}),{data:U,isLoading:P,refetch:C}=ce({queryKey:["inventory-check",(Q=x.matched_variants[0])==null?void 0:Q.id],queryFn:async()=>{var K;const v=(K=x.matched_variants[0])==null?void 0:K.id;if(!v)throw new Error("No variant to check");return(await G.get("http://localhost:3000/api/inventory",{params:{variant_id:v,in_stock:!0,limit:10}})).data},enabled:!1,staleTime:3e4,retry:1}),S=xe({mutationFn:async v=>{if(!l.id||!i)throw new Error("BOM or authentication required");return(await G.post(`http://localhost:3000/api/boms/${l.id}/items`,{variant_id:v.variant_id,quantity:v.quantity,unit:v.unit,waste_factor:0,notes:v.notes},{headers:{Authorization:`Bearer ${i}`}})).data},onSuccess:v=>{o({variant_id:v.variant_id,quantity:v.quantity,unit:v.unit,notes:v.notes}),g($=>{var K,ie;return[...$,{barcode:m.barcode||"",scanned_at:Date.now(),product_name:((ie=(K=x.matched_variants[0])==null?void 0:K.product)==null?void 0:ie.canonical_name)||null,action_taken:"added_to_bom"}]})}}),z=u.useCallback(async v=>{f($=>({...$,barcode:v})),d($=>({...$,scanning:!0}));try{await D()}catch($){console.error("Barcode search error:",$),await Y()}},[D,Y]);u.useEffect(()=>{if(L){const v=L.variants.filter(K=>K.barcode===m.barcode),$=L.variants.filter(K=>K.barcode!==m.barcode);j({matched_variants:v,alternative_suggestions:$,manual_association_needed:v.length===0}),f(K=>({...K,product_match:v[0]||null,confidence:v.length>0?1:0})),d(K=>({...K,scanning:!1})),y.enabled&&v.length>0&&l.id&&N(v[0])}},[L,m.barcode,y.enabled,l.id]),u.useEffect(()=>{R&&(j(v=>({...v,alternative_suggestions:R.results.products||[]})),d(v=>({...v,scanning:!1})))},[R]),u.useEffect(()=>{U&&j(v=>({...v,shop_availability:U.inventory.map($=>({shop:$.shop,in_stock:$.in_stock,stock_quantity:$.stock_quantity,price:$.price}))}))},[U]),u.useEffect(()=>(I(),()=>_()),[I,_]),u.useEffect(()=>{if(c.active&&!h.active){const v=setInterval(()=>{Math.random()>.7&&T()},3e3);return()=>clearInterval(v)}},[c.active,h.active,T]);const O=u.useCallback(async()=>{h.barcode_input.trim()&&(await z(h.barcode_input.trim()),p(v=>({...v,active:!1,barcode_input:""})))},[h.barcode_input,z]),N=u.useCallback(async v=>{if(!l.id||!i){s("/bom");return}try{await S.mutateAsync({variant_id:v.id,quantity:y.quantity,unit:y.unit,notes:"Added via barcode scan"})}catch($){console.error("Add to BOM error:",$)}},[l.id,i,y,S,s]),A=u.useCallback(()=>{const v=x.matched_variants[0];v&&s(`/compare?product_ids=${v.product_id}&quantity=${y.quantity}`)},[x.matched_variants,y.quantity,s]),M=u.useCallback(()=>{d(v=>({...v,flash_enabled:!v.flash_enabled}))},[]);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[e.jsx("div",{className:"bg-gray-800 border-b border-gray-700",children:e.jsx("div",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Z,{to:"/search",className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx(ct,{className:"w-5 h-5"})}),e.jsx("h1",{className:"text-lg font-semibold",children:"Barcode Scanner"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:M,className:`p-2 rounded-lg transition-colors ${c.flash_enabled?"bg-yellow-600 hover:bg-yellow-700":"bg-gray-700 hover:bg-gray-600"}`,children:c.flash_enabled?e.jsx(w0,{className:"w-5 h-5"}):e.jsx(w0,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>p(v=>({...v,active:!v.active})),className:"p-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",children:e.jsx(Yw,{className:"w-5 h-5"})})]})]})})}),e.jsx("div",{className:"relative aspect-[4/3] bg-black",children:c.permission_granted?e.jsxs(e.Fragment,{children:[e.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),e.jsx("canvas",{ref:n,className:"hidden"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"w-64 h-48 border-2 border-white border-opacity-50 rounded-lg relative",children:[e.jsx("div",{className:"absolute top-0 left-0 w-6 h-6 border-t-4 border-l-4 border-blue-500 rounded-tl-lg"}),e.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 border-t-4 border-r-4 border-blue-500 rounded-tr-lg"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-6 h-6 border-b-4 border-l-4 border-blue-500 rounded-bl-lg"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 border-b-4 border-r-4 border-blue-500 rounded-br-lg"}),c.scanning&&e.jsx("div",{className:"absolute inset-x-0 top-1/2 h-0.5 bg-blue-500 animate-pulse"})]}),e.jsx("div",{className:"absolute -bottom-16 left-1/2 transform -translate-x-1/2 text-center",children:e.jsx("p",{className:"text-white text-sm opacity-80",children:c.scanning?"Scanning...":"Position barcode within frame"})})]})}),m.barcode&&e.jsx("div",{className:"absolute top-4 left-4 right-4",children:e.jsx("div",{className:"bg-black bg-opacity-70 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(nN,{className:"w-5 h-5 text-green-400"}),e.jsxs("span",{className:"text-sm font-medium",children:["Detected: ",m.barcode]}),q||B?e.jsx(kt,{className:"w-4 h-4 animate-spin"}):e.jsx(ss,{className:"w-4 h-4 text-green-400"})]})})})]}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Lg,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Camera Access Required"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"Enable camera access to scan barcodes"}),e.jsx("button",{onClick:I,className:"bg-blue-600 hover:bg-blue-700 px-6 py-2 rounded-lg font-medium transition-colors",children:"Enable Camera"})]})})}),h.active&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 m-4 w-full max-w-sm",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Enter Barcode Manually"}),e.jsx("input",{type:"text",value:h.barcode_input,onChange:v=>p($=>({...$,barcode_input:v.target.value})),placeholder:"Enter barcode number",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0}),e.jsxs("div",{className:"flex space-x-3 mt-4",children:[e.jsx("button",{onClick:O,disabled:!h.barcode_input.trim()||q,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed px-4 py-2 rounded-lg font-medium transition-colors",children:q?"Searching...":"Search"}),e.jsx("button",{onClick:()=>p(v=>({...v,active:!1,barcode_input:""})),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg font-medium transition-colors",children:"Cancel"})]})]})}),e.jsxs("div",{className:"flex-1 bg-white text-gray-900",children:[l.id&&e.jsxs("div",{className:"bg-blue-50 border-b border-blue-200 px-4 py-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(vr,{className:"w-5 h-5 text-blue-600"}),e.jsxs("span",{className:"font-medium text-blue-900",children:["Auto-add to BOM: ",l.title]})]}),e.jsx("label",{className:"flex items-center",children:e.jsx("input",{type:"checkbox",checked:y.enabled,onChange:v=>b($=>({...$,enabled:v.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})})]}),y.enabled&&e.jsxs("div",{className:"flex items-center space-x-3 mt-2",children:[e.jsx("input",{type:"number",value:y.quantity,onChange:v=>b($=>({...$,quantity:Math.max(1,Number(v.target.value))})),min:"1",className:"w-20 px-3 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsxs("select",{value:y.unit,onChange:v=>b($=>({...$,unit:v.target.value})),className:"px-3 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"piece",children:"Piece"}),e.jsx("option",{value:"kg",children:"Kg"}),e.jsx("option",{value:"meter",children:"Meter"}),e.jsx("option",{value:"liter",children:"Liter"})]})]})]}),(x.matched_variants.length>0||x.alternative_suggestions.length>0)&&e.jsxs("div",{className:"p-4",children:[x.matched_variants.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[e.jsx(ss,{className:"w-5 h-5 text-green-600 mr-2"}),"Product Found"]}),x.matched_variants.map(v=>{var $,K;return e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-lg",children:($=v.product)==null?void 0:$.canonical_name}),v.brand&&e.jsxs("p",{className:"text-gray-600",children:["Brand: ",v.brand]}),v.size&&e.jsxs("p",{className:"text-gray-600",children:["Size: ",v.size]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Barcode: ",v.barcode]})]}),v.image_url&&e.jsx("img",{src:v.image_url,alt:(K=v.product)==null?void 0:K.canonical_name,className:"w-16 h-16 object-cover rounded-lg"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[e.jsxs(Z,{to:`/product/${v.product_id}?quantity=${y.quantity}`,className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:[e.jsx(ys,{className:"w-4 h-4"}),e.jsx("span",{children:"View Details"})]}),e.jsxs("button",{onClick:A,className:"flex items-center space-x-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:[e.jsx(eo,{className:"w-4 h-4"}),e.jsx("span",{children:"Compare Prices"})]}),e.jsxs("button",{onClick:()=>C(),disabled:P,className:"flex items-center space-x-2 bg-orange-600 hover:bg-orange-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:[e.jsx(Et,{className:"w-4 h-4"}),e.jsx("span",{children:"Check Availability"})]}),l.id&&!y.enabled&&e.jsxs("button",{onClick:()=>N(v),disabled:S.isPending,className:"flex items-center space-x-2 bg-purple-600 hover:bg-purple-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:[e.jsx(ps,{className:"w-4 h-4"}),e.jsx("span",{children:"Add to BOM"})]})]})]},v.id)})]}),x.shop_availability&&x.shop_availability.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Nearby Availability"}),e.jsx("div",{className:"space-y-2",children:x.shop_availability.map((v,$)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:v.shop.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[v.in_stock?e.jsx("span",{className:"text-green-600",children:"In Stock"}):e.jsx("span",{className:"text-red-600",children:"Out of Stock"}),v.stock_quantity&&` (${v.stock_quantity} available)`]})]}),v.price&&e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"font-semibold",children:["AED ",v.price.toFixed(2)]})})]},$))})]}),x.alternative_suggestions.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[e.jsx(es,{className:"w-5 h-5 text-orange-600 mr-2"}),"Similar Products"]}),e.jsx("div",{className:"space-y-3",children:x.alternative_suggestions.slice(0,3).map(v=>{var $;return e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:($=v.product)==null?void 0:$.canonical_name}),v.brand&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Brand: ",v.brand]})]}),e.jsx(Z,{to:`/product/${v.product_id}`,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View →"})]})},v.id)})})]})]}),m.barcode&&!q&&!B&&x.matched_variants.length===0&&x.alternative_suggestions.length===0&&e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(es,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Product Not Found"}),e.jsxs("p",{className:"text-gray-500 mb-4",children:["No products found for barcode: ",m.barcode]}),e.jsxs(Z,{to:`/search?q=${m.barcode}`,className:"inline-flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:[e.jsx(ys,{className:"w-4 h-4"}),e.jsx("span",{children:"Search Manually"})]})]})}),w.length>0&&e.jsxs("div",{className:"border-t border-gray-200 p-4",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[e.jsx(Kw,{className:"w-5 h-5 mr-2"}),"Recent Scans"]}),e.jsx("div",{className:"space-y-2",children:w.slice(-3).reverse().map((v,$)=>e.jsx("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:v.product_name||v.barcode}),e.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(v.scanned_at).toLocaleTimeString()," • ",v.action_taken]})]})},$))})]})]})]})})},P5=()=>{const[t]=nt(),s=W(L=>L.current_bom),r=W(L=>L.user_location),n=W(L=>L.app_preferences.currency),[a,i]=u.useState([]),[l,o]=u.useState(""),[c,d]=u.useState(!1),[m,f]=u.useState(10),x=t.get("bom_id"),j=t.get("shop_ids"),{data:y,isLoading:b}=ce({queryKey:["nearby-shops",r==null?void 0:r.coordinates],queryFn:async()=>r!=null&&r.coordinates?(await G.get("http://localhost:3000/api/shops/near-me",{params:{lat:r.coordinates.lat,lng:r.coordinates.lng,radius:20,limit:50}})).data.shops||[]:[],enabled:!!(r!=null&&r.coordinates),staleTime:5*60*1e3}),{data:w}=ce({queryKey:["bom-details",x],queryFn:async()=>(await G.get(`http://localhost:3000/api/boms/${x}`,{headers:{Authorization:`Bearer ${W.getState().authentication_state.auth_token}`}})).data,enabled:!!x,staleTime:5*60*1e3}),g=xe({mutationFn:async L=>(await G.post("http://localhost:3000/api/trip-planner",L,{headers:{Authorization:`Bearer ${W.getState().authentication_state.auth_token}`}})).data});u.useEffect(()=>{if(j&&y){const L=j.split(","),q=y.filter(D=>L.includes(D.id));i(q)}},[j,y]);const h=L=>{a.find(q=>q.id===L.id)||i(q=>[...q,L]),d(!1)},p=L=>{i(q=>q.filter(D=>D.id!==L))},k=()=>{a.length<2||g.mutate({bom_id:x||s.id||void 0,shop_ids:a.map(L=>L.id),start_location:(r==null?void 0:r.coordinates)||void 0,return_to_start:!0})},E=(L,q)=>{const D=[...a],[R]=D.splice(L,1);D.splice(q,0,R),i(D)},_=(()=>{const L=g.data;if(!L)return{total:0,contingency:0};const q=L.summary.total_cash_needed,D=q*(m/100);return{total:q,contingency:D}})(),T=(y==null?void 0:y.filter(L=>L.name.toLowerCase().includes(l.toLowerCase())||L.address.toLowerCase().includes(l.toLowerCase())))||[];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Trip Planner"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Plan your optimal route for material procurement"}),w&&e.jsxs("div",{className:"mt-2 inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:[e.jsx(au,{className:"w-4 h-4 mr-1"}),w.title," (",w.item_count," items)"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(Z,{to:"/map",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(rl,{className:"w-4 h-4 mr-2"}),"Map View"]}),e.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center px-4 py-2 rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:[e.jsx(zt,{className:"w-4 h-4 mr-2"}),"Add Shops"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Selected Shops"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[a.length," shop",a.length!==1?"s":""," selected"]})]})}),e.jsx("div",{className:"p-6",children:a.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(rl,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No shops selected yet"}),e.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center px-4 py-2 rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:[e.jsx(zt,{className:"w-4 h-4 mr-2"}),"Add Your First Shop"]})]}):e.jsxs("div",{className:"space-y-4",children:[a.map((L,q)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",draggable:!0,onDragStart:D=>D.dataTransfer.setData("text/plain",q.toString()),onDragOver:D=>D.preventDefault(),onDrop:D=>{D.preventDefault();const R=parseInt(D.dataTransfer.getData("text/plain"));E(R,q)},children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-600 font-semibold text-sm",children:q+1}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:L.name}),L.verified&&e.jsx(or,{className:"w-4 h-4 text-green-500"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:L.address}),L.distance_km&&e.jsxs("p",{className:"text-xs text-gray-400",children:[L.distance_km.toFixed(1),"km away"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(YN,{className:"w-5 h-5 text-gray-400 cursor-grab"}),e.jsx("button",{onClick:()=>p(L.id),className:"p-1 text-red-400 hover:text-red-600 transition-colors",children:e.jsx(da,{className:"w-4 h-4"})})]})]},L.id)),a.length>=2&&e.jsx("div",{className:"pt-4",children:e.jsx("button",{onClick:k,disabled:g.isPending,className:"w-full flex items-center justify-center px-4 py-3 rounded-lg text-sm font-medium text-white bg-green-600 hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Za,{className:"w-4 h-4 mr-2 animate-spin"}),"Optimizing Route..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Za,{className:"w-4 h-4 mr-2"}),"Optimize Route"]})})})]})})]}),g.data&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Optimized Route"})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx(Ka,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Time"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[Math.round(g.data.route.estimated_duration_minutes)," min"]})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx(rl,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Distance"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[g.data.route.total_distance_km.toFixed(1)," km"]})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx(au,{className:"w-6 h-6 text-purple-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Items"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:g.data.summary.total_items})]})]}),e.jsx("div",{className:"space-y-4",children:g.data.route.stops.map(L=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-blue-600 text-white text-sm font-semibold",children:L.order}),e.jsx("h3",{className:"font-medium text-gray-900",children:L.shop.name})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[L.estimated_time_minutes," min"]})]}),e.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Items: ",L.items_to_buy.length," • Cash needed: ",n," ",L.estimated_cash_needed.toFixed(2)]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-500",children:[L.items_to_buy.slice(0,4).map((q,D)=>e.jsxs("div",{children:[q.product_name," (",q.quantity,")"]},D)),L.items_to_buy.length>4&&e.jsxs("div",{className:"text-blue-600",children:["+",L.items_to_buy.length-4," more items"]})]})]},L.shop.id))})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Cash Planning"})}),e.jsx("div",{className:"p-6",children:g.data?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Estimated Total"}),e.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:[n," ",g.data.summary.total_estimated_cost.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Cash Needed"}),e.jsxs("span",{className:"text-lg font-semibold text-blue-900",children:[n," ",_.total.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Contingency Buffer (",m,"%)"]}),e.jsx("input",{type:"range",min:"5",max:"25",value:m,onChange:L=>f(Number(L.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg mt-2",children:[e.jsx("span",{className:"text-sm font-medium text-yellow-700",children:"+ Contingency"}),e.jsxs("span",{className:"text-lg font-semibold text-yellow-900",children:[n," ",_.contingency.toFixed(2)]})]})]}),e.jsx("div",{className:"border-t border-gray-200 pt-4",children:e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium text-green-700",children:"Total Cash Required"}),e.jsxs("span",{className:"text-xl font-bold text-green-900",children:[n," ",(_.total+_.contingency).toFixed(2)]})]})}),g.data.summary.potential_savings>0&&e.jsxs("div",{className:"flex items-center p-3 bg-green-100 rounded-lg",children:[e.jsx(or,{className:"w-5 h-5 text-green-600 mr-2"}),e.jsxs("span",{className:"text-sm text-green-700",children:["Potential savings: ",n," ",g.data.summary.potential_savings.toFixed(2)]})]})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(Vg,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Select shops and optimize route to see cash requirements"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Actions"})}),e.jsxs("div",{className:"p-6 space-y-3",children:[e.jsxs("button",{className:"w-full flex items-center justify-center px-4 py-3 rounded-lg text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 transition-colors",disabled:!g.data,children:[e.jsx(j_,{className:"w-4 h-4 mr-2"}),"Generate Shopping Lists"]}),e.jsxs("button",{className:"w-full flex items-center justify-center px-4 py-3 rounded-lg text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 transition-colors",disabled:!g.data,children:[e.jsx(ho,{className:"w-4 h-4 mr-2"}),"Share Trip Plan"]}),e.jsxs("button",{className:"w-full flex items-center justify-center px-4 py-3 rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors",disabled:!g.data,children:[e.jsx(rl,{className:"w-4 h-4 mr-2"}),"Start Navigation"]})]})]})]})]})]}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add Shops to Route"}),e.jsx("button",{onClick:()=>d(!1),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(da,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"mt-4",children:e.jsx("input",{type:"text",placeholder:"Search shops by name or location...",value:l,onChange:L=>o(L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-96",children:b?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Za,{className:"w-8 h-8 text-blue-600 mx-auto mb-3 animate-spin"}),e.jsx("p",{className:"text-gray-500",children:"Loading nearby shops..."})]}):T.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Bo,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No shops found matching your criteria"})]}):e.jsx("div",{className:"space-y-3",children:T.map(L=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:L.name}),L.verified&&e.jsx(or,{className:"w-4 h-4 text-green-500"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:L.address}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[L.distance_km&&e.jsxs("span",{className:"text-xs text-gray-400",children:[L.distance_km.toFixed(1),"km away"]}),e.jsxs("span",{className:"text-xs text-gray-400",children:["⭐ ",L.rating_average.toFixed(1)]})]})]}),e.jsx("button",{onClick:()=>h(L),disabled:a.some(q=>q.id===L.id),className:"ml-4 px-3 py-1 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed rounded-lg transition-colors",children:a.some(q=>q.id===L.id)?"Added":"Add"})]},L.id))})})]})})]})})},A5=()=>{const[t,s]=nt(),r=t.get("section")||"business",n=W(L=>L.authentication_state.current_user),a=W(L=>L.authentication_state.auth_token),[i,l]=u.useState({}),[o,c]=u.useState([""]),[d,m]=u.useState(!1),[f,x]=u.useState(!1),j=Je(),{data:y,isLoading:b,error:w}=ce({queryKey:["shop-settings",n==null?void 0:n.id],queryFn:async()=>{if(!(n!=null&&n.id)||!a)throw new Error("Authentication required");const L=await G.get(`http://localhost:3000/api/shops?user_id=${n.id}`,{headers:{Authorization:`Bearer ${a}`}});if(!L.data.shops||L.data.shops.length===0)throw new Error("No shop found for this user");const q=L.data.shops[0];return(await G.get(`http://localhost:3000/api/shops/${q.id}`,{headers:{Authorization:`Bearer ${a}`}})).data},enabled:!!(n!=null&&n.id)&&!!a,staleTime:3e4,refetchOnWindowFocus:!1}),g=xe({mutationFn:async L=>{if(!(y!=null&&y.id)||!a)throw new Error("Shop ID and authentication required");return(await G.put(`http://localhost:3000/api/shops/${y.id}`,L,{headers:{Authorization:`Bearer ${a}`}})).data},onSuccess:()=>{j.invalidateQueries({queryKey:["shop-settings"]}),m(!1),x(!0),setTimeout(()=>x(!1),3e3)},onError:L=>{console.error("Failed to update shop:",L)}});u.useEffect(()=>{y&&(l({name:y.name,phones:y.phones,location_lat:y.location_lat,location_lng:y.location_lng,address:y.address,hours:y.hours,business_license:y.business_license,shop_type:y.shop_type,delivery_available:y.delivery_available,delivery_radius:y.delivery_radius,delivery_fee_base:y.delivery_fee_base,delivery_fee_per_km:y.delivery_fee_per_km,minimum_order:y.minimum_order,cash_discount_percentage:y.cash_discount_percentage}),c(y.phones.length>0?y.phones:[""]))},[y]);const h=L=>{s({section:L})},p=(L,q)=>{l(D=>({...D,[L]:q})),m(!0)},k=(L,q)=>{const D=[...o];D[L]=q,c(D),p("phones",D.filter(R=>R.trim()!==""))},E=()=>{c([...o,""])},I=L=>{const q=o.filter((D,R)=>R!==L);c(q),p("phones",q.filter(D=>D.trim()!==""))},_=L=>{L.preventDefault(),g.mutate(i)},T=[{id:"business",label:"Business Info",icon:"🏪"},{id:"contact",label:"Contact & Location",icon:"📍"},{id:"hours",label:"Operating Hours",icon:"🕐"},{id:"policies",label:"Delivery & Policies",icon:"📋"},{id:"integration",label:"Integration",icon:"⚙️"},{id:"marketing",label:"Marketing",icon:"📈"}];return b?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):w||!y?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md w-full mx-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:"❌"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Shop Not Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No shop is associated with your account. Please create a shop first."}),e.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Shop"})]})})})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[e.jsx("div",{className:"bg-white shadow-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Shop Settings"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your business configuration and platform integration"})]}),y.verified&&e.jsxs("div",{className:"flex items-center space-x-2 bg-green-50 text-green-700 px-3 py-1 rounded-full",children:[e.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full"}),e.jsx("span",{className:"text-sm font-medium",children:"Verified"})]})]})})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex space-x-8 overflow-x-auto",children:T.map(L=>e.jsxs("button",{onClick:()=>h(L.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors whitespace-nowrap ${r===L.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("span",{children:L.icon}),e.jsx("span",{children:L.label})]},L.id))})})}),f&&e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"✅"}),e.jsx("span",{children:"Settings saved successfully!"})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("form",{onSubmit:_,className:"space-y-8",children:[r==="business"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Business Information"}),e.jsx("p",{className:"text-gray-600",children:"Basic information about your business"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shop Name *"}),e.jsx("input",{type:"text",value:i.name||"",onChange:L=>p("name",L.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"Enter your shop name",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type"}),e.jsxs("select",{value:i.shop_type||"",onChange:L=>p("shop_type",L.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"",children:"Select business type"}),e.jsx("option",{value:"hardware_store",children:"Hardware Store"}),e.jsx("option",{value:"building_materials",children:"Building Materials"}),e.jsx("option",{value:"electrical_supplies",children:"Electrical Supplies"}),e.jsx("option",{value:"plumbing_supplies",children:"Plumbing Supplies"}),e.jsx("option",{value:"paint_supplies",children:"Paint & Supplies"}),e.jsx("option",{value:"tools_equipment",children:"Tools & Equipment"}),e.jsx("option",{value:"general_contractor",children:"General Contractor"}),e.jsx("option",{value:"specialty_supplier",children:"Specialty Supplier"})]})]}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business License Number"}),e.jsx("input",{type:"text",value:i.business_license||"",onChange:L=>p("business_license",L.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"Enter your business license number"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Required for verification and enhanced trust features"})]})]})]}),r==="contact"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Contact & Location"}),e.jsx("p",{className:"text-gray-600",children:"Contact information and business location"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Numbers"}),e.jsxs("div",{className:"space-y-3",children:[o.map((L,q)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"tel",value:L,onChange:D=>k(q,D.target.value),className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"+971 50 123 4567"}),o.length>1&&e.jsx("button",{type:"button",onClick:()=>I(q),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"❌"})]},q)),e.jsx("button",{type:"button",onClick:E,className:"text-blue-600 hover:text-blue-700 font-medium text-sm transition-colors",children:"+ Add another phone number"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Address *"}),e.jsx("textarea",{value:i.address||"",onChange:L=>p("address",L.target.value),rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"Enter your complete business address",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude *"}),e.jsx("input",{type:"number",step:"any",value:i.location_lat||"",onChange:L=>p("location_lat",parseFloat(L.target.value)),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"25.2048",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude *"}),e.jsx("input",{type:"number",step:"any",value:i.location_lng||"",onChange:L=>p("location_lng",parseFloat(L.target.value)),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"55.2708",required:!0})]})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"📍 Location coordinates help customers find your shop and calculate delivery distances"})]})]}),r==="hours"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Operating Hours"}),e.jsx("p",{className:"text-gray-600",children:"Set your business hours and availability"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-7 gap-4",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(L=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:L}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"time",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-100 text-sm",placeholder:"Open"}),e.jsx("input",{type:"time",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-100 text-sm",placeholder:"Close"}),e.jsxs("label",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("input",{type:"checkbox",className:"mr-2"}),"Closed"]})]})]},L))}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Special Hours & Holidays"}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-blue-700 text-sm",children:["💡 ",e.jsx("strong",{children:"Coming Soon:"})," Holiday schedules and special event hours will be available in the next update."]})})]})]})]}),r==="policies"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Delivery & Policies"}),e.jsx("p",{className:"text-gray-600",children:"Configure delivery options and business policies"})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Delivery Options"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"delivery_available",checked:i.delivery_available||!1,onChange:L=>p("delivery_available",L.target.checked),className:"w-5 h-5 text-blue-600 border-2 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"delivery_available",className:"text-sm font-medium text-gray-700",children:"Offer delivery services"})]}),i.delivery_available&&e.jsx("div",{className:"ml-8 space-y-4 border-l-4 border-blue-200 pl-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Radius (km)"}),e.jsx("input",{type:"number",min:"0",step:"0.1",value:i.delivery_radius||"",onChange:L=>p("delivery_radius",parseFloat(L.target.value)),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"25"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Base Delivery Fee (AED)"}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:i.delivery_fee_base||"",onChange:L=>p("delivery_fee_base",parseFloat(L.target.value)),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"50.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Per KM Fee (AED)"}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:i.delivery_fee_per_km||"",onChange:L=>p("delivery_fee_per_km",parseFloat(L.target.value)),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"5.00"})]})]})})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Policies"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Order Amount (AED)"}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:i.minimum_order||"",onChange:L=>p("minimum_order",parseFloat(L.target.value)),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"100.00"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Set 0 for no minimum order"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cash Discount (%)"}),e.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:i.cash_discount_percentage||"",onChange:L=>p("cash_discount_percentage",parseFloat(L.target.value)),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"2.5"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Discount for cash payments"})]})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Policies"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Return Policy"}),e.jsx("p",{className:"text-blue-700 text-sm",children:"Configure return windows, conditions, and restocking fees. Coming in next update."})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Credit Terms"}),e.jsx("p",{className:"text-green-700 text-sm",children:"Set payment terms and credit limits for business customers. Coming in next update."})]})]})]})]})]}),r==="integration"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Platform Integration"}),e.jsx("p",{className:"text-gray-600",children:"Connect your existing systems and automate operations"})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Payment Methods"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["Cash","Credit Card","Bank Transfer","Mobile Payment"].map(L=>e.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg",children:[e.jsx("input",{type:"checkbox",id:L,className:"w-5 h-5 text-blue-600 border-2 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:L,className:"text-sm font-medium text-gray-700",children:L})]},L))})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"POS System Integration"}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Inventory Synchronization"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Automatically sync stock levels and pricing"})]}),e.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Connect POS"})]}),e.jsx("div",{className:"text-sm text-gray-500",children:e.jsx("p",{children:"📊 Supported systems: Square, Shopify POS, Toast POS, and custom API integrations"})})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Automated Pricing"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:"🤖 Smart Pricing (Beta)"}),e.jsx("p",{className:"text-yellow-700 text-sm mb-3",children:"Automatically adjust prices based on competitor monitoring and market conditions"}),e.jsx("button",{className:"bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 transition-colors text-sm",children:"Enable Smart Pricing"})]})})]})]})]}),r==="marketing"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Marketing & Promotions"}),e.jsx("p",{className:"text-gray-600",children:"Optimize your shop visibility and customer engagement"})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"SEO & Visibility"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"📈 Search Ranking"}),e.jsx("p",{className:"text-blue-700 text-sm mb-3",children:"Current ranking: Top 15% in your category"}),e.jsx("div",{className:"bg-blue-100 rounded-full h-2 mb-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"75%"}})}),e.jsx("p",{className:"text-blue-600 text-xs",children:"Optimization Score: 75/100"})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"🌟 Customer Rating"}),e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:"text-2xl font-bold text-green-700",children:y.rating_average.toFixed(1)}),e.jsxs("div",{className:"flex text-yellow-400",children:["★".repeat(Math.floor(y.rating_average)),"☆".repeat(5-Math.floor(y.rating_average))]})]}),e.jsxs("p",{className:"text-green-600 text-sm",children:[y.rating_count," reviews"]})]})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Photo Gallery"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:"📸"})}),e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Upload Shop Photos"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Add photos of your shop, products, and team to build customer trust"}),e.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Upload Photos"})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Promotions & Offers"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"🎉 Special Offers"}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Create time-limited promotions and discounts"}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700 font-medium text-sm",children:"Create Promotion"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"🏆 Loyalty Program"}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Reward repeat customers with points and discounts"}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700 font-medium text-sm",children:"Setup Loyalty"})]})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Review Management"}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Customer Feedback"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Monitor and respond to customer reviews"})]}),e.jsx("button",{className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"View Reviews"})]}),e.jsx("div",{className:"text-sm text-gray-500",children:e.jsx("p",{children:"💡 Responding to reviews increases customer trust by 25% on average"})})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[d&&e.jsxs("div",{className:"flex items-center text-orange-600",children:[e.jsx("span",{className:"w-2 h-2 bg-orange-400 rounded-full mr-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Unsaved changes"})]}),g.error&&e.jsxs("div",{className:"text-red-600 text-sm",children:["❌ Error saving changes: ",g.error.message]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:g.isPending,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:!d||g.isPending,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:g.isPending?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Changes"})]})]})]})})]})})},R5=async t=>{var r;const s=new URLSearchParams;t.status&&s.append("status",t.status),t.date_from&&s.append("date_from",t.date_from),t.date_to&&s.append("date_to",t.date_to),t.shop_id&&s.append("shop_id",t.shop_id),t.limit&&s.append("limit",t.limit.toString()),t.offset&&s.append("offset",t.offset.toString());try{return(await G.get(`http://localhost:3000/api/orders?${s}`,{headers:{Authorization:`Bearer ${t.auth_token}`}})).data}catch(n){if(((r=n.response)==null?void 0:r.status)===404)return{orders:[],total:0,limit:t.limit||10,offset:t.offset||0};throw n}},M5=async t=>{var s;try{return(await G.post(`http://localhost:3000/api/orders/${t.order_id}/reorder`,{},{headers:{Authorization:`Bearer ${t.auth_token}`}})).data}catch(r){if(((s=r.response)==null?void 0:s.status)===404)return{bom_id:"bom_"+Date.now()};throw r}},L5=()=>{const t=W(S=>S.authentication_state.current_user),s=W(S=>S.authentication_state.auth_token),r=W(S=>S.app_preferences.currency),n=W(S=>S.create_bom),[a,i]=u.useState(""),[l,o]=u.useState(""),[c,d]=u.useState(""),[m,f]=u.useState(""),[x,j]=u.useState(""),[y,b]=u.useState(1),[w,g]=u.useState(new Set),[h,p]=u.useState(!1),k=10,E=Je(),{data:I,isLoading:_,error:T,refetch:L}=ce({queryKey:["orders",a,l,c,m,y],queryFn:()=>R5({status:a||void 0,date_from:l||void 0,date_to:c||void 0,shop_id:m||void 0,limit:k,offset:(y-1)*k,auth_token:s}),enabled:!!s,staleTime:30*1e3,refetchOnWindowFocus:!1}),q=xe({mutationFn:M5,onSuccess:async S=>{E.invalidateQueries({queryKey:["orders"]});try{await n({title:`Reorder - ${new Date().toLocaleDateString()}`,description:`Recreated from order ${S.bom_id}`,project_type:"reorder"}),window.location.href="/bom"}catch(z){console.error("Failed to create BOM:",z),window.location.href="/bom"}},onError:S=>{console.error("Reorder failed:",S)}}),D=u.useMemo(()=>{if(!(I!=null&&I.orders)||!x)return(I==null?void 0:I.orders)||[];const S=x.toLowerCase();return I.orders.filter(z=>z.shop_name.toLowerCase().includes(S)||z.id.toLowerCase().includes(S)||z.items.some(O=>{var N;return O.product_name.toLowerCase().includes(S)||((N=O.brand)==null?void 0:N.toLowerCase().includes(S))}))},[I==null?void 0:I.orders,x]),R=S=>new Date(S).toLocaleDateString("en-AE",{year:"numeric",month:"short",day:"numeric"}),B=(S,z=r)=>new Intl.NumberFormat("en-AE",{style:"currency",currency:z,minimumFractionDigits:2}).format(S),Y=S=>{s&&q.mutate({order_id:S,auth_token:s})},U=()=>{w.size===D.length?g(new Set):g(new Set(D.map(S=>S.id)))},P=S=>{const z=w.size>0?D.filter(O=>w.has(O.id)):D;if(console.log(`Exporting ${z.length} orders as ${S}`),S==="excel"){const O=["Order ID,Shop,Date,Status,Payment Status,Total Amount",...z.map(Q=>`${Q.id},${Q.shop_name},${R(Q.order_date)},${Q.status},${Q.payment_status},${Q.total_amount}`)].join(`
`),N=new Blob([O],{type:"text/csv"}),A=window.URL.createObjectURL(N),M=document.createElement("a");M.href=A,M.download=`orders-export-${new Date().toISOString().split("T")[0]}.csv`,M.click(),window.URL.revokeObjectURL(A)}},C=()=>{i(""),o(""),d(""),f(""),j(""),b(1)};return!t||!s?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Authentication Required"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Please log in to view your order history."}),e.jsx(Z,{to:"/login",className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Sign In"})]})})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Order History"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage your purchase transactions"})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{onClick:()=>p(!h),className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"})}),h?"Hide Filters":"Show Filters"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>P("pdf"),disabled:D.length===0,className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export PDF"]}),e.jsxs("button",{onClick:()=>P("excel"),disabled:D.length===0,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export Excel"]})]})]})]})})}),h&&e.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:a,onChange:S=>{i(S.target.value),b(1)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"delivered",children:"Delivered"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Date"}),e.jsx("input",{type:"date",value:l,onChange:S=>{o(S.target.value),b(1)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date"}),e.jsx("input",{type:"date",value:c,onChange:S=>{d(S.target.value),b(1)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),e.jsx("input",{type:"text",placeholder:"Search orders, shops, products...",value:x,onChange:S=>j(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:I?`Showing ${D.length} of ${I.total} orders`:"Loading..."}),e.jsx("button",{onClick:C,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Clear All Filters"})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:_?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):T?e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"Error Loading Orders"}),e.jsx("p",{className:"text-red-600 mb-4",children:"Unable to fetch your order history. This feature may not be available yet."}),e.jsx("button",{onClick:()=>L(),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Retry"})]}):D.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-24 w-24 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),e.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No Orders Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:a||l||c||x?"No orders match your current filters.":"You haven't placed any orders yet. Start exploring our products!"}),a||l||c||x?e.jsx("button",{onClick:C,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Clear Filters"}):e.jsx(Z,{to:"/search",className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Start Shopping"})]}):e.jsxs("div",{className:"space-y-6",children:[w.size>0&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-blue-800 font-medium",children:[w.size," order",w.size!==1?"s":""," selected"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>P("pdf"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Export Selected PDF"}),e.jsx("button",{onClick:()=>P("excel"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Export Selected Excel"}),e.jsx("button",{onClick:()=>g(new Set),className:"text-red-600 hover:text-red-700 font-medium",children:"Clear Selection"})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:w.size===D.length&&D.length>0,onChange:U,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsxs("label",{className:"ml-3 text-sm font-medium text-gray-700",children:["Select All (",D.length," orders)"]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Order #ORD001234"}),e.jsx("p",{className:"text-gray-600",children:"Al Mansoori Building Materials"}),e.jsx("p",{className:"text-sm text-gray-500",children:R(Date.now()-864e5)})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Delivered"}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Payment: Paid"})]}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:B(1275.5)})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Items (3)"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Portland Cement 50kg",e.jsx("span",{className:"text-gray-500 ml-1",children:"(CEMEX)"})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["20 bag × ",B(25.5)]})]}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:B(510)})]}),e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Steel Rebar 12mm",e.jsx("span",{className:"text-gray-500 ml-1",children:"(Hadeed)"})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["50 pc × ",B(12.5)]})]}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:B(625)})]}),e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Sand Fine Grade",e.jsx("span",{className:"text-gray-500 ml-1",children:"(Local)"})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["2 ton × ",B(70.25)]})]}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:B(140.5)})]})]})]}),e.jsx("div",{className:"border-t border-gray-200 pt-4 mt-4",children:e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("button",{onClick:()=>Y("demo-order"),disabled:q.isPending,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:q.isPending?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating BOM..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reorder"]})}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Invoice"]}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Receipt"]}),e.jsxs(Z,{to:"/compare",className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Compare Prices"]})]})}),e.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Delivery Information"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Delivery Date"}),e.jsx("p",{className:"font-medium",children:R(Date.now()-432e5)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Delivery Address"}),e.jsx("p",{className:"font-medium",children:"Al Barsha Construction Site, Dubai"})]})]})]})]})})]})]})})]})})},T5=()=>{const t=W(P=>P.authentication_state.auth_token),s=W(P=>P.app_preferences.currency),r=W(P=>P.app_preferences.language),n=W(P=>P.load_bom),[a,i]=u.useState("grid"),[l,o]=u.useState(!1),[c,d]=u.useState(!1),[m,f]=u.useState(!1),[x,j]=u.useState({search:"",project_type:"",status:"",sort_by:"updated_at",sort_order:"desc"}),y=Je(),{data:b,isLoading:w,error:g}=ce({queryKey:["user-boms",x],queryFn:async()=>{if(!t)throw new Error("No auth token");const P=new URLSearchParams({limit:"50",offset:"0",sort_by:x.sort_by,sort_order:x.sort_order,...x.search&&{query:x.search},...x.project_type&&{project_type:x.project_type},...x.status&&{status:x.status}});return(await G.get(`http://localhost:3000/api/boms?${P}`,{headers:{Authorization:`Bearer ${t}`}})).data},enabled:!!t,staleTime:6e4,refetchOnWindowFocus:!1,retry:1,select:P=>({boms:P.boms||[],total:Number(P.total||0)})}),{data:h}=ce({queryKey:["bom-templates"],queryFn:async()=>({templates:[{id:"residential_foundation",name:"Residential Foundation",description:"Complete material list for residential foundation construction",project_type:"residential",estimated_items:15,estimated_cost:25e3},{id:"commercial_framing",name:"Commercial Framing",description:"Steel and concrete framing for commercial buildings",project_type:"commercial",estimated_items:32,estimated_cost:85e3},{id:"villa_finishing",name:"Villa Finishing Works",description:"Complete finishing materials for luxury villa",project_type:"residential",estimated_items:45,estimated_cost:12e4},{id:"warehouse_construction",name:"Warehouse Construction",description:"Industrial warehouse construction materials",project_type:"industrial",estimated_items:28,estimated_cost:65e3}]}),staleTime:3e5}),p=xe({mutationFn:async P=>{if(!t)throw new Error("No auth token");return(await G.post("http://localhost:3000/api/boms",P,{headers:{Authorization:`Bearer ${t}`}})).data},onSuccess:P=>{y.invalidateQueries({queryKey:["user-boms"]}),f(!1),n(P.id)}}),k=xe({mutationFn:async({bomId:P,title:C})=>{if(!t)throw new Error("No auth token");return(await G.post(`http://localhost:3000/api/boms/${P}/duplicate`,{title:C},{headers:{Authorization:`Bearer ${t}`}})).data},onSuccess:()=>{y.invalidateQueries({queryKey:["user-boms"]})}}),E=xe({mutationFn:async P=>{if(!t)throw new Error("No auth token");await G.delete(`http://localhost:3000/api/boms/${P}`,{headers:{Authorization:`Bearer ${t}`}})},onSuccess:()=>{y.invalidateQueries({queryKey:["user-boms"]})}}),I=P=>new Intl.NumberFormat(r==="ar"?"ar-AE":"en-AE",{style:"currency",currency:s,minimumFractionDigits:0,maximumFractionDigits:0}).format(P),_=P=>new Date(P).toLocaleDateString(r==="ar"?"ar-AE":"en-AE",{year:"numeric",month:"short",day:"numeric"}),T=P=>{switch(P){case"completed":return"bg-green-100 text-green-800";case"active":return"bg-blue-100 text-blue-800";case"draft":return"bg-gray-100 text-gray-800";case"archived":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},L=P=>{switch(P){case"completed":return e.jsx(h5,{className:"h-4 w-4"});case"active":return e.jsx(Ka,{className:"h-4 w-4"});case"draft":return e.jsx(kl,{className:"h-4 w-4"});case"archived":return e.jsx(Y0,{className:"h-4 w-4"});default:return e.jsx(wr,{className:"h-4 w-4"})}},q=async P=>{try{await p.mutateAsync(P)}catch(C){console.error("Failed to create BOM:",C)}},D=async(P,C)=>{const S=`${C} (Copy)`;try{await k.mutateAsync({bomId:P,title:S})}catch(z){console.error("Failed to duplicate BOM:",z)}},R=async P=>{if(window.confirm("Are you sure you want to delete this project? This action cannot be undone."))try{await E.mutateAsync(P)}catch(C){console.error("Failed to delete BOM:",C)}},B=(b==null?void 0:b.boms)||[],Y=(b==null?void 0:b.total)||0,U={totalProjects:Y,activeProjects:B.filter(P=>P.status==="active").length,completedProjects:B.filter(P=>P.status==="completed").length,totalValue:B.reduce((P,C)=>P+C.total_cost,0),averageProjectValue:Y>0?B.reduce((P,C)=>P+C.total_cost,0)/Y:0};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[e.jsx("div",{className:"bg-white shadow-lg border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Project Portfolio"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your construction projects and BOMs"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>d(!c),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:"Analytics"}),e.jsxs("button",{onClick:()=>o(!l),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-blue-700 bg-blue-100 border border-blue-200 rounded-lg hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:[e.jsx(V0,{className:"h-4 w-4 mr-2"}),"Templates"]}),e.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-6 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsx(zt,{className:"h-4 w-4 mr-2"}),"New Project"]})]})]})})}),c&&e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Portfolio Analytics"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:U.totalProjects}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Projects"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:U.activeProjects}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active Projects"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:U.completedProjects}),e.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]}),e.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:I(U.totalValue)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Value"})]}),e.jsxs("div",{className:"text-center p-4 bg-indigo-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:I(U.averageProjectValue)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Avg. Project"})]})]})]})}),l&&e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Project Templates"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:h==null?void 0:h.templates.map(P=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:P.name}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:P.project_type})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:P.description}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-3",children:[e.jsxs("span",{children:[P.estimated_items," items"]}),e.jsx("span",{children:I(P.estimated_cost)})]}),e.jsx("button",{onClick:()=>q({title:`New ${P.name}`,project_type:P.project_type,template:P.id}),className:"w-full px-3 py-2 text-sm font-medium text-blue-700 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 transition-colors",children:"Use Template"})]},P.id))})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(Jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search projects...",value:x.search,onChange:P=>j(C=>({...C,search:P.target.value})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("select",{value:x.project_type,onChange:P=>j(C=>({...C,project_type:P.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"residential",children:"Residential"}),e.jsx("option",{value:"commercial",children:"Commercial"}),e.jsx("option",{value:"industrial",children:"Industrial"}),e.jsx("option",{value:"infrastructure",children:"Infrastructure"})]}),e.jsxs("select",{value:x.status,onChange:P=>j(C=>({...C,status:P.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"archived",children:"Archived"})]}),e.jsxs("select",{value:`${x.sort_by}_${x.sort_order}`,onChange:P=>{const[C,S]=P.target.value.split("_");j(z=>({...z,sort_by:C,sort_order:S}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"updated_at_desc",children:"Recently Updated"}),e.jsx("option",{value:"created_at_desc",children:"Recently Created"}),e.jsx("option",{value:"title_asc",children:"Name A-Z"}),e.jsx("option",{value:"title_desc",children:"Name Z-A"}),e.jsx("option",{value:"total_cost_desc",children:"Highest Value"}),e.jsx("option",{value:"total_cost_asc",children:"Lowest Value"})]}),e.jsxs("div",{className:"flex border border-gray-300 rounded-lg",children:[e.jsx("button",{onClick:()=>i("grid"),className:`px-3 py-2 text-sm font-medium rounded-l-lg transition-colors ${a==="grid"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:e.jsx(Wg,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>i("list"),className:`px-3 py-2 text-sm font-medium rounded-r-lg border-l transition-colors ${a==="list"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 hover:bg-gray-50 border-gray-300"}`,children:e.jsx(Hg,{className:"h-4 w-4"})})]})]})]})}),w&&e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading projects..."})]})}),g&&e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Y0,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Projects"}),e.jsx("p",{className:"text-gray-600",children:"Please try refreshing the page."})]})}),!w&&!g&&B.length===0&&e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(V0,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Projects Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:x.search||x.project_type||x.status?"No projects match your current filters.":"Start by creating your first construction project."}),e.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-6 py-3 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsx(zt,{className:"h-4 w-4 mr-2"}),"Create Your First Project"]})]})}),!w&&!g&&B.length>0&&e.jsx("div",{className:a==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:B.map(P=>e.jsx("div",{className:`bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-200 ${a==="list"?"flex items-center p-6":""}`,children:a==="grid"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1 line-clamp-2",children:P.title}),P.description&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:P.description})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${T(P.status)}`,children:[L(P.status),e.jsx("span",{className:"ml-1 capitalize",children:P.status})]}),e.jsx("div",{className:"relative",children:e.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 rounded-md",children:e.jsx(N_,{className:"h-5 w-5"})})})]})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Items:"}),e.jsx("span",{className:"font-medium text-gray-900",children:P.item_count})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Total Cost:"}),e.jsx("span",{className:"font-medium text-gray-900",children:I(P.total_cost)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Updated:"}),e.jsx("span",{className:"text-gray-500",children:_(P.updated_at)})]}),P.project_type&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Type:"}),e.jsx("span",{className:"text-gray-500 capitalize",children:P.project_type})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Z,{to:`/bom/${P.id}`,className:"flex-1 inline-flex items-center justify-center px-3 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:[e.jsx(kl,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsx("button",{onClick:()=>D(P.id,P.title),disabled:k.isPending,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors disabled:opacity-50",children:e.jsx(nu,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>R(P.id),disabled:E.isPending,className:"px-3 py-2 text-sm font-medium text-red-700 bg-red-100 border border-red-300 rounded-md hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors disabled:opacity-50",children:e.jsx(iu,{className:"h-4 w-4"})})]})]})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:P.title}),P.description&&e.jsx("p",{className:"text-sm text-gray-600 truncate",children:P.description})]}),e.jsxs("div",{className:"flex items-center gap-6 ml-6",children:[e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${T(P.status)}`,children:[L(P.status),e.jsx("span",{className:"ml-1 capitalize",children:P.status})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[P.item_count," items"]}),e.jsx("div",{className:"text-sm text-gray-500",children:I(P.total_cost)})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-500",children:_(P.updated_at)}),P.project_type&&e.jsx("div",{className:"text-sm text-gray-400 capitalize",children:P.project_type})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Z,{to:`/bom/${P.id}`,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:[e.jsx(kl,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsx("button",{onClick:()=>D(P.id,P.title),disabled:k.isPending,className:"p-2 text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors disabled:opacity-50",children:e.jsx(nu,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>R(P.id),disabled:E.isPending,className:"p-2 text-red-700 bg-red-100 border border-red-300 rounded-md hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors disabled:opacity-50",children:e.jsx(iu,{className:"h-4 w-4"})})]})]})]})})})},P.id))})]}),m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create New Project"}),e.jsxs("form",{onSubmit:P=>{P.preventDefault();const C=new FormData(P.currentTarget);q({title:C.get("title"),description:C.get("description")||void 0,project_type:C.get("project_type")||void 0})},children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Title *"}),e.jsx("input",{type:"text",id:"title",name:"title",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter project title"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{id:"description",name:"description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Project description (optional)"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"project_type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Type"}),e.jsxs("select",{id:"project_type",name:"project_type",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select type (optional)"}),e.jsx("option",{value:"residential",children:"Residential"}),e.jsx("option",{value:"commercial",children:"Commercial"}),e.jsx("option",{value:"industrial",children:"Industrial"}),e.jsx("option",{value:"infrastructure",children:"Infrastructure"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:p.isPending,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors disabled:opacity-50",children:p.isPending?"Creating...":"Create Project"})]})]})]})})]})})},F5=()=>{const t=W(B=>B.authentication_state.current_user),s=W(B=>B.authentication_state.auth_token),[r,n]=u.useState("all"),[a,i]=u.useState(""),[l,o]=u.useState([]),[c,d]=u.useState("list"),[m,f]=u.useState("recent"),[x,j]=u.useState(!1),[y,b]=u.useState(""),w=Je(),g=async()=>{if(!s)throw new Error("Authentication required");return(await G.get("http://localhost:3000/api/search/history",{headers:{Authorization:`Bearer ${s}`},params:{limit:100,offset:0}})).data.searches.map((Y,U)=>({id:`search_${U}`,query:Y.query,filters:Y.filters||{},results_count:Y.results_count||0,created_at:Y.created_at,name:`Search: ${Y.query}`,folder:U%3===0?"Project Alpha":U%3===1?"Market Research":void 0,tags:Y.query.includes("cement")?["construction","materials"]:["general"],is_favorite:U%5===0,alert_enabled:U%4===0,last_executed:Y.created_at,performance_data:{avg_results:Math.floor(Math.random()*50)+10,price_trend:["up","down","stable"][U%3],new_products_count:Math.floor(Math.random()*5)}}))},h=B=>{const Y=new URLSearchParams;return Y.set("q",B.query),B.filters.category&&Y.set("category",B.filters.category),B.filters.brand&&Y.set("brand",B.filters.brand),B.filters.price_min&&Y.set("price_min",B.filters.price_min.toString()),B.filters.price_max&&Y.set("price_max",B.filters.price_max.toString()),`/search?${Y.toString()}`},p=async B=>{if(console.log("Creating alert for search:",B),!s)throw new Error("Authentication required");await G.post("http://localhost:3000/api/alerts",{type:"new_product",condition_type:"equals",notification_methods:["push","email"]},{headers:{Authorization:`Bearer ${s}`}})},{data:k=[],isLoading:E,error:I}=ce({queryKey:["saved-searches",t==null?void 0:t.id],queryFn:g,enabled:!!s&&!!t,staleTime:5*60*1e3,refetchOnWindowFocus:!1});xe({mutationFn:async B=>(await h(B),B)});const _=xe({mutationFn:p,onSuccess:()=>{w.invalidateQueries({queryKey:["alerts"]})}}),T=u.useMemo(()=>{const B=new Map;k.forEach(U=>{U.folder&&B.set(U.folder,(B.get(U.folder)||0)+1)});const Y=["bg-blue-100 text-blue-800","bg-green-100 text-green-800","bg-purple-100 text-purple-800"];return Array.from(B.entries()).map(([U,P],C)=>({id:U.toLowerCase().replace(/\s+/g,"-"),name:U,search_count:P,color:Y[C%Y.length]}))},[k]),L=u.useMemo(()=>{var Y;let B=k;if(r!=="all"){const U=(Y=T.find(P=>P.id===r))==null?void 0:Y.name;B=B.filter(P=>P.folder===U)}switch(a&&(B=B.filter(U=>{var P,C;return U.query.toLowerCase().includes(a.toLowerCase())||((P=U.name)==null?void 0:P.toLowerCase().includes(a.toLowerCase()))||((C=U.tags)==null?void 0:C.some(S=>S.toLowerCase().includes(a.toLowerCase())))})),m){case"name":B.sort((U,P)=>(U.name||U.query).localeCompare(P.name||P.query));break;case"results":B.sort((U,P)=>P.results_count-U.results_count);break;case"performance":B.sort((U,P)=>{var C,S;return(((C=P.performance_data)==null?void 0:C.avg_results)||0)-(((S=U.performance_data)==null?void 0:S.avg_results)||0)});break;default:B.sort((U,P)=>P.created_at-U.created_at)}return B},[k,r,a,m,T]),q=B=>{const Y=h(B);window.location.href=Y},D=B=>{_.mutate(B)},R=B=>{o(Y=>Y.includes(B)?Y.filter(U=>U!==B):[...Y,B])};return E?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading saved searches..."})]})})}):I?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 mb-4",children:e.jsx(Jr,{className:"h-12 w-12 mx-auto"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to load searches"}),e.jsx("p",{className:"text-gray-600",children:"Please try again later."})]})})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Saved Searches"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage and optimize your product discovery activities"})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(Z,{to:"/search",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(zt,{className:"h-4 w-4 mr-2"}),"New Search"]})})]})})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsxs("div",{className:"w-full lg:w-80 space-y-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search saved searches...",value:a,onChange:B=>i(B.target.value),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>d("list"),className:`p-2 rounded-md ${c==="list"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:e.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 16a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"})})}),e.jsx("button",{onClick:()=>d("grid"),className:`p-2 rounded-md ${c==="grid"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:e.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})})]}),e.jsxs("select",{value:m,onChange:B=>f(B.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-1",children:[e.jsx("option",{value:"recent",children:"Recent"}),e.jsx("option",{value:"name",children:"Name"}),e.jsx("option",{value:"results",children:"Results"}),e.jsx("option",{value:"performance",children:"Performance"})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Folders"}),e.jsx("button",{onClick:()=>j(!0),className:"text-blue-600 hover:text-blue-700",children:e.jsx(zt,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>n("all"),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${r==="all"?"bg-blue-50 text-blue-700 border-l-4 border-blue-500":"text-gray-700 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(_c,{className:"h-4 w-4 mr-2"}),"All Searches"]}),e.jsx("span",{className:"text-sm text-gray-500",children:k.length})]})}),T.map(B=>e.jsx("button",{onClick:()=>n(B.id),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${r===B.id?"bg-blue-50 text-blue-700 border-l-4 border-blue-500":"text-gray-700 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(_c,{className:"h-4 w-4 mr-2"}),B.name]}),e.jsx("span",{className:"text-sm text-gray-500",children:B.search_count})]})},B.id))]}),x&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Folder name",value:y,onChange:B=>b(B.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm",onKeyPress:B=>{B.key==="Enter"&&(j(!1),b(""))}}),e.jsx("button",{onClick:()=>{j(!1),b("")},className:"px-3 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700",children:"Add"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Stats"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Total Searches"}),e.jsx("span",{className:"font-semibold",children:k.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"With Alerts"}),e.jsx("span",{className:"font-semibold",children:k.filter(B=>B.alert_enabled).length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Favorites"}),e.jsx("span",{className:"font-semibold",children:k.filter(B=>B.is_favorite).length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Avg Results"}),e.jsx("span",{className:"font-semibold",children:Math.round(k.reduce((B,Y)=>B+Y.results_count,0)/k.length)||0})]})]})]})]}),e.jsxs("div",{className:"flex-1",children:[l.length>0&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{className:"text-blue-700 font-medium",children:[l.length," search",l.length!==1?"es":""," selected"]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>{},className:"px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[e.jsx(wc,{className:"h-4 w-4 inline mr-1"}),"Create Alerts"]}),e.jsx("button",{onClick:()=>o([]),className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Clear"})]})]})}),L.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Jr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No saved searches found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Start saving your searches to track market trends and get alerts."}),e.jsxs(Z,{to:"/search",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(zt,{className:"h-4 w-4 mr-2"}),"Create First Search"]})]}):e.jsx("div",{className:c==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:L.map(B=>{var Y,U,P,C,S,z,O;return e.jsxs("div",{className:`bg-white rounded-xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-200 ${c==="list"?"p-6":"p-4"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",checked:l.includes(B.id),onChange:()=>R(B.id),className:"mt-1 h-4 w-4 text-blue-600 rounded border-gray-300"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:B.name||B.query}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:['"',B.query,'"']})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[B.is_favorite&&e.jsx(Tr,{className:"h-4 w-4 text-yellow-400"}),B.alert_enabled&&e.jsx(wc,{className:"h-4 w-4 text-blue-500"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[B.folder&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[e.jsx(_c,{className:"h-3 w-3 mr-1"}),B.folder]}),(Y=B.tags)==null?void 0:Y.map(N=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(wr,{className:"h-3 w-3 mr-1"}),N]},N))]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:B.results_count}),e.jsx("div",{className:"text-xs text-gray-500",children:"Results"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:((U=B.performance_data)==null?void 0:U.avg_results)||0}),e.jsx("span",{className:`ml-1 text-xs ${((P=B.performance_data)==null?void 0:P.price_trend)==="up"?"text-red-500":((C=B.performance_data)==null?void 0:C.price_trend)==="down"?"text-green-500":"text-gray-500"}`,children:((S=B.performance_data)==null?void 0:S.price_trend)==="up"?"↗":((z=B.performance_data)==null?void 0:z.price_trend)==="down"?"↙":"→"})]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Avg Results"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:((O=B.performance_data)==null?void 0:O.new_products_count)||0}),e.jsx("div",{className:"text-xs text-gray-500",children:"New"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>q(B),className:"inline-flex items-center px-3 py-1.5 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:[e.jsx(V_,{className:"h-3 w-3 mr-1"}),"Execute"]}),!B.alert_enabled&&e.jsxs("button",{onClick:()=>D(B.id),disabled:_.isPending,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-gray-700 text-sm rounded-md hover:bg-gray-50 transition-colors disabled:opacity-50",children:[e.jsx(wc,{className:"h-3 w-3 mr-1"}),"Alert"]})]}),e.jsx("div",{className:"flex items-center space-x-1",children:e.jsx("span",{className:"text-xs text-gray-500",children:new Date(B.created_at).toLocaleDateString()})})]})]},B.id)})})]})]})})]})})},O5=()=>{const t=W(O=>O.authentication_state.current_user),s=W(O=>O.authentication_state.auth_token),r=W(O=>O.update_user_profile),n=W(O=>O.update_language),a=W(O=>O.update_currency),i=W(O=>O.update_theme),[l,o]=u.useState("profile"),[c,d]=u.useState(!1),[m,f]=u.useState(null),[x,j]=u.useState(null),[y,b]=u.useState({name:(t==null?void 0:t.name)||"",phone:(t==null?void 0:t.phone)||"",address:(t==null?void 0:t.address)||""}),[w,g]=u.useState({email_notifications:!0,sms_notifications:!1,push_notifications:!0,price_alerts:!0,stock_alerts:!0,rfq_updates:!0,quiet_hours:{start:"22:00",end:"08:00"}}),[h,p]=u.useState({profile_visibility:"private",data_sharing_consent:!1,analytics_consent:!0,marketing_consent:!1}),[k,E]=u.useState({theme:"light",font_size:"medium",display_density:"comfortable",language:"en",currency:"AED",units:"metric"}),[I,_]=u.useState({calendar_sync:!1,mapping_service:"google",navigation_app:"default",social_sharing:!1}),[T,L]=u.useState({high_contrast:!1,screen_reader_support:!1,keyboard_navigation:!1,voice_commands:!1,reduced_motion:!1}),q=Je();u.useEffect(()=>{if(t!=null&&t.preferences){const O=t.preferences;O.notifications&&g(N=>({...N,...O.notifications})),O.privacy&&p(N=>({...N,...O.privacy})),O.appearance&&E(N=>({...N,...O.appearance})),O.integrations&&_(N=>({...N,...O.integrations})),O.accessibility&&L(N=>({...N,...O.accessibility}))}},[t]);const D=xe({mutationFn:async O=>{if(!t||!s)throw new Error("Authentication required");return(await G.put(`http://localhost:3000/api/users/${t.id}`,{preferences:O},{headers:{Authorization:`Bearer ${s}`}})).data},onSuccess:O=>{r(O),f(new Date().toISOString()),j(null),q.invalidateQueries({queryKey:["user",t==null?void 0:t.id]})},onError:O=>{var N,A;j(((A=(N=O.response)==null?void 0:N.data)==null?void 0:A.message)||"Failed to save preferences")},onSettled:()=>{d(!1)}}),R=xe({mutationFn:async O=>{if(!t||!s)throw new Error("Authentication required");return(await G.put(`http://localhost:3000/api/users/${t.id}`,O,{headers:{Authorization:`Bearer ${s}`}})).data},onSuccess:O=>{r(O),f(new Date().toISOString()),j(null)},onError:O=>{var N,A;j(((A=(N=O.response)==null?void 0:N.data)==null?void 0:A.message)||"Failed to update profile")},onSettled:()=>{d(!1)}}),B=async()=>{d(!0),j(null),R.mutate(y)},Y=async()=>{d(!0),j(null);const O=(t==null?void 0:t.preferences)||{};D.mutate({...O,notifications:w})},U=async()=>{d(!0),j(null);const O=(t==null?void 0:t.preferences)||{};D.mutate({...O,privacy:h})},P=async()=>{d(!0),j(null),i(k.theme),n(k.language),a(k.currency);const O=(t==null?void 0:t.preferences)||{};D.mutate({...O,appearance:k})},C=async()=>{d(!0),j(null);const O=(t==null?void 0:t.preferences)||{};D.mutate({...O,integrations:I})},S=async()=>{d(!0),j(null);const O=(t==null?void 0:t.preferences)||{};D.mutate({...O,accessibility:T})},z=[{id:"profile",label:"Profile & Account",icon:gi},{id:"appearance",label:"Appearance",icon:on},{id:"notifications",label:"Notifications",icon:Cs},{id:"privacy",label:"Privacy & Data",icon:ra},{id:"accessibility",label:"Accessibility",icon:qw},{id:"integrations",label:"Integrations",icon:fi}];return t?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Customize your ConstructHub experience"})]}),x&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(es,{className:"h-5 w-5 text-red-500 mr-2"}),e.jsx("p",{className:"text-red-700",children:x})]})}),m&&e.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ss,{className:"h-5 w-5 text-green-500 mr-2"}),e.jsxs("p",{className:"text-green-700",children:["Settings saved successfully at ",new Date(m).toLocaleTimeString()]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Settings navigation",children:z.map(O=>{const N=O.icon;return e.jsx("button",{onClick:()=>o(O.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${l===O.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(N,{className:"h-4 w-4"}),e.jsx("span",{children:O.label})]})},O.id)})})}),e.jsxs("div",{className:"p-6",children:[l==="profile"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Profile & Account"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Manage your personal information and account details."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",id:"name",value:y.name,onChange:O=>b(N=>({...N,name:O.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",placeholder:"Enter your full name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",value:t.email,disabled:!0,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 bg-gray-50 text-gray-500",placeholder:"Email cannot be changed"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",id:"phone",value:y.phone,onChange:O=>b(N=>({...N,phone:O.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",placeholder:"Enter your phone number"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"user_type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Type"}),e.jsx("input",{type:"text",id:"user_type",value:t.user_type==="buyer"?"Buyer Account":"Shop Owner Account",disabled:!0,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 bg-gray-50 text-gray-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),e.jsx("textarea",{id:"address",rows:3,value:y.address,onChange:O=>b(N=>({...N,address:O.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",placeholder:"Enter your address"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:B,disabled:c,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[c?e.jsx(kt,{className:"h-4 w-4 animate-spin"}):e.jsx(Vs,{className:"h-4 w-4"}),e.jsx("span",{children:c?"Saving...":"Save Profile"})]})})]}),l==="appearance"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Appearance & Display"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Customize how the platform looks and feels."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Theme"}),e.jsx("div",{className:"space-y-2",children:[{value:"light",label:"Light",icon:oN},{value:"dark",label:"Dark",icon:eN},{value:"system",label:"System",icon:Xw}].map(O=>{const N=O.icon;return e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"theme",value:O.value,checked:k.theme===O.value,onChange:A=>E(M=>({...M,theme:A.target.value})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500"}),e.jsx(N,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:O.label})]},O.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"font_size",className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Size"}),e.jsxs("select",{id:"font_size",value:k.font_size,onChange:O=>E(N=>({...N,font_size:O.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[e.jsx("option",{value:"small",children:"Small"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"large",children:"Large"}),e.jsx("option",{value:"extra-large",children:"Extra Large"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"display_density",className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Density"}),e.jsxs("select",{id:"display_density",value:k.display_density,onChange:O=>E(N=>({...N,display_density:O.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[e.jsx("option",{value:"compact",children:"Compact"}),e.jsx("option",{value:"comfortable",children:"Comfortable"}),e.jsx("option",{value:"spacious",children:"Spacious"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"language",className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),e.jsxs("select",{id:"language",value:k.language,onChange:O=>E(N=>({...N,language:O.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"ar",children:"Arabic"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"currency",className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),e.jsxs("select",{id:"currency",value:k.currency,onChange:O=>E(N=>({...N,currency:O.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[e.jsx("option",{value:"AED",children:"AED (درهم)"}),e.jsx("option",{value:"USD",children:"USD ($)"}),e.jsx("option",{value:"EUR",children:"EUR (€)"}),e.jsx("option",{value:"SAR",children:"SAR (ريال)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"units",className:"block text-sm font-medium text-gray-700 mb-2",children:"Units System"}),e.jsxs("select",{id:"units",value:k.units,onChange:O=>E(N=>({...N,units:O.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[e.jsx("option",{value:"metric",children:"Metric (kg, m, L)"}),e.jsx("option",{value:"imperial",children:"Imperial (lb, ft, gal)"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:P,disabled:c,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[c?e.jsx(kt,{className:"h-4 w-4 animate-spin"}):e.jsx(Vs,{className:"h-4 w-4"}),e.jsx("span",{children:c?"Saving...":"Save Appearance"})]})})]}),l==="notifications"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Notification Preferences"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Control how and when you receive notifications."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Delivery Methods"}),e.jsx("div",{className:"space-y-4",children:[{key:"email_notifications",label:"Email Notifications",icon:ro},{key:"sms_notifications",label:"SMS Notifications",icon:iN},{key:"push_notifications",label:"Push Notifications",icon:Cs}].map(O=>{const N=O.icon;return e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(N,{className:"h-5 w-5 text-gray-500"}),e.jsx("span",{className:"font-medium text-gray-900",children:O.label})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:w[O.key],onChange:A=>g(M=>({...M,[O.key]:A.target.checked})),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},O.key)})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Notification Types"}),e.jsx("div",{className:"space-y-4",children:[{key:"price_alerts",label:"Price Drop Alerts",icon:so},{key:"stock_alerts",label:"Stock Availability Alerts",icon:Cs},{key:"rfq_updates",label:"RFQ Updates",icon:_l}].map(O=>{const N=O.icon;return e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(N,{className:"h-5 w-5 text-gray-500"}),e.jsx("span",{className:"font-medium text-gray-900",children:O.label})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:w[O.key],onChange:A=>g(M=>({...M,[O.key]:A.target.checked})),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},O.key)})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quiet Hours"}),e.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[e.jsx(sa,{className:"h-5 w-5 text-gray-500"}),e.jsx("span",{className:"text-gray-700",children:"Do not send notifications between:"}),e.jsx("input",{type:"time",value:w.quiet_hours.start,onChange:O=>g(N=>({...N,quiet_hours:{...N.quiet_hours,start:O.target.value}})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"}),e.jsx("span",{className:"text-gray-500",children:"and"}),e.jsx("input",{type:"time",value:w.quiet_hours.end,onChange:O=>g(N=>({...N,quiet_hours:{...N.quiet_hours,end:O.target.value}})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:Y,disabled:c,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[c?e.jsx(kt,{className:"h-4 w-4 animate-spin"}):e.jsx(Vs,{className:"h-4 w-4"}),e.jsx("span",{children:c?"Saving...":"Save Notifications"})]})})]}),l==="privacy"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Privacy & Data"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Control your data privacy and sharing preferences."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Visibility"}),e.jsxs("select",{value:h.profile_visibility,onChange:O=>p(N=>({...N,profile_visibility:O.target.value})),className:"w-full max-w-md px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[e.jsx("option",{value:"private",children:"Private - Only visible to you"}),e.jsx("option",{value:"contacts",children:"Contacts - Visible to your connections"}),e.jsx("option",{value:"public",children:"Public - Visible to everyone"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Data Sharing & Consent"}),e.jsx("div",{className:"space-y-4",children:[{key:"data_sharing_consent",label:"Share data with partner shops",description:"Allow shops to see your purchase history for better recommendations"},{key:"analytics_consent",label:"Analytics and performance",description:"Help us improve the platform by sharing usage analytics"},{key:"marketing_consent",label:"Marketing communications",description:"Receive promotional emails and special offers"}].map(O=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:O.label}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:h[O.key],onChange:N=>p(A=>({...A,[O.key]:N.target.checked})),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:O.description})]},O.key))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Data Management"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{className:"flex items-center space-x-3 w-full p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx($o,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Export My Data"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Download a copy of all your data (GDPR compliant)"})]})]}),e.jsxs("button",{className:"flex items-center space-x-3 w-full p-4 border border-red-200 rounded-lg hover:bg-red-50 transition-colors text-red-600",children:[e.jsx(Nh,{className:"h-5 w-5"}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("span",{className:"font-medium",children:"Delete My Account"}),e.jsx("p",{className:"text-sm",children:"Permanently delete your account and all associated data"})]})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:U,disabled:c,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[c?e.jsx(kt,{className:"h-4 w-4 animate-spin"}):e.jsx(Vs,{className:"h-4 w-4"}),e.jsx("span",{children:c?"Saving...":"Save Privacy Settings"})]})})]}),l==="accessibility"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Accessibility Features"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Configure accessibility options to improve your experience."})]}),e.jsx("div",{className:"space-y-4",children:[{key:"high_contrast",label:"High Contrast Mode",description:"Increase color contrast for better visibility"},{key:"screen_reader_support",label:"Screen Reader Support",description:"Optimize interface for screen reading software"},{key:"keyboard_navigation",label:"Enhanced Keyboard Navigation",description:"Improve keyboard-only navigation experience"},{key:"voice_commands",label:"Voice Commands",description:"Enable voice control for common actions"},{key:"reduced_motion",label:"Reduced Motion",description:"Minimize animations and transitions"}].map(O=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:O.label}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:T[O.key],onChange:N=>L(A=>({...A,[O.key]:N.target.checked})),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:O.description})]},O.key))}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:S,disabled:c,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[c?e.jsx(kt,{className:"h-4 w-4 animate-spin"}):e.jsx(Vs,{className:"h-4 w-4"}),e.jsx("span",{children:c?"Saving...":"Save Accessibility"})]})})]}),l==="integrations"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"External Integrations"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Connect with external services and apps."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(bh,{className:"h-5 w-5 text-gray-500"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Calendar Sync"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:I.calendar_sync,onChange:O=>_(N=>({...N,calendar_sync:O.target.checked})),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Sync project deadlines and shopping trips with your calendar"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"mapping_service",className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Et,{className:"inline h-4 w-4 mr-2"}),"Preferred Mapping Service"]}),e.jsxs("select",{id:"mapping_service",value:I.mapping_service,onChange:O=>_(N=>({...N,mapping_service:O.target.value})),className:"w-full max-w-md px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[e.jsx("option",{value:"google",children:"Google Maps"}),e.jsx("option",{value:"apple",children:"Apple Maps"}),e.jsx("option",{value:"waze",children:"Waze"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"navigation_app",className:"block text-sm font-medium text-gray-700 mb-2",children:"Navigation App"}),e.jsxs("select",{id:"navigation_app",value:I.navigation_app,onChange:O=>_(N=>({...N,navigation_app:O.target.value})),className:"w-full max-w-md px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[e.jsx("option",{value:"default",children:"Default System App"}),e.jsx("option",{value:"google",children:"Google Maps"}),e.jsx("option",{value:"waze",children:"Waze"}),e.jsx("option",{value:"apple",children:"Apple Maps"})]})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(aN,{className:"h-5 w-5 text-gray-500"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Social Sharing"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:I.social_sharing,onChange:O=>_(N=>({...N,social_sharing:O.target.checked})),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Enable sharing of BOMs and project updates on social media"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:C,disabled:c,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[c?e.jsx(kt,{className:"h-4 w-4 animate-spin"}):e.jsx(Vs,{className:"h-4 w-4"}),e.jsx("span",{children:c?"Saving...":"Save Integrations"})]})})]})]})]})]})})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(es,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Authentication Required"}),e.jsx("p",{className:"text-gray-600",children:"Please log in to access your settings."})]})})})},$5=()=>{const t=W(h=>h.authentication_state.current_user),s=W(h=>h.authentication_state.auth_token),r=W(h=>h.authentication_state.authentication_status.is_authenticated),[n,a]=u.useState("overview"),[i,l]=u.useState({start_date:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],end_date:new Date().toISOString().split("T")[0],period_type:"month"}),o=(t==null?void 0:t.user_type)==="seller"?"current_shop_id":null,{data:c,isLoading:d,error:m}=ce({queryKey:["shop-inventory",o],queryFn:async()=>{if(!s||!o)throw new Error("Authentication required");return(await G.get("http://localhost:3000/api/inventory",{headers:{Authorization:`Bearer ${s}`},params:{shop_id:o,limit:100,sort_by:"updated_at"}})).data},enabled:!!s&&!!o,staleTime:5*60*1e3,retry:1}),{data:f,isLoading:x,error:j}=ce({queryKey:["shop-rfqs",o],queryFn:async()=>{if(!s||!o)throw new Error("Authentication required");return(await G.get("http://localhost:3000/api/rfqs",{headers:{Authorization:`Bearer ${s}`},params:{shop_id:o,limit:1e3,sort_by:"created_at"}})).data},enabled:!!s&&!!o,staleTime:5*60*1e3,retry:1}),y=u.useMemo(()=>c!=null&&c.inventory?c.inventory.map(h=>({variant_id:h.variant_id,product_name:`Product ${h.variant_id.slice(-6)}`,stock_quantity:h.stock_quantity||0,revenue:(h.stock_quantity||0)*25.5*Math.random(),profit_margin:15+Math.random()*20,turnover_rate:Math.random()*10,last_updated:h.updated_at})):[],[c]),b=u.useMemo(()=>{if(!(f!=null&&f.rfqs))return{total_rfqs:0,response_rate:0,conversion_rate:0,avg_response_time:0,win_rate:0};const h=f.rfqs,p=h.filter(k=>k.responses_count>0);return{total_rfqs:h.length,response_rate:h.length>0?p.length/h.length*100:0,conversion_rate:0,avg_response_time:0,win_rate:0}},[f]),w={revenue:{daily:[1200,1350,1100,1450,1600,1300,1500],weekly:[8500,9200,8800,9500],monthly:[35e3,38e3,36500,39e3],yearly:[42e4,456e3]},orders_count:156,avg_order_value:245.5,customer_count:89,repeat_customers:34,response_time_avg:2.3},g=h=>{const p={shop_performance:w,product_performance:y,rfq_analytics:b,export_date:new Date().toISOString(),date_range:i},k=new Blob([JSON.stringify(p,null,2)],{type:"application/json"}),E=URL.createObjectURL(k),I=document.createElement("a");I.href=E,I.download=`shop-analytics-${h}-${Date.now()}.json`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(E)};return!r||(t==null?void 0:t.user_type)!=="seller"?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Shop analytics are only available to verified shop owners."}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Z,{to:"/shop/dashboard",className:"block w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Go to Shop Dashboard"}),e.jsx(Z,{to:"/",className:"block w-full bg-gray-100 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Return Home"})]})]})})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Z,{to:"/shop/dashboard",className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Business Analytics"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"date",value:i.start_date,onChange:h=>l(p=>({...p,start_date:h.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("span",{className:"text-gray-500",children:"to"}),e.jsx("input",{type:"date",value:i.end_date,onChange:h=>l(p=>({...p,end_date:h.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsx("div",{className:"relative",children:e.jsxs("select",{onChange:h=>{h.target.value&&(g(h.target.value),h.target.value="")},className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors cursor-pointer",children:[e.jsx("option",{value:"",children:"Export Report"}),e.jsx("option",{value:"csv",children:"Export as CSV"}),e.jsx("option",{value:"pdf",children:"Export as PDF"}),e.jsx("option",{value:"xlsx",children:"Export as Excel"})]})})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("nav",{className:"flex space-x-8",children:[{id:"overview",label:"Overview",icon:"📊"},{id:"revenue",label:"Revenue",icon:"💰"},{id:"products",label:"Products",icon:"📦"},{id:"customers",label:"Customers",icon:"👥"},{id:"rfqs",label:"RFQs",icon:"📋"},{id:"competition",label:"Market",icon:"🎯"}].map(h=>e.jsxs("button",{onClick:()=>a(h.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${n===h.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("span",{className:"mr-2",children:h.icon}),h.label]},h.id))})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n==="overview"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Revenue"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:[w.revenue.monthly[w.revenue.monthly.length-1].toLocaleString()," AED"]}),e.jsx("p",{className:"text-green-600 text-sm mt-1",children:"+12.5% from last month"})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Orders"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:w.orders_count}),e.jsx("p",{className:"text-blue-600 text-sm mt-1",children:"+8.2% from last month"})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Avg Order Value"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:[w.avg_order_value.toFixed(2)," AED"]}),e.jsx("p",{className:"text-green-600 text-sm mt-1",children:"+5.7% from last month"})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Response Time"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:[w.response_time_avg,"h"]}),e.jsx("p",{className:"text-green-600 text-sm mt-1",children:"-0.5h from last month"})]}),e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(Z,{to:"/shop/inventory",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Manage Inventory"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Update stock and prices"})]})]}),e.jsxs(Z,{to:"/rfq",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Review RFQs"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Respond to customer requests"})]})]}),e.jsxs(Z,{to:"/shop/settings",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center mr-3",children:e.jsxs("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Shop Settings"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Configure business details"})]})]})]})]})]}),n==="revenue"&&e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Revenue Trends"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Daily Revenue (Last 7 days)"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Average: 1,320 AED"})]}),e.jsx("div",{className:"flex items-end space-x-2 h-40",children:w.revenue.daily.map((h,p)=>e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:"bg-blue-500 w-full rounded-t",style:{height:`${h/Math.max(...w.revenue.daily)*100}%`}}),e.jsxs("span",{className:"text-xs text-gray-500 mt-2",children:["Day ",p+1]})]},p))})]}),e.jsx("div",{className:"border-t pt-6 mt-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[w.revenue.monthly[w.revenue.monthly.length-1].toLocaleString()," AED"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"This Month"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[w.revenue.yearly[w.revenue.yearly.length-1].toLocaleString()," AED"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"This Year"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"+12.5%"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Growth Rate"})]})]})})]})}),n==="products"&&e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Product Performance"}),e.jsx(Z,{to:"/shop/inventory",className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"Manage Inventory"})]}),d?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):m?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-red-600",children:"Error loading product data"})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Turnover Rate"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit Margin"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.slice(0,10).map(h=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.product_name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",h.variant_id.slice(-8)]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${h.stock_quantity>10?"bg-green-100 text-green-800":h.stock_quantity>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[h.stock_quantity," units"]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[h.turnover_rate.toFixed(1),"x"]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[h.revenue.toLocaleString()," AED"]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[h.profit_margin.toFixed(1),"%"]})]},h.variant_id))})]})})]})}),n==="customers"&&e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Customer Analytics"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Customer Overview"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Total Customers"}),e.jsx("span",{className:"font-semibold",children:w.customer_count})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Repeat Customers"}),e.jsx("span",{className:"font-semibold",children:w.repeat_customers})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Retention Rate"}),e.jsxs("span",{className:"font-semibold text-green-600",children:[(w.repeat_customers/w.customer_count*100).toFixed(1),"%"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Geographic Distribution"}),e.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Feature coming soon"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Customer geographic analytics will be available in the next update"})]})]})]})]})}),n==="rfqs"&&e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"RFQ Performance"}),e.jsx(Z,{to:"/rfq",className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"View RFQ Inbox"})]}),x?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):j?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-red-600",children:"Error loading RFQ data"})}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:b.total_rfqs}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total RFQs"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[b.response_rate.toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Response Rate"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[b.conversion_rate.toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Conversion Rate"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[b.avg_response_time.toFixed(1),"h"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Avg Response Time"})]})]})]})}),n==="competition"&&e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Market Intelligence"}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 text-yellow-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"text-sm text-yellow-800",children:"Competitive analysis features are coming soon. This will include price comparisons, market positioning, and opportunity analysis."})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Market Position"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Market Ranking"}),e.jsx("span",{className:"font-semibold",children:"#3 in Dubai"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Market Share"}),e.jsx("span",{className:"font-semibold",children:"12.5%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Rating vs Competitors"}),e.jsx("span",{className:"font-semibold text-green-600",children:"Above Average"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Competitive Advantages"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx("svg",{className:"w-4 h-4 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Fast response times"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx("svg",{className:"w-4 h-4 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Competitive pricing"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx("svg",{className:"w-4 h-4 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Wide product range"]})]})]})]})]})})]})]})})},J0=["Technical Specifications","Product Recommendations","Installation Guidance","Troubleshooting","Safety Standards","Material Compatibility","Cost Estimation","Industry Best Practices"],B5=["cement","steel","concrete","foundation","roofing","plumbing","electrical","insulation","waterproofing","safety","tools","equipment"],X0=[{id:"q1",title:"What type of cement is best for foundation work in Dubai climate?",content:"I'm planning a residential foundation project in Dubai and need advice on the most suitable cement type considering the high temperature and humidity. Should I use OPC 43 grade or go for PPC?",author:{id:"u1",name:"Ahmed Hassan",reputation_score:2840,badges:["Verified Contractor","Foundation Expert"],is_expert:!0},category:"Technical Specifications",tags:["cement","foundation","dubai","climate"],votes:15,answers_count:7,has_best_answer:!0,created_at:"2024-01-15T10:30:00Z",updated_at:"2024-01-16T14:20:00Z"},{id:"q2",title:"Steel reinforcement spacing for residential slabs - UAE building code compliance",content:"What are the minimum spacing requirements for steel reinforcement in residential slabs according to UAE building codes? I'm working on a 2-story villa project.",author:{id:"u2",name:"Sarah Al-Mahmoud",reputation_score:1560,badges:["Structural Engineer"],is_expert:!0},category:"Safety Standards",tags:["steel","reinforcement","building-code","uae"],votes:22,answers_count:4,has_best_answer:!1,created_at:"2024-01-14T16:45:00Z",updated_at:"2024-01-15T09:30:00Z"},{id:"q3",title:"Waterproofing membrane installation in basement construction",content:"I need guidance on proper waterproofing membrane installation for basement walls. What's the recommended sequence and best practices for UAE conditions?",author:{id:"u3",name:"Mohammad Rizvi",reputation_score:890,badges:["Active Contributor"],is_expert:!1},category:"Installation Guidance",tags:["waterproofing","basement","membrane"],votes:8,answers_count:3,has_best_answer:!0,created_at:"2024-01-13T11:20:00Z",updated_at:"2024-01-14T08:15:00Z"}],I5=()=>{const t=W(R=>R.authentication_state.current_user),[s,r]=u.useState("list"),[n,a]=u.useState(null),[i,l]=u.useState({query:"",category:null,tags:[],sort_by:"recent",answered_only:!1}),[o]=u.useState({reputation_score:t?1250:0,badges:t?["Active Contributor","Helpful Member"]:[],questions_asked:t?12:0,answers_given:t?34:0,helpful_votes:t?89:0}),[c,d]=u.useState({title:"",content:"",category:"",tags:[],attachments:[]}),[m,f]=u.useState(""),[x,j]=u.useState(""),[y,b]=u.useState(X0),[w,g]=u.useState([]);u.useEffect(()=>{let R=[...X0];switch(i.query&&(R=R.filter(B=>B.title.toLowerCase().includes(i.query.toLowerCase())||B.content.toLowerCase().includes(i.query.toLowerCase())||B.tags.some(Y=>Y.toLowerCase().includes(i.query.toLowerCase())))),i.category&&(R=R.filter(B=>B.category===i.category)),i.tags.length>0&&(R=R.filter(B=>i.tags.some(Y=>B.tags.includes(Y)))),i.answered_only&&(R=R.filter(B=>B.answers_count>0)),i.sort_by){case"votes":R.sort((B,Y)=>Y.votes-B.votes);break;case"answers":R.sort((B,Y)=>Y.answers_count-B.answers_count);break;case"recent":default:R.sort((B,Y)=>new Date(Y.created_at).getTime()-new Date(B.created_at).getTime())}b(R)},[i]),u.useEffect(()=>{n&&g([])},[n]);const h=R=>{a(R),r("detail")},p=()=>{if(!t){alert("Please login to ask a question");return}r("create")},k=R=>{if(R.preventDefault(),!c.title.trim()||!c.content.trim()||!c.category){alert("Please fill in all required fields");return}console.log("Creating question:",c),d({title:"",content:"",category:"",tags:[],attachments:[]}),r("list"),alert("Question submitted successfully!")},E=R=>{if(R.preventDefault(),!m.trim()){alert("Please enter an answer");return}console.log("Submitting answer:",m),f(""),alert("Answer submitted successfully!")},I=(R,B,Y)=>{if(!t){alert("Please login to vote");return}console.log(`Voting ${Y} on ${R} ${B}`)},_=R=>{if(!t||!n||n.author.id!==t.id){alert("Only question authors can mark best answers");return}console.log("Marking best answer:",R)},T=()=>{x.trim()&&!c.tags.includes(x.trim().toLowerCase())&&(d(R=>({...R,tags:[...R.tags,x.trim().toLowerCase()]})),j(""))},L=R=>{d(B=>({...B,tags:B.tags.filter(Y=>Y!==R)}))},q=R=>{const B=new Date(R),U=Math.floor((new Date().getTime()-B.getTime())/1e3);return U<60?"just now":U<3600?`${Math.floor(U/60)}m ago`:U<86400?`${Math.floor(U/3600)}h ago`:`${Math.floor(U/86400)}d ago`},D=(R,B)=>e.jsxs("div",{className:"flex flex-wrap gap-1",children:[B&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:[e.jsx(Tr,{className:"w-3 h-3"}),"Expert"]}),R.map(Y=>e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded-full",children:Y},Y))]});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Community Q&A"}),s!=="list"&&e.jsx("button",{onClick:()=>{r("list"),a(null)},className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-700 font-medium",children:"← Back to Questions"})]}),t&&e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right text-sm",children:[e.jsx("div",{className:"font-medium text-gray-900",children:t.name}),e.jsxs("div",{className:"text-gray-500",children:[o.reputation_score," reputation points"]})]}),e.jsxs("button",{onClick:p,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[e.jsx(zt,{className:"w-4 h-4"}),"Ask Question"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s==="list"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Questions"}),e.jsxs("div",{className:"relative",children:[e.jsx(Jr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:i.query,onChange:R=>l(B=>({...B,query:R.target.value})),placeholder:"Search questions...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsxs("select",{value:i.category||"",onChange:R=>l(B=>({...B,category:R.target.value||null})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Categories"}),J0.map(R=>e.jsx("option",{value:R,children:R},R))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),e.jsxs("select",{value:i.sort_by,onChange:R=>l(B=>({...B,sort_by:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"recent",children:"Most Recent"}),e.jsx("option",{value:"votes",children:"Most Voted"}),e.jsx("option",{value:"answers",children:"Most Answered"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"answered-only",checked:i.answered_only,onChange:R=>l(B=>({...B,answered_only:R.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"answered-only",className:"ml-2 text-sm text-gray-700",children:"Answered questions only"})]}),t&&e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Your Activity"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Questions Asked"}),e.jsx("span",{className:"font-medium",children:o.questions_asked})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Answers Given"}),e.jsx("span",{className:"font-medium",children:o.answers_given})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Helpful Votes"}),e.jsx("span",{className:"font-medium",children:o.helpful_votes})]})]}),D(o.badges,!1)]})]})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx("div",{className:"space-y-4",children:y.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center",children:[e.jsx(l_,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No questions found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search filters or be the first to ask!"}),t&&e.jsxs("button",{onClick:p,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[e.jsx(zt,{className:"w-4 h-4"}),"Ask First Question"]})]}):y.map(R=>e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("button",{onClick:()=>h(R),className:"text-left block w-full",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900 hover:text-blue-600 transition-colors mb-2",children:R.title})}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:R.content}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Fn,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium text-gray-700",children:R.author.name}),R.author.is_expert&&e.jsx(Tr,{className:"w-4 h-4 text-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ka,{className:"w-4 h-4"}),q(R.created_at)]}),e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs",children:R.category})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:R.tags.map(B=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 rounded-full text-xs",children:[e.jsx(wr,{className:"w-3 h-3"}),B]},B))})]}),e.jsxs("div",{className:"ml-6 text-right space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:R.votes}),e.jsx("div",{children:"votes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-lg font-semibold ${R.answers_count>0?"text-green-600":"text-gray-900"}`,children:R.answers_count}),e.jsx("div",{children:"answers"})]})]}),R.has_best_answer&&e.jsxs("div",{className:"flex items-center gap-1 text-green-600 text-xs",children:[e.jsx(Tr,{className:"w-3 h-3"}),"Solved"]})]})]})},R.id))})})]}),s==="detail"&&n&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"lg:col-span-3",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:n.title}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fn,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium text-gray-700",children:n.author.name}),n.author.is_expert&&e.jsx(Tr,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-gray-400",children:"•"}),e.jsxs("span",{children:[n.author.reputation_score," reputation"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ka,{className:"w-4 h-4"}),"Asked ",q(n.created_at)]})]}),D(n.author.badges,n.author.is_expert)]}),e.jsxs("div",{className:"ml-6 flex flex-col items-center space-y-2",children:[e.jsx("button",{onClick:()=>I("question",n.id,"up"),className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",children:e.jsx(W0,{className:"w-6 h-6"})}),e.jsx("span",{className:"text-xl font-semibold text-gray-900",children:n.votes}),e.jsx("button",{onClick:()=>I("question",n.id,"down"),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(H0,{className:"w-6 h-6"})})]})]}),e.jsx("div",{className:"prose max-w-none mb-6",children:e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:n.content})}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:n.tags.map(R=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm",children:[e.jsx(wr,{className:"w-3 h-3"}),R]},R))}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:n.category}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg",children:e.jsx(e_,{className:"w-5 h-5"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg",children:e.jsx(ho,{className:"w-5 h-5"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-red-600 rounded-lg",children:e.jsx(Q0,{className:"w-5 h-5"})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:[w.length," ",w.length===1?"Answer":"Answers"]}),e.jsx("div",{className:"space-y-6",children:w.map(R=>e.jsx("div",{className:`border rounded-xl p-6 ${R.is_best_answer?"border-green-200 bg-green-50":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[R.is_best_answer&&e.jsxs("div",{className:"flex items-center gap-2 text-green-600 font-medium text-sm mb-3",children:[e.jsx(Tr,{className:"w-4 h-4"}),"Best Answer"]}),e.jsx("div",{className:"prose max-w-none mb-4",children:e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:R.content})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fn,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium text-gray-700",children:R.author.name}),R.author.is_expert&&e.jsx(Tr,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-gray-400",children:"•"}),e.jsxs("span",{children:[R.author.reputation_score," reputation"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ka,{className:"w-4 h-4"}),q(R.created_at)]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[!R.is_best_answer&&t&&n.author.id===t.id&&e.jsx("button",{onClick:()=>_(R.id),className:"px-3 py-1 text-sm text-green-600 hover:text-green-700 border border-green-200 hover:border-green-300 rounded-lg transition-colors",children:"Mark as Best"}),e.jsx("button",{className:"p-1 text-gray-400 hover:text-red-600 rounded",children:e.jsx(Q0,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"mt-3",children:D(R.author.badges,R.author.is_expert)})]}),e.jsxs("div",{className:"ml-6 flex flex-col items-center space-y-2",children:[e.jsx("button",{onClick:()=>I("answer",R.id,"up"),className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",children:e.jsx(W0,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:R.votes}),e.jsx("button",{onClick:()=>I("answer",R.id,"down"),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(H0,{className:"w-5 h-5"})})]})]})},R.id))}),t&&e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Your Answer"}),e.jsxs("form",{onSubmit:E,children:[e.jsx("textarea",{value:m,onChange:R=>f(R.target.value),placeholder:"Share your knowledge and help the community...",rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Post Answer"})})]})]}),!t&&e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Please login to post an answer"}),e.jsx(Z,{to:"/login",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Login to Answer"})]})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Question Stats"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Asked"}),e.jsx("span",{className:"font-medium",children:q(n.created_at)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Last Activity"}),e.jsx("span",{className:"font-medium",children:q(n.updated_at)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Views"}),e.jsx("span",{className:"font-medium",children:"127"})]})]})]})})]}),s==="create"&&e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Ask a Question"}),e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Question Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"title",value:c.title,onChange:R=>d(B=>({...B,title:R.target.value})),placeholder:"What specific problem are you trying to solve?",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",maxLength:200}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[c.title.length,"/200 characters"]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"category",value:c.category,onChange:R=>d(B=>({...B,category:R.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select a category"}),J0.map(R=>e.jsx("option",{value:R,children:R},R))]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-2",children:["Question Details ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"content",value:c.content,onChange:R=>d(B=>({...B,content:R.target.value})),placeholder:"Provide detailed information about your question. Include context, what you've tried, and specific requirements...",rows:8,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:c.tags.map(R=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm",children:[e.jsx(wr,{className:"w-3 h-3"}),R,e.jsx("button",{type:"button",onClick:()=>L(R),className:"ml-1 text-blue-500 hover:text-blue-700",children:e.jsx(da,{className:"w-3 h-3"})})]},R))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:x,onChange:R=>j(R.target.value),onKeyPress:R=>R.key==="Enter"&&(R.preventDefault(),T()),placeholder:"Add relevant tags (press Enter to add)",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("button",{type:"button",onClick:T,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Add Tag"})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Suggested: ",B5.slice(0,6).join(", ")]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>r("list"),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Post Question"})]})]})]})})]})]})})},q5=()=>{const t=W(C=>C.authentication_state.current_user),s=W(C=>C.authentication_state.auth_token),r=W(C=>C.authentication_state.authentication_status.is_authenticated),[n,a]=u.useState("help"),[i,l]=u.useState(""),[o,c]=u.useState("all"),[d,m]=u.useState({subject:"",message:"",priority:"normal",category:"general",email:(t==null?void 0:t.email)||"",attachments:[]}),[f,x]=u.useState(""),[j,y]=u.useState(!1),b=Je(),w=async(C,S)=>{await new Promise(M=>setTimeout(M,500));const z=[{id:"getting_started",name:"Getting Started",description:"Basic setup and onboarding guides",icon:"🚀",article_count:12,user_type:"all"},{id:"account_management",name:"Account Management",description:"Profile, settings, and account security",icon:"👤",article_count:8,user_type:"all"},{id:"bom_builder",name:"BOM Builder",description:"Creating and managing bill of materials",icon:"📋",article_count:15,user_type:"buyer"},{id:"shop_management",name:"Shop Management",description:"Inventory, pricing, and shop settings",icon:"🏪",article_count:20,user_type:"seller"},{id:"rfq_system",name:"RFQ System",description:"Request for quotes and communication",icon:"💬",article_count:10,user_type:"all"},{id:"troubleshooting",name:"Troubleshooting",description:"Common issues and solutions",icon:"🔧",article_count:18,user_type:"all"}];let N=[{id:"art_001",title:"How to Create Your First BOM",content:"Step-by-step guide to creating your first Bill of Materials project...",category:"bom_builder",tags:["bom","tutorial","beginner"],user_type:"buyer",featured:!0,helpful_votes:45,total_votes:50,created_at:"2023-12-01T10:00:00Z",updated_at:"2023-12-15T10:00:00Z"},{id:"art_002",title:"Setting Up Your Shop Profile",content:"Complete guide to setting up your shop profile and verification...",category:"shop_management",tags:["shop","setup","verification"],user_type:"seller",featured:!0,helpful_votes:38,total_votes:42,created_at:"2023-12-02T10:00:00Z",updated_at:"2023-12-16T10:00:00Z"},{id:"art_003",title:"Understanding Price Comparison",content:"Learn how to effectively compare prices across different shops...",category:"getting_started",tags:["prices","comparison","shopping"],user_type:"all",featured:!0,helpful_votes:52,total_votes:55,created_at:"2023-12-03T10:00:00Z",updated_at:"2023-12-17T10:00:00Z"},{id:"art_004",title:"Password Reset and Account Recovery",content:"Steps to recover your account if you forgot your password...",category:"account_management",tags:["password","recovery","security"],user_type:"all",featured:!1,helpful_votes:23,total_votes:28,created_at:"2023-12-04T10:00:00Z",updated_at:"2023-12-18T10:00:00Z"},{id:"art_005",title:"Using the RFQ System Effectively",content:"Best practices for creating and managing request for quotes...",category:"rfq_system",tags:["rfq","communication","quotes"],user_type:"all",featured:!1,helpful_votes:31,total_votes:35,created_at:"2023-12-05T10:00:00Z",updated_at:"2023-12-19T10:00:00Z"}];C&&(N=N.filter(M=>M.title.toLowerCase().includes(C.toLowerCase())||M.content.toLowerCase().includes(C.toLowerCase())||M.tags.some(Q=>Q.toLowerCase().includes(C.toLowerCase())))),S&&S!=="all"&&(N=N.filter(M=>M.category===S)),t&&(N=N.filter(M=>M.user_type==="all"||M.user_type===t.user_type));const A=N.filter(M=>M.featured);return{articles:N,categories:z,featured_articles:A}},g=async()=>{await new Promise(O=>setTimeout(O,300));const C=[{id:"faq_001",question:"How do I create an account?",answer:'Click the "Sign Up" button in the top right corner and follow the registration process. You can choose between a buyer or seller account type.',category:"Account",helpful_votes:89,total_votes:95,popular:!0},{id:"faq_002",question:"What is the difference between buyer and seller accounts?",answer:"Buyer accounts can create BOMs, compare prices, and send RFQs. Seller accounts can manage shop inventory, respond to RFQs, and update pricing.",category:"Account",helpful_votes:76,total_votes:82,popular:!0},{id:"faq_003",question:"How do I add items to my BOM?",answer:'Search for products, click "Add to BOM" on product cards, or use the barcode scanner to quickly add items to your current project.',category:"BOM",helpful_votes:65,total_votes:70,popular:!0},{id:"faq_004",question:"Can I compare prices across multiple shops?",answer:"Yes! Use the comparison feature to view prices from different shops side-by-side. You can also see which combination of shops offers the best total price.",category:"Shopping",helpful_votes:58,total_votes:63,popular:!0},{id:"faq_005",question:"How do I update my shop inventory?",answer:"Go to Shop Dashboard > Inventory Manager. You can add new products, update stock levels, and modify pricing from this interface.",category:"Shop Management",helpful_votes:42,total_votes:48,popular:!1},{id:"faq_006",question:"What payment methods are accepted?",answer:"We support various payment methods including credit cards, bank transfers, and cash payments. Payment is handled directly between buyers and sellers.",category:"Payments",helpful_votes:38,total_votes:44,popular:!1}],S=[...new Set(C.map(O=>O.category))],z=C.filter(O=>O.popular);return{categories:S,questions:C,popular_questions:z}},h=async()=>{if(!s)throw new Error("Authentication required");await new Promise(O=>setTimeout(O,400));const C=[{id:"ticket_001",subject:"Cannot upload inventory photos",message:"Having trouble uploading product photos to my inventory. The upload seems to fail after selecting the files.",status:"in_progress",priority:"normal",category:"technical",created_at:"2023-12-20T09:30:00Z",updated_at:"2023-12-21T14:20:00Z",last_response_at:"2023-12-21T14:20:00Z"},{id:"ticket_002",subject:"Question about pricing strategy",message:"What are the best practices for competitive pricing in the Dubai market?",status:"resolved",priority:"low",category:"business",created_at:"2023-12-18T16:45:00Z",updated_at:"2023-12-19T11:30:00Z",last_response_at:"2023-12-19T11:30:00Z"}],S=C.filter(O=>["open","in_progress"].includes(O.status)).length,z=C.filter(O=>["resolved","closed"].includes(O.status)).length;return{tickets:C,active_count:S,resolved_count:z}},{data:p,isLoading:k}=ce({queryKey:["help-articles",i,o],queryFn:()=>w(i,o),staleTime:5*60*1e3}),{data:E,isLoading:I}=ce({queryKey:["faq-data"],queryFn:g,staleTime:10*60*1e3}),{data:_,isLoading:T}=ce({queryKey:["support-tickets"],queryFn:h,enabled:r,staleTime:2*60*1e3}),L=xe({mutationFn:async C=>{if(!s)throw new Error("Authentication required");return await new Promise(z=>setTimeout(z,1e3)),{id:`ticket_${Date.now()}`,subject:C.subject,message:C.message,status:"open",priority:C.priority,category:C.category,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),last_response_at:null}},onSuccess:()=>{b.invalidateQueries({queryKey:["support-tickets"]}),m({subject:"",message:"",priority:"normal",category:"general",email:(t==null?void 0:t.email)||"",attachments:[]}),a("tickets")}}),q=xe({mutationFn:async({helpful:C})=>(await new Promise(S=>setTimeout(S,300)),{success:!0,helpful:C}),onSuccess:()=>{b.invalidateQueries({queryKey:["help-articles"]})}}),D=C=>{C.preventDefault()},R=C=>{if(C.preventDefault(),!r){alert("Please sign in to submit a support ticket");return}L.mutate({subject:d.subject,message:d.message,priority:d.priority,category:d.category})},B=(C,S)=>{q.mutate({articleId:C,helpful:S})},Y=()=>{l(""),c("all")},U=[{id:"vid_001",title:"Getting Started with ConstructHub",duration:"5:30",thumbnail:"🎥",category:"Beginner"},{id:"vid_002",title:"Creating Your First BOM",duration:"8:45",thumbnail:"🎥",category:"BOM Builder"},{id:"vid_003",title:"Shop Setup and Verification",duration:"6:20",thumbnail:"🎥",category:"Shop Management"},{id:"vid_004",title:"Using the Price Comparison Tool",duration:"4:15",thumbnail:"🎥",category:"Shopping"}],P=[{name:"Email Support",value:"support@constructhub.com",icon:"📧",description:"General inquiries and support requests",response_time:"24 hours"},{name:"Technical Support",value:"tech@constructhub.com",icon:"🔧",description:"Technical issues and bug reports",response_time:"12 hours"},{name:"Sales Inquiries",value:"sales@constructhub.com",icon:"💼",description:"Business partnerships and sales",response_time:"8 hours"},{name:"Phone Support",value:"+971 4 123 4567",icon:"📞",description:"Urgent support (Business hours)",response_time:"Immediate"}];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[e.jsx("div",{className:"bg-white shadow-lg border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Help & Support Center"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Find answers, get help, and learn how to make the most of ConstructHub"})]}),e.jsx("div",{className:"mt-8 max-w-2xl mx-auto",children:e.jsx("form",{onSubmit:D,className:"relative",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",placeholder:"Search help articles, FAQs, tutorials...",value:i,onChange:C=>l(C.target.value),className:"block w-full pl-10 pr-12 py-4 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 text-lg transition-all duration-200"}),i&&e.jsx("button",{type:"button",onClick:Y,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400 hover:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})})]})}),e.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("nav",{className:"flex space-x-8","aria-label":"Tabs",children:[{id:"help",label:"Help Articles",icon:"📚"},{id:"faq",label:"FAQ",icon:"❓"},{id:"tickets",label:"Support Tickets",icon:"🎫",auth:!0},{id:"chat",label:"Live Chat",icon:"💬",auth:!0},{id:"contact",label:"Contact Us",icon:"📞"}].map(C=>e.jsxs("button",{onClick:()=>a(C.id),disabled:C.auth&&!r,className:`py-4 px-1 border-b-2 font-medium text-sm transition-all duration-200 ${n===C.id?"border-blue-500 text-blue-600":C.auth&&!r?"border-transparent text-gray-400 cursor-not-allowed":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("span",{className:"mr-2",children:C.icon}),C.label,C.auth&&!r&&e.jsx("span",{className:"ml-1 text-xs text-gray-400",children:"(Sign in required)"})]},C.id))})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n==="help"&&e.jsxs("div",{className:"space-y-8",children:[(p==null?void 0:p.featured_articles)&&p.featured_articles.length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Featured Articles"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.featured_articles.map(C=>{var S,z;return e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-200",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2",children:C.title}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:C.content}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:((z=(S=p.categories)==null?void 0:S.find(O=>O.id===C.category))==null?void 0:z.name)||C.category}),C.user_type!=="all"&&e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${C.user_type==="buyer"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:C.user_type})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>B(C.id,!0),className:"text-green-600 hover:text-green-700 text-sm font-medium transition-colors",children:["👍 ",C.helpful_votes]}),e.jsxs("button",{onClick:()=>B(C.id,!1),className:"text-red-600 hover:text-red-700 text-sm font-medium transition-colors",children:["👎 ",C.total_votes-C.helpful_votes]})]})]})]})},C.id)})})]}),(p==null?void 0:p.categories)&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Browse by Category"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.categories.filter(C=>!t||C.user_type==="all"||C.user_type===t.user_type).map(C=>e.jsxs("button",{onClick:()=>c(C.id),className:`p-6 rounded-xl border-2 text-left transition-all duration-200 ${o===C.id?"border-blue-500 bg-blue-50 shadow-lg":"border-gray-200 bg-white hover:border-gray-300 hover:shadow-md"}`,children:[e.jsx("div",{className:"text-3xl mb-3",children:C.icon}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:C.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:C.description}),e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[C.article_count," articles"]})]},C.id))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Video Tutorials"}),e.jsx("button",{onClick:()=>y(!j),className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:j?"Hide Videos":"Show All Videos"})]}),j&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:U.map(C=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-200 cursor-pointer",children:[e.jsx("div",{className:"aspect-video bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:e.jsx("div",{className:"text-6xl text-white",children:C.thumbnail})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:C.title}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsx("span",{children:C.duration}),e.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:C.category})]})]})]},C.id))})]}),i&&(p==null?void 0:p.articles)&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:['Search Results for "',i,'" (',p.articles.length," found)"]}),e.jsx("div",{className:"space-y-4",children:p.articles.map(C=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-200",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:C.title}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:C.content}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-2",children:C.tags.map(S=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:S},S))}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>B(C.id,!0),className:"text-green-600 hover:text-green-700 text-sm font-medium transition-colors",children:["👍 ",C.helpful_votes]}),e.jsxs("button",{onClick:()=>B(C.id,!1),className:"text-red-600 hover:text-red-700 text-sm font-medium transition-colors",children:["👎 ",C.total_votes-C.helpful_votes]})]})]})]},C.id))})]}),k&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})]}),n==="faq"&&e.jsxs("div",{className:"space-y-8",children:[(E==null?void 0:E.popular_questions)&&E.popular_questions.length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Most Popular Questions"}),e.jsx("div",{className:"space-y-4",children:E.popular_questions.map(C=>e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:e.jsxs("details",{className:"group",children:[e.jsxs("summary",{className:"flex cursor-pointer items-center justify-between p-6 hover:bg-gray-50 transition-colors",children:[e.jsx("h3",{className:"font-semibold text-gray-900 pr-4",children:C.question}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:C.category}),e.jsx("svg",{className:"h-5 w-5 text-gray-400 group-open:rotate-180 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),e.jsxs("div",{className:"px-6 pb-6",children:[e.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:C.answer}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Was this helpful?"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{className:"text-green-600 hover:text-green-700 text-sm font-medium transition-colors",children:["👍 ",C.helpful_votes]}),e.jsxs("button",{className:"text-red-600 hover:text-red-700 text-sm font-medium transition-colors",children:["👎 ",C.total_votes-C.helpful_votes]})]})]})]})]})},C.id))})]}),(E==null?void 0:E.categories)&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Browse FAQ by Category"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.categories.map(C=>{const S=E.questions.filter(z=>z.category===C);return e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:C}),e.jsx("div",{className:"space-y-3",children:S.slice(0,3).map(z=>e.jsxs("details",{className:"group",children:[e.jsx("summary",{className:"cursor-pointer text-sm text-gray-700 hover:text-gray-900 transition-colors",children:z.question}),e.jsx("p",{className:"mt-2 text-sm text-gray-600 pl-4",children:z.answer})]},z.id))}),S.length>3&&e.jsxs("p",{className:"mt-4 text-sm text-blue-600 font-medium",children:["+",S.length-3," more questions"]})]},C)})})]}),I&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})]}),n==="tickets"&&e.jsx("div",{className:"space-y-8",children:r?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 text-center",children:[e.jsx("div",{className:"text-3xl text-orange-500 mb-2",children:"📋"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(_==null?void 0:_.active_count)||0}),e.jsx("div",{className:"text-gray-600",children:"Active Tickets"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 text-center",children:[e.jsx("div",{className:"text-3xl text-green-500 mb-2",children:"✅"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(_==null?void 0:_.resolved_count)||0}),e.jsx("div",{className:"text-gray-600",children:"Resolved"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 text-center",children:[e.jsx("div",{className:"text-3xl text-blue-500 mb-2",children:"💬"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(_==null?void 0:_.tickets.length)||0}),e.jsx("div",{className:"text-gray-600",children:"Total Tickets"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Create New Support Ticket"}),e.jsxs("form",{onSubmit:R,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsxs("select",{id:"category",value:d.category,onChange:C=>m(S=>({...S,category:C.target.value})),className:"block w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[e.jsx("option",{value:"general",children:"General Support"}),e.jsx("option",{value:"technical",children:"Technical Issue"}),e.jsx("option",{value:"account",children:"Account Management"}),e.jsx("option",{value:"billing",children:"Billing & Payments"}),e.jsx("option",{value:"business",children:"Business Inquiry"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),e.jsxs("select",{id:"priority",value:d.priority,onChange:C=>m(S=>({...S,priority:C.target.value})),className:"block w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"normal",children:"Normal"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"urgent",children:"Urgent"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),e.jsx("input",{type:"text",id:"subject",value:d.subject,onChange:C=>m(S=>({...S,subject:C.target.value})),required:!0,className:"block w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",placeholder:"Brief description of your issue"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),e.jsx("textarea",{id:"message",rows:5,value:d.message,onChange:C=>m(S=>({...S,message:C.target.value})),required:!0,className:"block w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",placeholder:"Describe your issue in detail..."})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:L.isPending,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:L.isPending?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Ticket..."]}):"Create Ticket"})})]})]}),(_==null?void 0:_.tickets)&&_.tickets.length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Your Support Tickets"}),e.jsx("div",{className:"space-y-4",children:_.tickets.map(C=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:C.subject}),e.jsx("p",{className:"text-gray-600 text-sm",children:C.message})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${C.status==="open"?"bg-yellow-100 text-yellow-800":C.status==="in_progress"?"bg-blue-100 text-blue-800":C.status==="resolved"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:C.status.replace("_"," ").toUpperCase()}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${C.priority==="low"?"bg-gray-100 text-gray-800":C.priority==="normal"?"bg-blue-100 text-blue-800":C.priority==="high"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:C.priority.toUpperCase()})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("span",{children:["Created: ",new Date(C.created_at).toLocaleDateString()]}),e.jsxs("span",{children:["Last updated: ",new Date(C.updated_at).toLocaleDateString()]})]})]},C.id))})]}),T&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🔒"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Sign In Required"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Please sign in to access your support tickets"}),e.jsx(Z,{to:"/login",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 transition-all duration-200",children:"Sign In"})]})}),n==="chat"&&e.jsx("div",{className:"space-y-8",children:r?e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 px-6 py-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Live Chat Support"}),e.jsx("p",{className:"text-blue-100",children:"Get instant help from our support team"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full animate-pulse"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-800",children:"Support agents are online"}),e.jsx("p",{className:"text-sm text-green-600",children:"Average response time: 2-3 minutes"})]})]})}),e.jsx("div",{className:"h-96 border-2 border-gray-200 rounded-lg p-4 mb-4 overflow-y-auto bg-gray-50",children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"h-8 w-8 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-medium",children:"CS"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:e.jsx("p",{className:"text-sm text-gray-900",children:"Hello! Welcome to ConstructHub support. How can I help you today?"})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Customer Support • Just now"})]})]})})}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("input",{type:"text",value:f,onChange:C=>x(C.target.value),placeholder:"Type your message...",className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",onKeyPress:C=>{C.key==="Enter"&&x("")}}),e.jsx("button",{onClick:()=>x(""),className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:"Send"})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-500",children:[e.jsx("span",{children:"Chat is encrypted and secure"}),e.jsx("span",{children:"Powered by ConstructHub Support"})]})]})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🔒"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Sign In Required"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Please sign in to start a live chat session"}),e.jsx(Z,{to:"/login",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 transition-all duration-200",children:"Sign In"})]})}),n==="contact"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Get in Touch"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Choose the best way to reach us. We're here to help!"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:P.map(C=>e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"text-3xl",children:C.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:C.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:C.description}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-medium text-blue-600",children:C.value}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Response time: ",C.response_time]})]})]})]})},C.name))}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Business Hours"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Customer Support"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Monday - Friday"}),e.jsx("span",{children:"8:00 AM - 8:00 PM"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Saturday"}),e.jsx("span",{children:"9:00 AM - 5:00 PM"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Sunday"}),e.jsx("span",{children:"Closed"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Technical Support"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Monday - Friday"}),e.jsx("span",{children:"24/7"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Weekend"}),e.jsx("span",{children:"Emergency only"})]})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-8 text-white text-center",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Need Immediate Help?"}),e.jsx("p",{className:"text-blue-100 mb-6",children:"For urgent technical issues or critical business matters, contact our emergency support line"}),e.jsxs("div",{className:"flex items-center justify-center space-x-8",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Emergency Hotline"}),e.jsx("p",{className:"text-xl",children:"+971 4 999 8888"})]}),e.jsx("div",{className:"text-4xl",children:"📱"})]})]})]})]})]})})},z5=()=>{const t=W(g=>g.authentication_state.current_user),s=W(g=>g.authentication_state.auth_token),r=W(g=>g.authentication_state.authentication_status.is_authenticated),[n,a]=u.useState("terms"),[i,l]=u.useState({terms_accepted:!1,terms_accepted_date:null,privacy_accepted:!1,privacy_accepted_date:null,marketing_consent:!1,cookie_preferences:{}}),o=Je(),c={terms:{content:"Terms of Service content",version:"2.1",effective_date:"2023-12-15",last_updated:"2023-12-15"},privacy:{content:"Privacy Policy content",version:"2.1",effective_date:"2023-12-15",last_updated:"2023-12-15"},gdpr:{content:"GDPR Policy content",version:"1.0",effective_date:"2023-12-15",last_updated:"2023-12-15"}},d=[{id:"essential",name:"Essential Cookies",description:"Required for basic platform functionality and security",required:!0,enabled:!0},{id:"performance",name:"Performance Cookies",description:"Help us analyze and improve platform performance",required:!1,enabled:!0},{id:"functional",name:"Functional Cookies",description:"Enable enhanced features and personalization",required:!1,enabled:!0},{id:"marketing",name:"Marketing Cookies",description:"Used for targeted advertising and recommendations",required:!1,enabled:!1}],m=[{version:"2.1",date:"2023-12-15",changes:["Updated dispute resolution procedures","Enhanced data protection clauses","Clarified shop owner responsibilities"]},{version:"2.0",date:"2023-10-01",changes:["Major update for GDPR compliance","Added cookie policy section","Updated liability limitations"]},{version:"1.9",date:"2023-07-15",changes:["Minor clarifications in terms","Updated contact information","Fixed formatting issues"]}];u.useEffect(()=>{t!=null&&t.preferences&&l({terms_accepted:t.preferences.terms_accepted||!1,terms_accepted_date:t.preferences.terms_accepted_date||null,privacy_accepted:t.preferences.privacy_accepted||!1,privacy_accepted_date:t.preferences.privacy_accepted_date||null,marketing_consent:t.preferences.marketing_consent||!1,cookie_preferences:t.preferences.cookie_preferences||{}})},[t]);const f=xe({mutationFn:async g=>{var p,k;if(!t||!s)throw new Error("Authentication required");return(await G.put(`http://localhost:3000/api/users/${t.id}`,{preferences:{...t.preferences,...g,terms_accepted_date:g.terms_accepted?new Date().toISOString():(p=t.preferences)==null?void 0:p.terms_accepted_date,privacy_accepted_date:g.privacy_accepted?new Date().toISOString():(k=t.preferences)==null?void 0:k.privacy_accepted_date}},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data},onSuccess:g=>{o.invalidateQueries({queryKey:["current-user"]}),g.preferences&&l({terms_accepted:g.preferences.terms_accepted||!1,terms_accepted_date:g.preferences.terms_accepted_date||null,privacy_accepted:g.preferences.privacy_accepted||!1,privacy_accepted_date:g.preferences.privacy_accepted_date||null,marketing_consent:g.preferences.marketing_consent||!1,cookie_preferences:g.preferences.cookie_preferences||{}})}}),x=(g,h)=>{if(!r)return;const p={};p[`${g}_accepted`]=h,f.mutate(p)},j=(g,h)=>{if(!r)return;const p={...i.cookie_preferences,[g]:h};f.mutate({cookie_preferences:p})},y=g=>{var I;const h=((I=c[g])==null?void 0:I.content)||"",p=new Blob([h],{type:"text/plain"}),k=URL.createObjectURL(p),E=document.createElement("a");E.href=k,E.download=`constructhub-${g}-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(k)},b=[{id:"terms",name:"Terms of Service",icon:wh},{id:"privacy",name:"Privacy Policy",icon:ra},{id:"cookies",name:"Cookie Policy",icon:Vw},{id:"community",name:"Community Guidelines",icon:Ti}],w=c[n];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Legal Documentation"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Terms, policies, and guidelines for ConstructHub platform"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Last Updated"}),e.jsx("p",{className:"font-semibold text-gray-900",children:w==null?void 0:w.last_updated})]}),e.jsxs("button",{onClick:()=>y(n),className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx($o,{size:18}),e.jsx("span",{children:"Download"})]})]})]})})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 sticky top-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documents"}),e.jsx("nav",{className:"space-y-2",children:b.map(g=>{const h=g.icon;return e.jsxs("button",{onClick:()=>a(g.id),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${n===g.id?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(h,{size:18}),e.jsx("span",{children:g.name})]},g.id)})}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Current Version"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(Og,{size:14,className:"text-gray-400"}),e.jsxs("span",{className:"text-gray-600",children:["v",w==null?void 0:w.version]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(bh,{size:14,className:"text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:w==null?void 0:w.effective_date})]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:()=>a("versions"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center space-x-1",children:[e.jsx(sa,{size:14}),e.jsx("span",{children:"View Version History"})]})})]})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:n==="versions"?e.jsxs("div",{className:"p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Version History"}),e.jsx("div",{className:"space-y-6",children:m.map((g,h)=>e.jsxs("div",{className:"border-l-4 border-blue-200 pl-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Version ",g.version,h===0&&e.jsx("span",{className:"ml-2 bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full",children:"Current"})]}),e.jsx("span",{className:"text-sm text-gray-500",children:g.date})]}),e.jsx("ul",{className:"space-y-1",children:g.changes.map((p,k)=>e.jsxs("li",{className:"text-gray-600 flex items-start space-x-2",children:[e.jsx("span",{className:"text-blue-500 mt-1",children:"•"}),e.jsx("span",{children:p})]},k))})]},g.version))})]}):n==="cookies"?e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"prose max-w-none",children:e.jsx("div",{className:"space-y-6 leading-relaxed",dangerouslySetInnerHTML:{__html:w==null?void 0:w.content.replace(/\n/g,"<br>").replace(/^# /gm,'<h1 class="text-2xl font-bold text-gray-900 mt-8 mb-4">').replace(/^## /gm,'<h2 class="text-xl font-semibold text-gray-900 mt-6 mb-3">').replace(/^### /gm,'<h3 class="text-lg font-medium text-gray-900 mt-4 mb-2">')}})}),r&&e.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Cookie Preferences"}),e.jsx("div",{className:"space-y-6",children:d.map(g=>e.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:g.name}),e.jsx("p",{className:"text-gray-600 text-sm",children:g.description}),g.required&&e.jsx("span",{className:"inline-block mt-2 bg-gray-200 text-gray-700 text-xs font-medium px-2 py-1 rounded",children:"Required"})]}),e.jsx("div",{className:"ml-6",children:e.jsx("button",{onClick:()=>!g.required&&j(g.id,!g.enabled),disabled:g.required||f.isPending,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${g.enabled?"bg-blue-600":"bg-gray-200"} ${g.required?"opacity-50 cursor-not-allowed":"cursor-pointer hover:bg-opacity-80"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${g.enabled?"translate-x-6":"translate-x-1"}`})})})]})},g.id))})]})]}):e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"prose max-w-none",children:e.jsx("div",{className:"space-y-6 leading-relaxed",dangerouslySetInnerHTML:{__html:w==null?void 0:w.content.replace(/\n/g,"<br>").replace(/^# /gm,'<h1 class="text-2xl font-bold text-gray-900 mt-8 mb-4">').replace(/^## /gm,'<h2 class="text-xl font-semibold text-gray-900 mt-6 mb-3">').replace(/^### /gm,'<h3 class="text-lg font-medium text-gray-900 mt-4 mb-2">')}})}),r&&(n==="terms"||n==="privacy")&&e.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:n==="terms"?"Terms Acceptance":"Privacy Consent"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-700 mb-2",children:n==="terms"?"I have read and agree to the Terms of Service":"I have read and agree to the Privacy Policy"}),(n==="terms"?i.terms_accepted_date:i.privacy_accepted_date)&&e.jsxs("p",{className:"text-sm text-gray-500",children:["Accepted on: ",new Date(n==="terms"?i.terms_accepted_date:i.privacy_accepted_date).toLocaleDateString()]})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("button",{onClick:()=>x(n,!0),disabled:f.isPending||(n==="terms"?i.terms_accepted:i.privacy_accepted),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2 ${n==="terms"?i.terms_accepted:i.privacy_accepted?"bg-green-100 text-green-800 cursor-default":"bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50"}`,children:[e.jsx(to,{size:18}),e.jsx("span",{children:n==="terms"?i.terms_accepted:i.privacy_accepted?"Accepted":"Accept"})]})})]})]})})]})})})]})}),e.jsx("footer",{className:"bg-white border-t border-gray-200 mt-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"For questions about these terms or our policies, please contact our legal team."}),e.jsxs("div",{className:"flex justify-center space-x-6 text-sm",children:[e.jsx(Z,{to:"/help",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Contact Support"}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx(Z,{to:"/about",className:"text-blue-600 hover:text-blue-700 font-medium",children:"About ConstructHub"}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("a",{href:"mailto:legal@constructhub.ae",className:"text-blue-600 hover:text-blue-700 font-medium",children:"legal@constructhub.ae"})]})]})})})]})})},D5=()=>{const[t,s]=nt(),r=W(y=>y.authentication_state.auth_token),n=W(y=>y.app_preferences.language),[a,i]=u.useState(t.get("section")||null),[l,o]=u.useState(t.get("lang")||n||"en"),c=xe({mutationFn:async y=>(await G.post("http://localhost:3000/api/analytics/events",{user_id:null,session_id:null,event_type:y.event_type,event_data:y.event_data,page_url:y.page_url},{headers:r?{Authorization:`Bearer ${r}`}:{}})).data});u.useEffect(()=>{(()=>{c.mutate({event_type:"privacy_policy_viewed",event_data:{section:a,language:l,timestamp:Date.now()},page_url:window.location.href})})()},[a,l,c]);const d=y=>{i(y);const b=new URLSearchParams(t);y?b.set("section",y):b.delete("section"),s(b),y?setTimeout(()=>{const w=document.getElementById(y);w&&w.scrollIntoView({behavior:"smooth"})},100):window.scrollTo({top:0,behavior:"smooth"})},m=y=>{o(y);const b=new URLSearchParams(t);b.set("lang",y),s(b)},f=()=>{alert(l==="ar"?"ميزة تحميل PDF قيد التطوير وستكون متاحة قريباً":"PDF download feature is under development and will be available soon")},x=l==="ar",j=[{id:"data-collection",title:x?"جمع البيانات":"Data Collection",icon:e.jsx(on,{className:"w-5 h-5"})},{id:"data-usage",title:x?"استخدام البيانات":"Data Usage",icon:e.jsx(Ti,{className:"w-5 h-5"})},{id:"user-rights",title:x?"حقوق المستخدم":"User Rights",icon:e.jsx(wh,{className:"w-5 h-5"})},{id:"security",title:x?"الأمان":"Security",icon:e.jsx(Qa,{className:"w-5 h-5"})}];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`min-h-screen bg-gray-50 ${x?"rtl":"ltr"}`,children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[e.jsx(ra,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:x?"سياسة الخصوصية":"Privacy Policy"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x?"آخر تحديث: ديسمبر 2023":"Last updated: December 2023"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[e.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>m("en"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${l==="en"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"EN"}),e.jsx("button",{onClick:()=>m("ar"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${l==="ar"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"عربي"})]}),e.jsxs("button",{onClick:f,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx($o,{className:"w-4 h-4 mr-2 rtl:mr-0 rtl:ml-2"}),x?"تحميل PDF":"Download PDF"]})]})]})})})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 sticky top-8",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:x?"المحتويات":"Contents"}),e.jsxs("nav",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>d(null),className:`w-full text-left px-3 py-2 text-sm rounded-lg transition-colors ${a?"text-gray-600 hover:text-gray-900 hover:bg-gray-50":"bg-blue-50 text-blue-700 font-medium"}`,children:x?"نظرة عامة":"Overview"}),j.map(y=>e.jsxs("button",{onClick:()=>d(y.id),className:`w-full flex items-center px-3 py-2 text-sm rounded-lg transition-colors ${a===y.id?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[y.icon,e.jsx("span",{className:"ml-3 rtl:ml-0 rtl:mr-3",children:y.title})]},y.id))]})]})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:e.jsxs("div",{className:"p-6 lg:p-8",children:[!a&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:x?"نظرة عامة على الخصوصية":"Privacy Overview"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:x?"في ConstructHub، نلتزم بحماية خصوصيتك وبياناتك الشخصية. توضح سياسة الخصوصية هذه كيفية جمعنا واستخدامنا وحمايتنا ومشاركتنا لمعلوماتك عند استخدام منصتنا لمواد البناء والمشتريات.":"At ConstructHub, we are committed to protecting your privacy and personal data. This privacy policy explains how we collect, use, protect, and share your information when you use our construction materials and procurement platform."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:j.map(y=>e.jsx("button",{onClick:()=>d(y.id),className:"p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors text-left",children:e.jsxs("div",{className:"flex items-center mb-2",children:[y.icon,e.jsx("h3",{className:"ml-3 rtl:ml-0 rtl:mr-3 font-semibold text-gray-900",children:y.title}),e.jsx(vh,{className:`w-4 h-4 text-gray-400 ml-auto rtl:ml-0 rtl:mr-auto ${x?"rotate-180":""}`})]})},y.id))})]}),a==="data-collection"&&e.jsxs("div",{id:"data-collection",className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:x?"جمع البيانات":"Data Collection"}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:x?"نجمع أنواعاً مختلفة من المعلومات لتقديم وتحسين خدماتنا:":"We collect various types of information to provide and improve our services:"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:x?"المعلومات الشخصية":"Personal Information"}),e.jsxs("ul",{className:"text-blue-800 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",x?"الاسم وعنوان البريد الإلكتروني":"Name and email address"]}),e.jsxs("li",{children:["• ",x?"رقم الهاتف والعنوان":"Phone number and address"]}),e.jsxs("li",{children:["• ",x?"معلومات الشركة (للشركات)":"Company information (for businesses)"]}),e.jsxs("li",{children:["• ",x?"تفضيلات الموقع":"Location preferences"]})]})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:x?"البيانات التلقائية":"Automatic Data Collection"}),e.jsxs("ul",{className:"text-green-800 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",x?"ملفات تعريف الارتباط وتقنيات التتبع":"Cookies and tracking technologies"]}),e.jsxs("li",{children:["• ",x?"معلومات الجهاز والمتصفح":"Device and browser information"]}),e.jsxs("li",{children:["• ",x?"عناوين IP وبيانات الاستخدام":"IP addresses and usage data"]}),e.jsxs("li",{children:["• ",x?"معلومات الموقع الجغرافي":"Geographic location information"]})]})]}),e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-purple-900 mb-2",children:x?"المعلومات المقدمة من المستخدم":"User-Provided Information"}),e.jsxs("ul",{className:"text-purple-800 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",x?"قوائم المواد (BOM) والمشاريع":"Bill of Materials (BOM) and projects"]}),e.jsxs("li",{children:["• ",x?"طلبات عروض الأسعار والرسائل":"RFQ requests and messages"]}),e.jsxs("li",{children:["• ",x?"المراجعات والتقييمات":"Reviews and ratings"]}),e.jsxs("li",{children:["• ",x?"تفضيلات البحث والتنبيهات":"Search preferences and alerts"]})]})]})]})]}),a==="data-usage"&&e.jsxs("div",{id:"data-usage",className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:x?"استخدام البيانات":"Data Usage"}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:x?"نستخدم المعلومات التي نجمعها للأغراض التالية:":"We use the information we collect for the following purposes:"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-l-4 border-blue-500 bg-blue-50 p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:x?"تقديم الخدمات ووظائف المنصة":"Service Provision & Platform Functionality"}),e.jsx("p",{className:"text-gray-700 text-sm",children:x?"توفير ميزات البحث والمقارنة، وإدارة BOMs، وتسهيل الاتصال بين المشترين والبائعين.":"Providing search and comparison features, managing BOMs, and facilitating communication between buyers and sellers."})]}),e.jsxs("div",{className:"border-l-4 border-green-500 bg-green-50 p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:x?"التخصيص والتوصيات":"Personalization & Recommendations"}),e.jsx("p",{className:"text-gray-700 text-sm",children:x?"تخصيص نتائج البحث، وتقديم توصيات المنتجات، وتحسين تجربة المستخدم بناءً على التفضيلات.":"Customizing search results, providing product recommendations, and improving user experience based on preferences."})]}),e.jsxs("div",{className:"border-l-4 border-purple-500 bg-purple-50 p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:x?"التسويق والاتصالات":"Marketing & Communications"}),e.jsx("p",{className:"text-gray-700 text-sm",children:x?"إرسال تنبيهات الأسعار، وتحديثات المخزون، والرسائل الإعلامية ذات الصلة (بموافقتك).":"Sending price alerts, inventory updates, and relevant promotional messages (with your consent)."})]}),e.jsxs("div",{className:"border-l-4 border-red-500 bg-red-50 p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:x?"الامتثال القانوني والسلامة":"Legal Compliance & Safety"}),e.jsx("p",{className:"text-gray-700 text-sm",children:x?"الامتثال للمتطلبات القانونية، ومنع الاحتيال، وضمان أمان المنصة والمستخدمين.":"Complying with legal requirements, preventing fraud, and ensuring platform and user safety."})]})]})]}),a==="user-rights"&&e.jsxs("div",{id:"user-rights",className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:x?"حقوق المستخدم والتحكم":"User Rights & Controls"}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:x?"لديك حقوق مختلفة فيما يتعلق ببياناتك الشخصية وكيفية استخدامها:":"You have various rights regarding your personal data and how it is used:"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:x?"الوصول والتصدير":"Access & Portability"}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:x?"طلب نسخة من بياناتك الشخصية وتصديرها بتنسيق قابل للقراءة.":"Request a copy of your personal data and export it in a readable format."}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:x?"طلب البيانات":"Request Data"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:x?"التصحيح والحذف":"Correction & Deletion"}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:x?"تحديث المعلومات غير الصحيحة أو حذف حسابك وبياناتك.":"Update incorrect information or delete your account and data."}),e.jsx(Z,{to:"/profile",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:x?"إدارة الحساب":"Manage Account"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:x?"تفضيلات الاتصال":"Communication Preferences"}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:x?"التحكم في أنواع الرسائل والتنبيهات التي تتلقاها.":"Control the types of messages and alerts you receive."}),e.jsx(Z,{to:"/alerts",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:x?"إدارة التنبيهات":"Manage Alerts"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:x?"إعدادات الخصوصية":"Privacy Settings"}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:x?"تخصيص مستوى خصوصيتك ومشاركة البيانات.":"Customize your privacy level and data sharing preferences."}),e.jsx(Z,{to:"/settings",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:x?"إعدادات الخصوصية":"Privacy Settings"})]})]})]}),a==="security"&&e.jsxs("div",{id:"security",className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:x?"الأمان والحماية":"Security & Protection"}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:x?"نطبق تدابير أمنية شاملة لحماية بياناتك:":"We implement comprehensive security measures to protect your data:"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(ra,{className:"w-6 h-6 text-green-600 mr-3 rtl:mr-0 rtl:ml-3"}),e.jsx("h3",{className:"font-semibold text-green-900",children:x?"تقنيات حماية البيانات":"Data Protection Technologies"})]}),e.jsxs("ul",{className:"text-green-800 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",x?"تشفير SSL/TLS للبيانات المنقولة":"SSL/TLS encryption for data in transit"]}),e.jsxs("li",{children:["• ",x?"تشفير AES-256 للبيانات المخزنة":"AES-256 encryption for data at rest"]}),e.jsxs("li",{children:["• ",x?"التوقيع الرقمي والتحقق من السلامة":"Digital signatures and integrity verification"]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(Qa,{className:"w-6 h-6 text-blue-600 mr-3 rtl:mr-0 rtl:ml-3"}),e.jsx("h3",{className:"font-semibold text-blue-900",children:x?"إجراءات التحكم في الوصول":"Access Control Procedures"})]}),e.jsxs("ul",{className:"text-blue-800 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",x?"المصادقة متعددة العوامل":"Multi-factor authentication"]}),e.jsxs("li",{children:["• ",x?"التحكم في الوصول القائم على الأدوار":"Role-based access control"]}),e.jsxs("li",{children:["• ",x?"مراجعة الوصول والتدقيق المنتظم":"Regular access reviews and auditing"]})]})]}),e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx($g,{className:"w-6 h-6 text-purple-600 mr-3 rtl:mr-0 rtl:ml-3"}),e.jsx("h3",{className:"font-semibold text-purple-900",children:x?"حماية النقل الدولي":"International Transfer Safeguards"})]}),e.jsxs("ul",{className:"text-purple-800 text-sm space-y-1",children:[e.jsxs("li",{children:["• ",x?"امتثال اللائحة العامة لحماية البيانات":"GDPR compliance measures"]}),e.jsxs("li",{children:["• ",x?"البنود التعاقدية النموذجية":"Standard contractual clauses"]}),e.jsxs("li",{children:["• ",x?"شهادات نقل البيانات الآمنة":"Secure data transfer certifications"]})]})]})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold text-red-900 mb-3",children:x?"الإبلاغ عن الحوادث الأمنية":"Security Incident Reporting"}),e.jsx("p",{className:"text-red-800 text-sm mb-3",children:x?"إذا كنت تشك في حدوث خرق أمني أو انتهاك للخصوصية، يرجى الاتصال بفريق الأمان لدينا فوراً:":"If you suspect a security breach or privacy violation, please contact our security team immediately:"}),e.jsx("a",{href:"mailto:security@constructhub.com",className:"text-red-600 hover:text-red-700 font-medium text-sm",children:"security@constructhub.com"})]})]}),e.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:x?"تواصل معنا":"Contact Us"}),e.jsx("p",{className:"text-gray-700 text-sm mb-4",children:x?"إذا كان لديك أي أسئلة حول سياسة الخصوصية هذه أو ممارسات البيانات لدينا:":"If you have any questions about this privacy policy or our data practices:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 mb-1",children:x?"البريد الإلكتروني":"Email"}),e.jsx("a",{href:"mailto:privacy@constructhub.com",className:"text-blue-600 hover:text-blue-700",children:"privacy@constructhub.com"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 mb-1",children:x?"مسؤول حماية البيانات":"Data Protection Officer"}),e.jsx("a",{href:"mailto:dpo@constructhub.com",className:"text-blue-600 hover:text-blue-700",children:"dpo@constructhub.com"})]})]})]})]})})})]})})]})})},U5=()=>{const[t,s]=nt(),r=W(_=>_.authentication_state.current_user),n=W(_=>_.authentication_state.auth_token),a=W(_=>_.app_preferences.language),[i,l]=u.useState(t.get("section")),[o]=u.useState(t.get("lang")||a||"en"),[c,d]=u.useState({name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",subject:"",message:"",user_type:(r==null?void 0:r.user_type)||"buyer"}),[m,f]=u.useState({}),[x,j]=u.useState(!1),[y]=u.useState(Date.now()),b=xe({mutationFn:async _=>{if(n)return G.post("http://localhost:3000/api/analytics/events",{event_type:"about_us_viewed",event_data:_,page_url:window.location.href},{headers:{Authorization:`Bearer ${n}`}})},onError:_=>{console.warn("Failed to track page view:",_)}}),{data:w}=ce({queryKey:["company-stats"],queryFn:async()=>({total_users:15420,total_shops:3240,total_projects:8750,cost_savings_generated:456e5}),staleTime:30*60*1e3}),g=xe({mutationFn:async _=>(console.log("Submitting contact form:",_),await new Promise(T=>setTimeout(T,1e3)),{success:!0,message:"Thank you for your inquiry. We will respond within 24 hours.",inquiry_id:"inquiry_"+Date.now()}),onSuccess:()=>{j(!0),d({name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",subject:"",message:"",user_type:(r==null?void 0:r.user_type)||"buyer"}),f({})},onError:()=>{f({submit:"Failed to submit inquiry. Please try again."})}});u.useEffect(()=>{b.mutate({section:i,language:o,timestamp:y})},[i,o,y,b]);const h=_=>{l(_);const T=new URLSearchParams(t);_?T.set("section",_):T.delete("section"),s(T)},p=()=>{const _={};return c.name.trim()||(_.name="Name is required"),c.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email)||(_.email="Please enter a valid email address"):_.email="Email is required",c.subject.trim()||(_.subject="Subject is required"),c.message.trim()?c.message.trim().length<10&&(_.message="Message must be at least 10 characters long"):_.message="Message is required",f(_),Object.keys(_).length===0},k=_=>{_.preventDefault(),f({}),p()&&g.mutate(c)},E=(_,T)=>{d(L=>({...L,[_]:T})),m[_]&&f(L=>({...L,[_]:""}))},I=_=>{const T=document.getElementById(_);T&&(T.scrollIntoView({behavior:"smooth"}),h(_))};return e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 py-20 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:["Transforming Construction",e.jsx("span",{className:"block text-blue-600",children:"Procurement"})]}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:"ConstructHub is revolutionizing how construction professionals discover, compare, and procure building materials across the UAE."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[e.jsx("button",{onClick:()=>I("company-story"),className:"px-8 py-4 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-all duration-200 hover:scale-105 shadow-lg",children:"Our Story"}),e.jsx("button",{onClick:()=>I("contact"),className:"px-8 py-4 bg-white text-blue-600 rounded-lg font-semibold border-2 border-blue-600 hover:bg-blue-50 transition-all duration-200",children:"Get In Touch"})]})]})}),e.jsx("nav",{className:"bg-white shadow-lg sticky top-16 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsx("div",{className:"flex justify-center overflow-x-auto py-4",children:e.jsx("div",{className:"flex space-x-8 min-w-max",children:[{id:"company-story",label:"Our Story"},{id:"platform",label:"Platform"},{id:"team",label:"Team"},{id:"impact",label:"Impact"},{id:"values",label:"Values"},{id:"contact",label:"Contact"}].map(_=>e.jsx("button",{onClick:()=>I(_.id),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${i===_.id?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:_.label},_.id))})})})}),w&&e.jsx("section",{className:"bg-blue-600 py-16 px-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[e.jsxs("div",{className:"text-white",children:[e.jsxs("div",{className:"text-3xl md:text-4xl font-bold mb-2",children:[w.total_users.toLocaleString(),"+"]}),e.jsx("div",{className:"text-blue-100 font-medium",children:"Active Users"})]}),e.jsxs("div",{className:"text-white",children:[e.jsxs("div",{className:"text-3xl md:text-4xl font-bold mb-2",children:[w.total_shops.toLocaleString(),"+"]}),e.jsx("div",{className:"text-blue-100 font-medium",children:"Partner Shops"})]}),e.jsxs("div",{className:"text-white",children:[e.jsxs("div",{className:"text-3xl md:text-4xl font-bold mb-2",children:[w.total_projects.toLocaleString(),"+"]}),e.jsx("div",{className:"text-blue-100 font-medium",children:"Projects Completed"})]}),e.jsxs("div",{className:"text-white",children:[e.jsxs("div",{className:"text-3xl md:text-4xl font-bold mb-2",children:[(w.cost_savings_generated/1e6).toFixed(1),"M AED"]}),e.jsx("div",{className:"text-blue-100 font-medium",children:"Cost Savings"})]})]})})}),e.jsx("section",{id:"company-story",className:"py-20 px-4 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Our Story"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Born from the challenges faced by construction professionals in the UAE market"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"The Problem We Solve"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Construction professionals waste countless hours calling suppliers, comparing prices manually, and managing complex procurement processes. Price transparency was limited, and finding the right materials at the best prices required extensive legwork."}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Small contractors struggled to compete with larger firms who had established supplier relationships, while shop owners missed opportunities to reach new customers due to limited visibility."})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Our Solution"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"ConstructHub democratizes construction procurement by creating a transparent, efficient marketplace where contractors can instantly compare prices, check availability, and connect with verified suppliers across the UAE."}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Our platform empowers both buyers and sellers with powerful tools for project management, route optimization, and real-time communication, creating a more efficient construction ecosystem."})]})]})]})]})}),e.jsx("section",{id:"platform",className:"py-20 px-4 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Platform Features"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Cutting-edge technology solutions designed for construction professionals"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-200",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-6",children:e.jsx(Gd,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Smart Search & Discovery"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"AI-powered search with voice recognition, barcode scanning, and intelligent product recommendations based on your project needs."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-200",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-6",children:e.jsx(qg,{className:"w-6 h-6 text-green-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Price Comparison & Optimization"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Real-time price comparison across multiple suppliers with route optimization and bulk purchasing recommendations."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-200",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-6",children:e.jsx(Mg,{className:"w-6 h-6 text-purple-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Project Management Tools"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Comprehensive BOM builder, RFQ management, and collaborative project planning with real-time updates."})]})]})]})}),e.jsx("section",{id:"team",className:"py-20 px-4 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Our Leadership Team"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Industry veterans and technology experts committed to transforming construction"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full mx-auto mb-6 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-3xl font-bold",children:"AH"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Ahmed Hassan"}),e.jsx("p",{className:"text-blue-600 font-medium mb-4",children:"Founder & CEO"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"15+ years in construction industry. Former procurement manager at major UAE developers. Holds MBA from AUS."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-green-400 to-green-600 rounded-full mx-auto mb-6 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-3xl font-bold",children:"SK"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Sarah Khan"}),e.jsx("p",{className:"text-green-600 font-medium mb-4",children:"CTO & Co-founder"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Tech industry veteran with expertise in marketplace platforms. Former senior engineer at major e-commerce companies."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full mx-auto mb-6 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-3xl font-bold",children:"MR"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Mohammed Rahman"}),e.jsx("p",{className:"text-purple-600 font-medium mb-4",children:"Head of Business Development"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Deep connections in UAE construction ecosystem. Former supplier network manager with extensive industry relationships."})]})]})]})}),e.jsx("section",{id:"impact",className:"py-20 px-4 bg-gradient-to-br from-gray-50 to-blue-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Market Impact"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Driving efficiency and transparency in the UAE construction industry"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Success Stories"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg p-6 shadow-md",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Ti,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Al Mansoori Construction"}),e.jsx("p",{className:"text-gray-600 text-sm",children:`"Reduced procurement time by 60% and saved 15% on material costs using ConstructHub's optimization tools."`})]})]})}),e.jsx("div",{className:"bg-white rounded-lg p-6 shadow-md",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Bt,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Dubai Building Supplies"}),e.jsx("p",{className:"text-gray-600 text-sm",children:`"Increased customer reach by 200% and improved inventory turnover through ConstructHub's platform."`})]})]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Industry Recognition"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(vc,{className:"w-8 h-8 text-yellow-500"}),e.jsx("span",{className:"text-gray-700 font-medium",children:"Best PropTech Innovation 2023 - Dubai Chamber"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(vc,{className:"w-8 h-8 text-yellow-500"}),e.jsx("span",{className:"text-gray-700 font-medium",children:"UAE Construction Excellence Award 2023"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(vc,{className:"w-8 h-8 text-yellow-500"}),e.jsx("span",{className:"text-gray-700 font-medium",children:"Top 10 Construction Startups - MEED"})]})]})]})]})]})}),e.jsx("section",{id:"values",className:"py-20 px-4 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Our Values"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"The principles that guide everything we do"})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:e.jsx(ra,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Transparency"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Open pricing, verified suppliers, and honest communication in every interaction."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:e.jsx(Gd,{className:"w-8 h-8 text-green-600"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Innovation"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Continuous improvement through technology and user feedback."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:e.jsx(Bg,{className:"w-8 h-8 text-purple-600"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Customer Success"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Your success is our success. We're committed to your project outcomes."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:e.jsx($g,{className:"w-8 h-8 text-yellow-600"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Sustainability"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Promoting efficient resource use and sustainable construction practices."})]})]})]})}),e.jsx("section",{id:"contact",className:"py-20 px-4 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Get In Touch"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Ready to transform your construction procurement? Let's talk."})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Contact Information"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(Et,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:"Headquarters"}),e.jsxs("p",{className:"text-gray-600",children:["Dubai Internet City",e.jsx("br",{}),"Building 3, Floor 12",e.jsx("br",{}),"Dubai, UAE"]})]})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(Ig,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:"Phone"}),e.jsxs("p",{className:"text-gray-600",children:["+971 4 123 4567",e.jsx("br",{}),"+971 50 123 4567 (WhatsApp)"]})]})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(ro,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:"Email"}),e.jsxs("p",{className:"text-gray-600",children:["hello@constructhub.ae",e.jsx("br",{}),"support@constructhub.ae"]})]})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-4",children:"Business Hours"}),e.jsxs("div",{className:"text-gray-600 space-y-1",children:[e.jsx("p",{children:"Sunday - Thursday: 8:00 AM - 6:00 PM"}),e.jsx("p",{children:"Friday: 8:00 AM - 12:00 PM"}),e.jsx("p",{children:"Saturday: Closed"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Send us a message"}),x?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-2",children:"Message Sent!"}),e.jsx("p",{className:"text-gray-600",children:"Thank you for your inquiry. We will respond within 24 hours."}),e.jsx("button",{onClick:()=>j(!1),className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Send Another Message"})]}):e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",id:"name",value:c.name,onChange:_=>E("name",_.target.value),className:`w-full px-4 py-3 rounded-lg border-2 focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all duration-200 ${m.name?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"Your full name"}),m.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",id:"email",value:c.email,onChange:_=>E("email",_.target.value),className:`w-full px-4 py-3 rounded-lg border-2 focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all duration-200 ${m.email?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"your.email@example.com"}),m.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"user_type",className:"block text-sm font-medium text-gray-700 mb-2",children:"I am a..."}),e.jsxs("select",{id:"user_type",value:c.user_type,onChange:_=>E("user_type",_.target.value),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all duration-200",children:[e.jsx("option",{value:"buyer",children:"Construction Professional / Contractor"}),e.jsx("option",{value:"seller",children:"Building Materials Supplier"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),e.jsx("input",{type:"text",id:"subject",value:c.subject,onChange:_=>E("subject",_.target.value),className:`w-full px-4 py-3 rounded-lg border-2 focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all duration-200 ${m.subject?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"How can we help you?"}),m.subject&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.subject})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),e.jsx("textarea",{id:"message",rows:5,value:c.message,onChange:_=>E("message",_.target.value),className:`w-full px-4 py-3 rounded-lg border-2 focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all duration-200 resize-none ${m.message?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"Tell us about your project or inquiry..."}),m.message&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.message})]}),m.submit&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:e.jsx("p",{className:"text-sm",children:m.submit})}),e.jsx("button",{type:"submit",disabled:g.isPending,className:"w-full px-6 py-4 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:g.isPending?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending Message..."]}):"Send Message"})]})]})]})]})}),e.jsx("section",{className:"bg-blue-600 py-16 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Get Started?"}),e.jsx("p",{className:"text-xl text-blue-100 mb-8 leading-relaxed",children:"Join thousands of construction professionals who trust ConstructHub for their procurement needs."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[e.jsx(Z,{to:"/register",className:"px-8 py-4 bg-white text-blue-600 rounded-lg font-semibold hover:bg-gray-100 transition-all duration-200 hover:scale-105 shadow-lg",children:"Start Free Trial"}),e.jsx(Z,{to:"/search",className:"px-8 py-4 bg-transparent text-white rounded-lg font-semibold border-2 border-white hover:bg-white hover:text-blue-600 transition-all duration-200",children:"Explore Platform"})]})]})})]})},V5=new Z2({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),Zg=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),De=({children:t})=>{const s=W(n=>n.authentication_state.authentication_status.is_authenticated);return W(n=>n.authentication_state.authentication_status.is_loading)?e.jsx(Zg,{}):s?e.jsx(e.Fragment,{children:t}):e.jsx(Ff,{to:"/login",replace:!0})},H5=({children:t})=>{const s=Rr(),r=W(m=>m.authentication_state.authentication_status.is_authenticated),n=W(m=>m.app_preferences.language),a=["/","/search","/product","/compare","/bom","/shop/dashboard","/shop/inventory","/rfq","/profile","/map","/alerts","/categories","/trip","/shop/settings","/orders","/bom-library","/saved-searches","/settings","/shop/analytics","/community","/help"],i=["/","/search","/product","/compare","/bom","/shop/dashboard","/shop/inventory","/rfq","/profile","/map","/alerts","/categories","/trip","/orders","/bom-library","/community"],l=["/search","/product","/compare","/categories","/map","/scan"],o=a.some(m=>m==="/"?s.pathname==="/":s.pathname.startsWith(m)),c=i.some(m=>m==="/"?s.pathname==="/":s.pathname.startsWith(m)),d=r&&l.some(m=>s.pathname.startsWith(m));return e.jsxs("div",{className:`min-h-screen bg-gray-50 ${n==="ar"?"rtl":"ltr"}`,children:[o&&e.jsx(Ow,{}),e.jsx("main",{className:`${o?"pt-16":""} ${c?"pb-16 md:pb-0":""}`,children:t}),c&&e.jsx("div",{className:"md:hidden",children:e.jsx(uN,{})}),d&&e.jsx(gN,{})]})},W5=()=>{const t=W(r=>r.authentication_state.authentication_status.is_loading),s=W(r=>r.initialize_auth);return u.useEffect(()=>{s()},[s]),t?e.jsx(Zg,{}):e.jsx(w2,{children:e.jsx(K2,{client:V5,children:e.jsx(H5,{children:e.jsxs(x2,{children:[e.jsx(ke,{path:"/",element:e.jsx(yN,{})}),e.jsx(ke,{path:"/register",element:e.jsx(a5,{})}),e.jsx(ke,{path:"/login",element:e.jsx(i5,{})}),e.jsx(ke,{path:"/categories/:category_path?",element:e.jsx(C5,{})}),e.jsx(ke,{path:"/help",element:e.jsx(q5,{})}),e.jsx(ke,{path:"/terms",element:e.jsx(z5,{})}),e.jsx(ke,{path:"/privacy",element:e.jsx(D5,{})}),e.jsx(ke,{path:"/about",element:e.jsx(U5,{})}),e.jsx(ke,{path:"/search",element:e.jsx(De,{children:e.jsx(l5,{})})}),e.jsx(ke,{path:"/product/:product_id",element:e.jsx(De,{children:e.jsx(o5,{})})}),e.jsx(ke,{path:"/compare",element:e.jsx(De,{children:e.jsx(p5,{})})}),e.jsx(ke,{path:"/bom/:bom_id?",element:e.jsx(De,{children:e.jsx(f5,{})})}),e.jsx(ke,{path:"/bom-library",element:e.jsx(De,{children:e.jsx(T5,{})})}),e.jsx(ke,{path:"/shop/dashboard",element:e.jsx(De,{children:e.jsx(g5,{})})}),e.jsx(ke,{path:"/shop/inventory",element:e.jsx(De,{children:e.jsx(y5,{})})}),e.jsx(ke,{path:"/shop/settings",element:e.jsx(De,{children:e.jsx(A5,{})})}),e.jsx(ke,{path:"/shop/analytics",element:e.jsx(De,{children:e.jsx($5,{})})}),e.jsx(ke,{path:"/rfq",element:e.jsx(De,{children:e.jsx(b5,{})})}),e.jsx(ke,{path:"/profile",element:e.jsx(De,{children:e.jsx(v5,{})})}),e.jsx(ke,{path:"/map",element:e.jsx(De,{children:e.jsx(k5,{})})}),e.jsx(ke,{path:"/alerts",element:e.jsx(De,{children:e.jsx(S5,{})})}),e.jsx(ke,{path:"/scan",element:e.jsx(De,{children:e.jsx(E5,{})})}),e.jsx(ke,{path:"/trip",element:e.jsx(De,{children:e.jsx(P5,{})})}),e.jsx(ke,{path:"/orders",element:e.jsx(De,{children:e.jsx(L5,{})})}),e.jsx(ke,{path:"/saved-searches",element:e.jsx(De,{children:e.jsx(F5,{})})}),e.jsx(ke,{path:"/settings",element:e.jsx(De,{children:e.jsx(O5,{})})}),e.jsx(ke,{path:"/community",element:e.jsx(De,{children:e.jsx(I5,{})})}),e.jsx(ke,{path:"*",element:e.jsx(Ff,{to:"/",replace:!0})})]})})})})},Q5=()=>e.jsx(e.Fragment,{children:e.jsx(W5,{})});_f(document.getElementById("root")).render(e.jsx(Q5,{}));
