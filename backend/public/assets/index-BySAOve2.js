var Ch=e=>{throw TypeError(e)};var zo=(e,s,r)=>s.has(e)||Ch("Cannot "+r);var F=(e,s,r)=>(zo(e,s,"read from private field"),r?r.call(e):s.get(e)),oe=(e,s,r)=>s.has(e)?Ch("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(e):s.set(e,r),te=(e,s,r,n)=>(zo(e,s,"write to private field"),n?n.call(e,r):s.set(e,r),r),me=(e,s,r)=>(zo(e,s,"access private method"),r);var Oi=(e,s,r,n)=>({set _(a){te(e,s,a,r)},get _(){return F(e,s,n)}});function Yg(e,s){for(var r=0;r<s.length;r++){const n=s[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Jg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mx={exports:{}},xo={},xx={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Si=Symbol.for("react.element"),Xg=Symbol.for("react.portal"),ey=Symbol.for("react.fragment"),ty=Symbol.for("react.strict_mode"),sy=Symbol.for("react.profiler"),ry=Symbol.for("react.provider"),ny=Symbol.for("react.context"),ay=Symbol.for("react.forward_ref"),iy=Symbol.for("react.suspense"),ly=Symbol.for("react.memo"),oy=Symbol.for("react.lazy"),Eh=Symbol.iterator;function cy(e){return e===null||typeof e!="object"?null:(e=Eh&&e[Eh]||e["@@iterator"],typeof e=="function"?e:null)}var px={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fx=Object.assign,gx={};function ha(e,s,r){this.props=e,this.context=s,this.refs=gx,this.updater=r||px}ha.prototype.isReactComponent={};ha.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};ha.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yx(){}yx.prototype=ha.prototype;function cu(e,s,r){this.props=e,this.context=s,this.refs=gx,this.updater=r||px}var du=cu.prototype=new yx;du.constructor=cu;fx(du,ha.prototype);du.isPureReactComponent=!0;var Ph=Array.isArray,bx=Object.prototype.hasOwnProperty,uu={current:null},vx={key:!0,ref:!0,__self:!0,__source:!0};function jx(e,s,r){var n,a={},i=null,l=null;if(s!=null)for(n in s.ref!==void 0&&(l=s.ref),s.key!==void 0&&(i=""+s.key),s)bx.call(s,n)&&!vx.hasOwnProperty(n)&&(a[n]=s[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Si,type:e,key:i,ref:l,props:a,_owner:uu.current}}function dy(e,s){return{$$typeof:Si,type:e.type,key:s,ref:e.ref,props:e.props,_owner:e._owner}}function hu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Si}function uy(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return s[r]})}var Ah=/\/+/g;function Do(e,s){return typeof e=="object"&&e!==null&&e.key!=null?uy(""+e.key):s.toString(36)}function al(e,s,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Si:case Xg:l=!0}}if(l)return l=e,a=a(l),e=n===""?"."+Do(l,0):n,Ph(a)?(r="",e!=null&&(r=e.replace(Ah,"$&/")+"/"),al(a,s,r,"",function(d){return d})):a!=null&&(hu(a)&&(a=dy(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(Ah,"$&/")+"/")+e)),s.push(a)),1;if(l=0,n=n===""?".":n+":",Ph(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+Do(i,o);l+=al(i,s,r,c,a)}else if(c=cy(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+Do(i,o++),l+=al(i,s,r,c,a);else if(i==="object")throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return l}function $i(e,s,r){if(e==null)return e;var n=[],a=0;return al(e,n,"","",function(i){return s.call(r,i,a++)}),n}function hy(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},il={transition:null},my={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:il,ReactCurrentOwner:uu};function wx(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:$i,forEach:function(e,s,r){$i(e,function(){s.apply(this,arguments)},r)},count:function(e){var s=0;return $i(e,function(){s++}),s},toArray:function(e){return $i(e,function(s){return s})||[]},only:function(e){if(!hu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=ha;ge.Fragment=ey;ge.Profiler=sy;ge.PureComponent=cu;ge.StrictMode=ty;ge.Suspense=iy;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=my;ge.act=wx;ge.cloneElement=function(e,s,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=fx({},e.props),a=e.key,i=e.ref,l=e._owner;if(s!=null){if(s.ref!==void 0&&(i=s.ref,l=uu.current),s.key!==void 0&&(a=""+s.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in s)bx.call(s,c)&&!vx.hasOwnProperty(c)&&(n[c]=s[c]===void 0&&o!==void 0?o[c]:s[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:Si,type:e.type,key:a,ref:i,props:n,_owner:l}};ge.createContext=function(e){return e={$$typeof:ny,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ry,_context:e},e.Consumer=e};ge.createElement=jx;ge.createFactory=function(e){var s=jx.bind(null,e);return s.type=e,s};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:ay,render:e}};ge.isValidElement=hu;ge.lazy=function(e){return{$$typeof:oy,_payload:{_status:-1,_result:e},_init:hy}};ge.memo=function(e,s){return{$$typeof:ly,type:e,compare:s===void 0?null:s}};ge.startTransition=function(e){var s=il.transition;il.transition={};try{e()}finally{il.transition=s}};ge.unstable_act=wx;ge.useCallback=function(e,s){return ht.current.useCallback(e,s)};ge.useContext=function(e){return ht.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};ge.useEffect=function(e,s){return ht.current.useEffect(e,s)};ge.useId=function(){return ht.current.useId()};ge.useImperativeHandle=function(e,s,r){return ht.current.useImperativeHandle(e,s,r)};ge.useInsertionEffect=function(e,s){return ht.current.useInsertionEffect(e,s)};ge.useLayoutEffect=function(e,s){return ht.current.useLayoutEffect(e,s)};ge.useMemo=function(e,s){return ht.current.useMemo(e,s)};ge.useReducer=function(e,s,r){return ht.current.useReducer(e,s,r)};ge.useRef=function(e){return ht.current.useRef(e)};ge.useState=function(e){return ht.current.useState(e)};ge.useSyncExternalStore=function(e,s,r){return ht.current.useSyncExternalStore(e,s,r)};ge.useTransition=function(){return ht.current.useTransition()};ge.version="18.3.1";xx.exports=ge;var u=xx.exports;const gn=Jg(u),xy=Yg({__proto__:null,default:gn},[u]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py=u,fy=Symbol.for("react.element"),gy=Symbol.for("react.fragment"),yy=Object.prototype.hasOwnProperty,by=py.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vy={key:!0,ref:!0,__self:!0,__source:!0};function Nx(e,s,r){var n,a={},i=null,l=null;r!==void 0&&(i=""+r),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(l=s.ref);for(n in s)yy.call(s,n)&&!vy.hasOwnProperty(n)&&(a[n]=s[n]);if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:fy,type:e,key:i,ref:l,props:a,_owner:by.current}}xo.Fragment=gy;xo.jsx=Nx;xo.jsxs=Nx;mx.exports=xo;var t=mx.exports,_x={exports:{}},Mt={},kx={exports:{}},Sx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s(S,z){var O=S.length;S.push(z);e:for(;0<O;){var N=O-1>>>1,A=S[N];if(0<a(A,z))S[N]=z,S[O]=A,O=N;else break e}}function r(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var z=S[0],O=S.pop();if(O!==z){S[0]=O;e:for(var N=0,A=S.length,M=A>>>1;N<M;){var Q=2*(N+1)-1,v=S[Q],$=Q+1,K=S[$];if(0>a(v,O))$<A&&0>a(K,v)?(S[N]=K,S[$]=O,N=$):(S[N]=v,S[Q]=O,N=Q);else if($<A&&0>a(K,O))S[N]=K,S[$]=O,N=$;else break e}}return z}function a(S,z){var O=S.sortIndex-z.sortIndex;return O!==0?O:S.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],m=1,f=null,x=3,j=!1,y=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(S){for(var z=r(d);z!==null;){if(z.callback===null)n(d);else if(z.startTime<=S)n(d),z.sortIndex=z.expirationTime,s(c,z);else break;z=r(d)}}function k(S){if(b=!1,p(S),!y)if(r(c)!==null)y=!0,P(E);else{var z=r(d);z!==null&&C(k,z.startTime-S)}}function E(S,z){y=!1,b&&(b=!1,g(L),L=-1),j=!0;var O=x;try{for(p(z),f=r(c);f!==null&&(!(f.expirationTime>z)||S&&!D());){var N=f.callback;if(typeof N=="function"){f.callback=null,x=f.priorityLevel;var A=N(f.expirationTime<=z);z=e.unstable_now(),typeof A=="function"?f.callback=A:f===r(c)&&n(c),p(z)}else n(c);f=r(c)}if(f!==null)var M=!0;else{var Q=r(d);Q!==null&&C(k,Q.startTime-z),M=!1}return M}finally{f=null,x=O,j=!1}}var I=!1,_=null,L=-1,T=5,q=-1;function D(){return!(e.unstable_now()-q<T)}function R(){if(_!==null){var S=e.unstable_now();q=S;var z=!0;try{z=_(!0,S)}finally{z?B():(I=!1,_=null)}}else I=!1}var B;if(typeof h=="function")B=function(){h(R)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,U=G.port2;G.port1.onmessage=R,B=function(){U.postMessage(null)}}else B=function(){w(R,0)};function P(S){_=S,I||(I=!0,B())}function C(S,z){L=w(function(){S(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){y||j||(y=!0,P(E))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(S){switch(x){case 1:case 2:case 3:var z=3;break;default:z=x}var O=x;x=z;try{return S()}finally{x=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,z){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var O=x;x=S;try{return z()}finally{x=O}},e.unstable_scheduleCallback=function(S,z,O){var N=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?N+O:N):O=N,S){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=O+A,S={id:m++,callback:z,priorityLevel:S,startTime:O,expirationTime:A,sortIndex:-1},O>N?(S.sortIndex=O,s(d,S),r(c)===null&&S===r(d)&&(b?(g(L),L=-1):b=!0,C(k,O-N))):(S.sortIndex=A,s(c,S),y||j||(y=!0,P(E))),S},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(S){var z=x;return function(){var O=x;x=z;try{return S.apply(this,arguments)}finally{x=O}}}})(Sx);kx.exports=Sx;var jy=kx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy=u,At=jy;function J(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cx=new Set,Ya={};function hn(e,s){Kn(e,s),Kn(e+"Capture",s)}function Kn(e,s){for(Ya[e]=s,e=0;e<s.length;e++)Cx.add(s[e])}var Ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sc=Object.prototype.hasOwnProperty,Ny=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rh={},Mh={};function _y(e){return Sc.call(Mh,e)?!0:Sc.call(Rh,e)?!1:Ny.test(e)?Mh[e]=!0:(Rh[e]=!0,!1)}function ky(e,s,r,n){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Sy(e,s,r,n){if(s===null||typeof s>"u"||ky(e,s,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function mt(e,s,r,n,a,i,l){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=s,this.sanitizeURL=i,this.removeEmptyString=l}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Je[e]=new mt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];Je[s]=new mt(s,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Je[e]=new mt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Je[e]=new mt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Je[e]=new mt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Je[e]=new mt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Je[e]=new mt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Je[e]=new mt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Je[e]=new mt(e,5,!1,e.toLowerCase(),null,!1,!1)});var mu=/[\-:]([a-z])/g;function xu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(mu,xu);Je[s]=new mt(s,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(mu,xu);Je[s]=new mt(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(mu,xu);Je[s]=new mt(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Je[e]=new mt(e,1,!1,e.toLowerCase(),null,!1,!1)});Je.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Je[e]=new mt(e,1,!1,e.toLowerCase(),null,!0,!0)});function pu(e,s,r,n){var a=Je.hasOwnProperty(s)?Je[s]:null;(a!==null?a.type!==0:n||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(Sy(s,r,a,n)&&(r=null),n||a===null?_y(s)&&(r===null?e.removeAttribute(s):e.setAttribute(s,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(s=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(s):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,s,r):e.setAttribute(s,r))))}var Bs=wy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bi=Symbol.for("react.element"),yn=Symbol.for("react.portal"),bn=Symbol.for("react.fragment"),fu=Symbol.for("react.strict_mode"),Cc=Symbol.for("react.profiler"),Ex=Symbol.for("react.provider"),Px=Symbol.for("react.context"),gu=Symbol.for("react.forward_ref"),Ec=Symbol.for("react.suspense"),Pc=Symbol.for("react.suspense_list"),yu=Symbol.for("react.memo"),Us=Symbol.for("react.lazy"),Ax=Symbol.for("react.offscreen"),Th=Symbol.iterator;function ja(e){return e===null||typeof e!="object"?null:(e=Th&&e[Th]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Object.assign,Uo;function Ma(e){if(Uo===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);Uo=s&&s[1]||""}return`
`+Uo+e}var Vo=!1;function Ho(e,s){if(!e||Vo)return"";Vo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(d){var n=d}Reflect.construct(e,[],s)}else{try{s.call()}catch(d){n=d}e.call(s.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{Vo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Cy(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Ho(e.type,!1),e;case 11:return e=Ho(e.type.render,!1),e;case 1:return e=Ho(e.type,!0),e;default:return""}}function Ac(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bn:return"Fragment";case yn:return"Portal";case Cc:return"Profiler";case fu:return"StrictMode";case Ec:return"Suspense";case Pc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Px:return(e.displayName||"Context")+".Consumer";case Ex:return(e._context.displayName||"Context")+".Provider";case gu:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yu:return s=e.displayName||null,s!==null?s:Ac(e.type)||"Memo";case Us:s=e._payload,e=e._init;try{return Ac(e(s))}catch{}}return null}function Ey(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ac(s);case 8:return s===fu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function _r(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rx(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Py(e){var s=Rx(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),n=""+e[s];if(!e.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,s,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function Ii(e){e._valueTracker||(e._valueTracker=Py(e))}function Mx(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var r=s.getValue(),n="";return e&&(n=Rx(e)?e.checked?"true":"false":e.value),e=n,e!==r?(s.setValue(e),!0):!1}function Cl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rc(e,s){var r=s.checked;return Le({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Lh(e,s){var r=s.defaultValue==null?"":s.defaultValue,n=s.checked!=null?s.checked:s.defaultChecked;r=_r(s.value!=null?s.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Tx(e,s){s=s.checked,s!=null&&pu(e,"checked",s,!1)}function Mc(e,s){Tx(e,s);var r=_r(s.value),n=s.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?Tc(e,s.type,r):s.hasOwnProperty("defaultValue")&&Tc(e,s.type,_r(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function Fh(e,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var n=s.type;if(!(n!=="submit"&&n!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,r||s===e.value||(e.value=s),e.defaultValue=s}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Tc(e,s,r){(s!=="number"||Cl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ta=Array.isArray;function An(e,s,r,n){if(e=e.options,s){s={};for(var a=0;a<r.length;a++)s["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=s.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+_r(r),s=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}s!==null||e[a].disabled||(s=e[a])}s!==null&&(s.selected=!0)}}function Lc(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(J(91));return Le({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Oh(e,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(J(92));if(Ta(r)){if(1<r.length)throw Error(J(93));r=r[0]}s=r}s==null&&(s=""),r=s}e._wrapperState={initialValue:_r(r)}}function Lx(e,s){var r=_r(s.value),n=_r(s.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),s.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function $h(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function Fx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fc(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?Fx(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qi,Ox=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(s,r,n,a)})}:e}(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(qi=qi||document.createElement("div"),qi.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=qi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function Ja(e,s){if(s){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=s;return}}e.textContent=s}var Ia={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ay=["Webkit","ms","Moz","O"];Object.keys(Ia).forEach(function(e){Ay.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),Ia[s]=Ia[e]})});function $x(e,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||Ia.hasOwnProperty(e)&&Ia[e]?(""+s).trim():s+"px"}function Bx(e,s){e=e.style;for(var r in s)if(s.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=$x(r,s[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var Ry=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oc(e,s){if(s){if(Ry[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(J(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(J(61))}if(s.style!=null&&typeof s.style!="object")throw Error(J(62))}}function $c(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bc=null;function bu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ic=null,Rn=null,Mn=null;function Bh(e){if(e=Pi(e)){if(typeof Ic!="function")throw Error(J(280));var s=e.stateNode;s&&(s=bo(s),Ic(e.stateNode,e.type,s))}}function Ix(e){Rn?Mn?Mn.push(e):Mn=[e]:Rn=e}function qx(){if(Rn){var e=Rn,s=Mn;if(Mn=Rn=null,Bh(e),s)for(e=0;e<s.length;e++)Bh(s[e])}}function zx(e,s){return e(s)}function Dx(){}var Wo=!1;function Ux(e,s,r){if(Wo)return e(s,r);Wo=!0;try{return zx(e,s,r)}finally{Wo=!1,(Rn!==null||Mn!==null)&&(Dx(),qx())}}function Xa(e,s){var r=e.stateNode;if(r===null)return null;var n=bo(r);if(n===null)return null;r=n[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(J(231,s,typeof r));return r}var qc=!1;if(Ls)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){qc=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{qc=!1}function My(e,s,r,n,a,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{s.apply(r,d)}catch(m){this.onError(m)}}var qa=!1,El=null,Pl=!1,zc=null,Ty={onError:function(e){qa=!0,El=e}};function Ly(e,s,r,n,a,i,l,o,c){qa=!1,El=null,My.apply(Ty,arguments)}function Fy(e,s,r,n,a,i,l,o,c){if(Ly.apply(this,arguments),qa){if(qa){var d=El;qa=!1,El=null}else throw Error(J(198));Pl||(Pl=!0,zc=d)}}function mn(e){var s=e,r=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,s.flags&4098&&(r=s.return),e=s.return;while(e)}return s.tag===3?r:null}function Vx(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function Ih(e){if(mn(e)!==e)throw Error(J(188))}function Oy(e){var s=e.alternate;if(!s){if(s=mn(e),s===null)throw Error(J(188));return s!==e?null:e}for(var r=e,n=s;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Ih(a),e;if(i===n)return Ih(a),s;i=i.sibling}throw Error(J(188))}if(r.return!==n.return)r=a,n=i;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,n=i;break}if(o===n){l=!0,n=a,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=a;break}if(o===n){l=!0,n=i,r=a;break}o=o.sibling}if(!l)throw Error(J(189))}}if(r.alternate!==n)throw Error(J(190))}if(r.tag!==3)throw Error(J(188));return r.stateNode.current===r?e:s}function Hx(e){return e=Oy(e),e!==null?Wx(e):null}function Wx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=Wx(e);if(s!==null)return s;e=e.sibling}return null}var Qx=At.unstable_scheduleCallback,qh=At.unstable_cancelCallback,$y=At.unstable_shouldYield,By=At.unstable_requestPaint,$e=At.unstable_now,Iy=At.unstable_getCurrentPriorityLevel,vu=At.unstable_ImmediatePriority,Zx=At.unstable_UserBlockingPriority,Al=At.unstable_NormalPriority,qy=At.unstable_LowPriority,Kx=At.unstable_IdlePriority,po=null,ms=null;function zy(e){if(ms&&typeof ms.onCommitFiberRoot=="function")try{ms.onCommitFiberRoot(po,e,void 0,(e.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:Vy,Dy=Math.log,Uy=Math.LN2;function Vy(e){return e>>>=0,e===0?32:31-(Dy(e)/Uy|0)|0}var zi=64,Di=4194304;function La(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rl(e,s){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~a;o!==0?n=La(o):(i&=l,i!==0&&(n=La(i)))}else l=r&~a,l!==0?n=La(l):i!==0&&(n=La(i));if(n===0)return 0;if(s!==0&&s!==n&&!(s&a)&&(a=n&-n,i=s&-s,a>=i||a===16&&(i&4194240)!==0))return s;if(n&4&&(n|=r&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=n;0<s;)r=31-Xt(s),a=1<<r,n|=e[r],s&=~a;return n}function Hy(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wy(e,s){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Xt(i),o=1<<l,c=a[l];c===-1?(!(o&r)||o&n)&&(a[l]=Hy(o,s)):c<=s&&(e.expiredLanes|=o),i&=~o}}function Dc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gx(){var e=zi;return zi<<=1,!(zi&4194240)&&(zi=64),e}function Qo(e){for(var s=[],r=0;31>r;r++)s.push(e);return s}function Ci(e,s,r){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-Xt(s),e[s]=r}function Qy(e,s){var r=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Xt(r),i=1<<a;s[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function ju(e,s){var r=e.entangledLanes|=s;for(e=e.entanglements;r;){var n=31-Xt(r),a=1<<n;a&s|e[n]&s&&(e[n]|=s),r&=~a}}var Se=0;function Yx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jx,wu,Xx,ep,tp,Uc=!1,Ui=[],dr=null,ur=null,hr=null,ei=new Map,ti=new Map,Qs=[],Zy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zh(e,s){switch(e){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":ei.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ti.delete(s.pointerId)}}function Na(e,s,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:s,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},s!==null&&(s=Pi(s),s!==null&&wu(s)),e):(e.eventSystemFlags|=n,s=e.targetContainers,a!==null&&s.indexOf(a)===-1&&s.push(a),e)}function Ky(e,s,r,n,a){switch(s){case"focusin":return dr=Na(dr,e,s,r,n,a),!0;case"dragenter":return ur=Na(ur,e,s,r,n,a),!0;case"mouseover":return hr=Na(hr,e,s,r,n,a),!0;case"pointerover":var i=a.pointerId;return ei.set(i,Na(ei.get(i)||null,e,s,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,ti.set(i,Na(ti.get(i)||null,e,s,r,n,a)),!0}return!1}function sp(e){var s=Or(e.target);if(s!==null){var r=mn(s);if(r!==null){if(s=r.tag,s===13){if(s=Vx(r),s!==null){e.blockedOn=s,tp(e.priority,function(){Xx(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ll(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var r=Vc(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Bc=n,r.target.dispatchEvent(n),Bc=null}else return s=Pi(r),s!==null&&wu(s),e.blockedOn=r,!1;s.shift()}return!0}function Dh(e,s,r){ll(e)&&r.delete(s)}function Gy(){Uc=!1,dr!==null&&ll(dr)&&(dr=null),ur!==null&&ll(ur)&&(ur=null),hr!==null&&ll(hr)&&(hr=null),ei.forEach(Dh),ti.forEach(Dh)}function _a(e,s){e.blockedOn===s&&(e.blockedOn=null,Uc||(Uc=!0,At.unstable_scheduleCallback(At.unstable_NormalPriority,Gy)))}function si(e){function s(a){return _a(a,e)}if(0<Ui.length){_a(Ui[0],e);for(var r=1;r<Ui.length;r++){var n=Ui[r];n.blockedOn===e&&(n.blockedOn=null)}}for(dr!==null&&_a(dr,e),ur!==null&&_a(ur,e),hr!==null&&_a(hr,e),ei.forEach(s),ti.forEach(s),r=0;r<Qs.length;r++)n=Qs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Qs.length&&(r=Qs[0],r.blockedOn===null);)sp(r),r.blockedOn===null&&Qs.shift()}var Tn=Bs.ReactCurrentBatchConfig,Ml=!0;function Yy(e,s,r,n){var a=Se,i=Tn.transition;Tn.transition=null;try{Se=1,Nu(e,s,r,n)}finally{Se=a,Tn.transition=i}}function Jy(e,s,r,n){var a=Se,i=Tn.transition;Tn.transition=null;try{Se=4,Nu(e,s,r,n)}finally{Se=a,Tn.transition=i}}function Nu(e,s,r,n){if(Ml){var a=Vc(e,s,r,n);if(a===null)rc(e,s,n,Tl,r),zh(e,n);else if(Ky(a,e,s,r,n))n.stopPropagation();else if(zh(e,n),s&4&&-1<Zy.indexOf(e)){for(;a!==null;){var i=Pi(a);if(i!==null&&Jx(i),i=Vc(e,s,r,n),i===null&&rc(e,s,n,Tl,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else rc(e,s,n,null,r)}}var Tl=null;function Vc(e,s,r,n){if(Tl=null,e=bu(n),e=Or(e),e!==null)if(s=mn(e),s===null)e=null;else if(r=s.tag,r===13){if(e=Vx(s),e!==null)return e;e=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return Tl=e,null}function rp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Iy()){case vu:return 1;case Zx:return 4;case Al:case qy:return 16;case Kx:return 536870912;default:return 16}default:return 16}}var ar=null,_u=null,ol=null;function np(){if(ol)return ol;var e,s=_u,r=s.length,n,a="value"in ar?ar.value:ar.textContent,i=a.length;for(e=0;e<r&&s[e]===a[e];e++);var l=r-e;for(n=1;n<=l&&s[r-n]===a[i-n];n++);return ol=a.slice(e,1<n?1-n:void 0)}function cl(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function Vi(){return!0}function Uh(){return!1}function Tt(e){function s(r,n,a,i,l){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vi:Uh,this.isPropagationStopped=Uh,this}return Le(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),s}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ku=Tt(ma),Ei=Le({},ma,{view:0,detail:0}),Xy=Tt(Ei),Zo,Ko,ka,fo=Le({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Su,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ka&&(ka&&e.type==="mousemove"?(Zo=e.screenX-ka.screenX,Ko=e.screenY-ka.screenY):Ko=Zo=0,ka=e),Zo)},movementY:function(e){return"movementY"in e?e.movementY:Ko}}),Vh=Tt(fo),eb=Le({},fo,{dataTransfer:0}),tb=Tt(eb),sb=Le({},Ei,{relatedTarget:0}),Go=Tt(sb),rb=Le({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),nb=Tt(rb),ab=Le({},ma,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ib=Tt(ab),lb=Le({},ma,{data:0}),Hh=Tt(lb),ob={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},db={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ub(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=db[e])?!!s[e]:!1}function Su(){return ub}var hb=Le({},Ei,{key:function(e){if(e.key){var s=ob[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=cl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Su,charCode:function(e){return e.type==="keypress"?cl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mb=Tt(hb),xb=Le({},fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wh=Tt(xb),pb=Le({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Su}),fb=Tt(pb),gb=Le({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),yb=Tt(gb),bb=Le({},fo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vb=Tt(bb),jb=[9,13,27,32],Cu=Ls&&"CompositionEvent"in window,za=null;Ls&&"documentMode"in document&&(za=document.documentMode);var wb=Ls&&"TextEvent"in window&&!za,ap=Ls&&(!Cu||za&&8<za&&11>=za),Qh=" ",Zh=!1;function ip(e,s){switch(e){case"keyup":return jb.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vn=!1;function Nb(e,s){switch(e){case"compositionend":return lp(s);case"keypress":return s.which!==32?null:(Zh=!0,Qh);case"textInput":return e=s.data,e===Qh&&Zh?null:e;default:return null}}function _b(e,s){if(vn)return e==="compositionend"||!Cu&&ip(e,s)?(e=np(),ol=_u=ar=null,vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ap&&s.locale!=="ko"?null:s.data;default:return null}}var kb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kh(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!kb[e.type]:s==="textarea"}function op(e,s,r,n){Ix(n),s=Ll(s,"onChange"),0<s.length&&(r=new ku("onChange","change",null,r,n),e.push({event:r,listeners:s}))}var Da=null,ri=null;function Sb(e){bp(e,0)}function go(e){var s=Nn(e);if(Mx(s))return e}function Cb(e,s){if(e==="change")return s}var cp=!1;if(Ls){var Yo;if(Ls){var Jo="oninput"in document;if(!Jo){var Gh=document.createElement("div");Gh.setAttribute("oninput","return;"),Jo=typeof Gh.oninput=="function"}Yo=Jo}else Yo=!1;cp=Yo&&(!document.documentMode||9<document.documentMode)}function Yh(){Da&&(Da.detachEvent("onpropertychange",dp),ri=Da=null)}function dp(e){if(e.propertyName==="value"&&go(ri)){var s=[];op(s,ri,e,bu(e)),Ux(Sb,s)}}function Eb(e,s,r){e==="focusin"?(Yh(),Da=s,ri=r,Da.attachEvent("onpropertychange",dp)):e==="focusout"&&Yh()}function Pb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return go(ri)}function Ab(e,s){if(e==="click")return go(s)}function Rb(e,s){if(e==="input"||e==="change")return go(s)}function Mb(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var ss=typeof Object.is=="function"?Object.is:Mb;function ni(e,s){if(ss(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var r=Object.keys(e),n=Object.keys(s);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Sc.call(s,a)||!ss(e[a],s[a]))return!1}return!0}function Jh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xh(e,s){var r=Jh(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=s&&n>=s)return{node:r,offset:s-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jh(r)}}function up(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?up(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function hp(){for(var e=window,s=Cl();s instanceof e.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)e=s.contentWindow;else break;s=Cl(e.document)}return s}function Eu(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function Tb(e){var s=hp(),r=e.focusedElem,n=e.selectionRange;if(s!==r&&r&&r.ownerDocument&&up(r.ownerDocument.documentElement,r)){if(n!==null&&Eu(r)){if(s=n.start,e=n.end,e===void 0&&(e=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(e,r.value.length);else if(e=(s=r.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Xh(r,i);var l=Xh(r,n);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(s=s.createRange(),s.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(s),e.extend(l.node,l.offset)):(s.setEnd(l.node,l.offset),e.addRange(s)))}}for(s=[],e=r;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)e=s[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Lb=Ls&&"documentMode"in document&&11>=document.documentMode,jn=null,Hc=null,Ua=null,Wc=!1;function em(e,s,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Wc||jn==null||jn!==Cl(n)||(n=jn,"selectionStart"in n&&Eu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ua&&ni(Ua,n)||(Ua=n,n=Ll(Hc,"onSelect"),0<n.length&&(s=new ku("onSelect","select",null,s,r),e.push({event:s,listeners:n}),s.target=jn)))}function Hi(e,s){var r={};return r[e.toLowerCase()]=s.toLowerCase(),r["Webkit"+e]="webkit"+s,r["Moz"+e]="moz"+s,r}var wn={animationend:Hi("Animation","AnimationEnd"),animationiteration:Hi("Animation","AnimationIteration"),animationstart:Hi("Animation","AnimationStart"),transitionend:Hi("Transition","TransitionEnd")},Xo={},mp={};Ls&&(mp=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);function yo(e){if(Xo[e])return Xo[e];if(!wn[e])return e;var s=wn[e],r;for(r in s)if(s.hasOwnProperty(r)&&r in mp)return Xo[e]=s[r];return e}var xp=yo("animationend"),pp=yo("animationiteration"),fp=yo("animationstart"),gp=yo("transitionend"),yp=new Map,tm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,s){yp.set(e,s),hn(s,[e])}for(var ec=0;ec<tm.length;ec++){var tc=tm[ec],Fb=tc.toLowerCase(),Ob=tc[0].toUpperCase()+tc.slice(1);Er(Fb,"on"+Ob)}Er(xp,"onAnimationEnd");Er(pp,"onAnimationIteration");Er(fp,"onAnimationStart");Er("dblclick","onDoubleClick");Er("focusin","onFocus");Er("focusout","onBlur");Er(gp,"onTransitionEnd");Kn("onMouseEnter",["mouseout","mouseover"]);Kn("onMouseLeave",["mouseout","mouseover"]);Kn("onPointerEnter",["pointerout","pointerover"]);Kn("onPointerLeave",["pointerout","pointerover"]);hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hn("onBeforeInput",["compositionend","keypress","textInput","paste"]);hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$b=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fa));function sm(e,s,r){var n=e.type||"unknown-event";e.currentTarget=r,Fy(n,s,void 0,e),e.currentTarget=null}function bp(e,s){s=(s&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(s)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;sm(a,o,d),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;sm(a,o,d),i=c}}}if(Pl)throw e=zc,Pl=!1,zc=null,e}function Ee(e,s){var r=s[Yc];r===void 0&&(r=s[Yc]=new Set);var n=e+"__bubble";r.has(n)||(vp(s,e,2,!1),r.add(n))}function sc(e,s,r){var n=0;s&&(n|=4),vp(r,e,n,s)}var Wi="_reactListening"+Math.random().toString(36).slice(2);function ai(e){if(!e[Wi]){e[Wi]=!0,Cx.forEach(function(r){r!=="selectionchange"&&($b.has(r)||sc(r,!1,e),sc(r,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Wi]||(s[Wi]=!0,sc("selectionchange",!1,s))}}function vp(e,s,r,n){switch(rp(s)){case 1:var a=Yy;break;case 4:a=Jy;break;default:a=Nu}r=a.bind(null,s,r,e),a=void 0,!qc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(s,r,{capture:!0,passive:a}):e.addEventListener(s,r,!0):a!==void 0?e.addEventListener(s,r,{passive:a}):e.addEventListener(s,r,!1)}function rc(e,s,r,n,a){var i=n;if(!(s&1)&&!(s&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=Or(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}Ux(function(){var d=i,m=bu(r),f=[];e:{var x=yp.get(e);if(x!==void 0){var j=ku,y=e;switch(e){case"keypress":if(cl(r)===0)break e;case"keydown":case"keyup":j=mb;break;case"focusin":y="focus",j=Go;break;case"focusout":y="blur",j=Go;break;case"beforeblur":case"afterblur":j=Go;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Vh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=tb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=fb;break;case xp:case pp:case fp:j=nb;break;case gp:j=yb;break;case"scroll":j=Xy;break;case"wheel":j=vb;break;case"copy":case"cut":case"paste":j=ib;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Wh}var b=(s&4)!==0,w=!b&&e==="scroll",g=b?x!==null?x+"Capture":null:x;b=[];for(var h=d,p;h!==null;){p=h;var k=p.stateNode;if(p.tag===5&&k!==null&&(p=k,g!==null&&(k=Xa(h,g),k!=null&&b.push(ii(h,k,p)))),w)break;h=h.return}0<b.length&&(x=new j(x,y,null,r,m),f.push({event:x,listeners:b}))}}if(!(s&7)){e:{if(x=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",x&&r!==Bc&&(y=r.relatedTarget||r.fromElement)&&(Or(y)||y[Fs]))break e;if((j||x)&&(x=m.window===m?m:(x=m.ownerDocument)?x.defaultView||x.parentWindow:window,j?(y=r.relatedTarget||r.toElement,j=d,y=y?Or(y):null,y!==null&&(w=mn(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(j=null,y=d),j!==y)){if(b=Vh,k="onMouseLeave",g="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(b=Wh,k="onPointerLeave",g="onPointerEnter",h="pointer"),w=j==null?x:Nn(j),p=y==null?x:Nn(y),x=new b(k,h+"leave",j,r,m),x.target=w,x.relatedTarget=p,k=null,Or(m)===d&&(b=new b(g,h+"enter",y,r,m),b.target=p,b.relatedTarget=w,k=b),w=k,j&&y)t:{for(b=j,g=y,h=0,p=b;p;p=xn(p))h++;for(p=0,k=g;k;k=xn(k))p++;for(;0<h-p;)b=xn(b),h--;for(;0<p-h;)g=xn(g),p--;for(;h--;){if(b===g||g!==null&&b===g.alternate)break t;b=xn(b),g=xn(g)}b=null}else b=null;j!==null&&rm(f,x,j,b,!1),y!==null&&w!==null&&rm(f,w,y,b,!0)}}e:{if(x=d?Nn(d):window,j=x.nodeName&&x.nodeName.toLowerCase(),j==="select"||j==="input"&&x.type==="file")var E=Cb;else if(Kh(x))if(cp)E=Rb;else{E=Pb;var I=Eb}else(j=x.nodeName)&&j.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(E=Ab);if(E&&(E=E(e,d))){op(f,E,r,m);break e}I&&I(e,x,d),e==="focusout"&&(I=x._wrapperState)&&I.controlled&&x.type==="number"&&Tc(x,"number",x.value)}switch(I=d?Nn(d):window,e){case"focusin":(Kh(I)||I.contentEditable==="true")&&(jn=I,Hc=d,Ua=null);break;case"focusout":Ua=Hc=jn=null;break;case"mousedown":Wc=!0;break;case"contextmenu":case"mouseup":case"dragend":Wc=!1,em(f,r,m);break;case"selectionchange":if(Lb)break;case"keydown":case"keyup":em(f,r,m)}var _;if(Cu)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else vn?ip(e,r)&&(L="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(ap&&r.locale!=="ko"&&(vn||L!=="onCompositionStart"?L==="onCompositionEnd"&&vn&&(_=np()):(ar=m,_u="value"in ar?ar.value:ar.textContent,vn=!0)),I=Ll(d,L),0<I.length&&(L=new Hh(L,e,null,r,m),f.push({event:L,listeners:I}),_?L.data=_:(_=lp(r),_!==null&&(L.data=_)))),(_=wb?Nb(e,r):_b(e,r))&&(d=Ll(d,"onBeforeInput"),0<d.length&&(m=new Hh("onBeforeInput","beforeinput",null,r,m),f.push({event:m,listeners:d}),m.data=_))}bp(f,s)})}function ii(e,s,r){return{instance:e,listener:s,currentTarget:r}}function Ll(e,s){for(var r=s+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Xa(e,r),i!=null&&n.unshift(ii(e,i,a)),i=Xa(e,s),i!=null&&n.push(ii(e,i,a))),e=e.return}return n}function xn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rm(e,s,r,n,a){for(var i=s._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,a?(c=Xa(r,i),c!=null&&l.unshift(ii(r,c,o))):a||(c=Xa(r,i),c!=null&&l.push(ii(r,c,o)))),r=r.return}l.length!==0&&e.push({event:s,listeners:l})}var Bb=/\r\n?/g,Ib=/\u0000|\uFFFD/g;function nm(e){return(typeof e=="string"?e:""+e).replace(Bb,`
`).replace(Ib,"")}function Qi(e,s,r){if(s=nm(s),nm(e)!==s&&r)throw Error(J(425))}function Fl(){}var Qc=null,Zc=null;function Kc(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Gc=typeof setTimeout=="function"?setTimeout:void 0,qb=typeof clearTimeout=="function"?clearTimeout:void 0,am=typeof Promise=="function"?Promise:void 0,zb=typeof queueMicrotask=="function"?queueMicrotask:typeof am<"u"?function(e){return am.resolve(null).then(e).catch(Db)}:Gc;function Db(e){setTimeout(function(){throw e})}function nc(e,s){var r=s,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),si(s);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);si(s)}function mr(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function im(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return e;s--}else r==="/$"&&s++}e=e.previousSibling}return null}var xa=Math.random().toString(36).slice(2),hs="__reactFiber$"+xa,li="__reactProps$"+xa,Fs="__reactContainer$"+xa,Yc="__reactEvents$"+xa,Ub="__reactListeners$"+xa,Vb="__reactHandles$"+xa;function Or(e){var s=e[hs];if(s)return s;for(var r=e.parentNode;r;){if(s=r[Fs]||r[hs]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(e=im(e);e!==null;){if(r=e[hs])return r;e=im(e)}return s}e=r,r=e.parentNode}return null}function Pi(e){return e=e[hs]||e[Fs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function bo(e){return e[li]||null}var Jc=[],_n=-1;function Pr(e){return{current:e}}function Pe(e){0>_n||(e.current=Jc[_n],Jc[_n]=null,_n--)}function Ce(e,s){_n++,Jc[_n]=e.current,e.current=s}var kr={},nt=Pr(kr),bt=Pr(!1),en=kr;function Gn(e,s){var r=e.type.contextTypes;if(!r)return kr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===s)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=s[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),a}function vt(e){return e=e.childContextTypes,e!=null}function Ol(){Pe(bt),Pe(nt)}function lm(e,s,r){if(nt.current!==kr)throw Error(J(168));Ce(nt,s),Ce(bt,r)}function jp(e,s,r){var n=e.stateNode;if(s=s.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in s))throw Error(J(108,Ey(e)||"Unknown",a));return Le({},r,n)}function $l(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kr,en=nt.current,Ce(nt,e),Ce(bt,bt.current),!0}function om(e,s,r){var n=e.stateNode;if(!n)throw Error(J(169));r?(e=jp(e,s,en),n.__reactInternalMemoizedMergedChildContext=e,Pe(bt),Pe(nt),Ce(nt,e)):Pe(bt),Ce(bt,r)}var Ns=null,vo=!1,ac=!1;function wp(e){Ns===null?Ns=[e]:Ns.push(e)}function Hb(e){vo=!0,wp(e)}function Ar(){if(!ac&&Ns!==null){ac=!0;var e=0,s=Se;try{var r=Ns;for(Se=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ns=null,vo=!1}catch(a){throw Ns!==null&&(Ns=Ns.slice(e+1)),Qx(vu,Ar),a}finally{Se=s,ac=!1}}return null}var kn=[],Sn=0,Bl=null,Il=0,Ot=[],$t=0,tn=null,As=1,Rs="";function Tr(e,s){kn[Sn++]=Il,kn[Sn++]=Bl,Bl=e,Il=s}function Np(e,s,r){Ot[$t++]=As,Ot[$t++]=Rs,Ot[$t++]=tn,tn=e;var n=As;e=Rs;var a=32-Xt(n)-1;n&=~(1<<a),r+=1;var i=32-Xt(s)+a;if(30<i){var l=a-a%5;i=(n&(1<<l)-1).toString(32),n>>=l,a-=l,As=1<<32-Xt(s)+a|r<<a|n,Rs=i+e}else As=1<<i|r<<a|n,Rs=e}function Pu(e){e.return!==null&&(Tr(e,1),Np(e,1,0))}function Au(e){for(;e===Bl;)Bl=kn[--Sn],kn[Sn]=null,Il=kn[--Sn],kn[Sn]=null;for(;e===tn;)tn=Ot[--$t],Ot[$t]=null,Rs=Ot[--$t],Ot[$t]=null,As=Ot[--$t],Ot[$t]=null}var Et=null,Ct=null,Re=!1,Jt=null;function _p(e,s){var r=qt(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=e,s=e.deletions,s===null?(e.deletions=[r],e.flags|=16):s.push(r)}function cm(e,s){switch(e.tag){case 5:var r=e.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,Et=e,Ct=mr(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,Et=e,Ct=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=tn!==null?{id:As,overflow:Rs}:null,e.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=qt(18,null,null,0),r.stateNode=s,r.return=e,e.child=r,Et=e,Ct=null,!0):!1;default:return!1}}function Xc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ed(e){if(Re){var s=Ct;if(s){var r=s;if(!cm(e,s)){if(Xc(e))throw Error(J(418));s=mr(r.nextSibling);var n=Et;s&&cm(e,s)?_p(n,r):(e.flags=e.flags&-4097|2,Re=!1,Et=e)}}else{if(Xc(e))throw Error(J(418));e.flags=e.flags&-4097|2,Re=!1,Et=e}}}function dm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Et=e}function Zi(e){if(e!==Et)return!1;if(!Re)return dm(e),Re=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!Kc(e.type,e.memoizedProps)),s&&(s=Ct)){if(Xc(e))throw kp(),Error(J(418));for(;s;)_p(e,s),s=mr(s.nextSibling)}if(dm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(s===0){Ct=mr(e.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}e=e.nextSibling}Ct=null}}else Ct=Et?mr(e.stateNode.nextSibling):null;return!0}function kp(){for(var e=Ct;e;)e=mr(e.nextSibling)}function Yn(){Ct=Et=null,Re=!1}function Ru(e){Jt===null?Jt=[e]:Jt.push(e)}var Wb=Bs.ReactCurrentBatchConfig;function Sa(e,s,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(J(309));var n=r.stateNode}if(!n)throw Error(J(147,e));var a=n,i=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===i?s.ref:(s=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},s._stringRef=i,s)}if(typeof e!="string")throw Error(J(284));if(!r._owner)throw Error(J(290,e))}return e}function Ki(e,s){throw e=Object.prototype.toString.call(s),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function um(e){var s=e._init;return s(e._payload)}function Sp(e){function s(g,h){if(e){var p=g.deletions;p===null?(g.deletions=[h],g.flags|=16):p.push(h)}}function r(g,h){if(!e)return null;for(;h!==null;)s(g,h),h=h.sibling;return null}function n(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function a(g,h){return g=gr(g,h),g.index=0,g.sibling=null,g}function i(g,h,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<h?(g.flags|=2,h):p):(g.flags|=2,h)):(g.flags|=1048576,h)}function l(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,h,p,k){return h===null||h.tag!==6?(h=hc(p,g.mode,k),h.return=g,h):(h=a(h,p),h.return=g,h)}function c(g,h,p,k){var E=p.type;return E===bn?m(g,h,p.props.children,k,p.key):h!==null&&(h.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Us&&um(E)===h.type)?(k=a(h,p.props),k.ref=Sa(g,h,p),k.return=g,k):(k=fl(p.type,p.key,p.props,null,g.mode,k),k.ref=Sa(g,h,p),k.return=g,k)}function d(g,h,p,k){return h===null||h.tag!==4||h.stateNode.containerInfo!==p.containerInfo||h.stateNode.implementation!==p.implementation?(h=mc(p,g.mode,k),h.return=g,h):(h=a(h,p.children||[]),h.return=g,h)}function m(g,h,p,k,E){return h===null||h.tag!==7?(h=Yr(p,g.mode,k,E),h.return=g,h):(h=a(h,p),h.return=g,h)}function f(g,h,p){if(typeof h=="string"&&h!==""||typeof h=="number")return h=hc(""+h,g.mode,p),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Bi:return p=fl(h.type,h.key,h.props,null,g.mode,p),p.ref=Sa(g,null,h),p.return=g,p;case yn:return h=mc(h,g.mode,p),h.return=g,h;case Us:var k=h._init;return f(g,k(h._payload),p)}if(Ta(h)||ja(h))return h=Yr(h,g.mode,p,null),h.return=g,h;Ki(g,h)}return null}function x(g,h,p,k){var E=h!==null?h.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return E!==null?null:o(g,h,""+p,k);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Bi:return p.key===E?c(g,h,p,k):null;case yn:return p.key===E?d(g,h,p,k):null;case Us:return E=p._init,x(g,h,E(p._payload),k)}if(Ta(p)||ja(p))return E!==null?null:m(g,h,p,k,null);Ki(g,p)}return null}function j(g,h,p,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(p)||null,o(h,g,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Bi:return g=g.get(k.key===null?p:k.key)||null,c(h,g,k,E);case yn:return g=g.get(k.key===null?p:k.key)||null,d(h,g,k,E);case Us:var I=k._init;return j(g,h,p,I(k._payload),E)}if(Ta(k)||ja(k))return g=g.get(p)||null,m(h,g,k,E,null);Ki(h,k)}return null}function y(g,h,p,k){for(var E=null,I=null,_=h,L=h=0,T=null;_!==null&&L<p.length;L++){_.index>L?(T=_,_=null):T=_.sibling;var q=x(g,_,p[L],k);if(q===null){_===null&&(_=T);break}e&&_&&q.alternate===null&&s(g,_),h=i(q,h,L),I===null?E=q:I.sibling=q,I=q,_=T}if(L===p.length)return r(g,_),Re&&Tr(g,L),E;if(_===null){for(;L<p.length;L++)_=f(g,p[L],k),_!==null&&(h=i(_,h,L),I===null?E=_:I.sibling=_,I=_);return Re&&Tr(g,L),E}for(_=n(g,_);L<p.length;L++)T=j(_,g,L,p[L],k),T!==null&&(e&&T.alternate!==null&&_.delete(T.key===null?L:T.key),h=i(T,h,L),I===null?E=T:I.sibling=T,I=T);return e&&_.forEach(function(D){return s(g,D)}),Re&&Tr(g,L),E}function b(g,h,p,k){var E=ja(p);if(typeof E!="function")throw Error(J(150));if(p=E.call(p),p==null)throw Error(J(151));for(var I=E=null,_=h,L=h=0,T=null,q=p.next();_!==null&&!q.done;L++,q=p.next()){_.index>L?(T=_,_=null):T=_.sibling;var D=x(g,_,q.value,k);if(D===null){_===null&&(_=T);break}e&&_&&D.alternate===null&&s(g,_),h=i(D,h,L),I===null?E=D:I.sibling=D,I=D,_=T}if(q.done)return r(g,_),Re&&Tr(g,L),E;if(_===null){for(;!q.done;L++,q=p.next())q=f(g,q.value,k),q!==null&&(h=i(q,h,L),I===null?E=q:I.sibling=q,I=q);return Re&&Tr(g,L),E}for(_=n(g,_);!q.done;L++,q=p.next())q=j(_,g,L,q.value,k),q!==null&&(e&&q.alternate!==null&&_.delete(q.key===null?L:q.key),h=i(q,h,L),I===null?E=q:I.sibling=q,I=q);return e&&_.forEach(function(R){return s(g,R)}),Re&&Tr(g,L),E}function w(g,h,p,k){if(typeof p=="object"&&p!==null&&p.type===bn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Bi:e:{for(var E=p.key,I=h;I!==null;){if(I.key===E){if(E=p.type,E===bn){if(I.tag===7){r(g,I.sibling),h=a(I,p.props.children),h.return=g,g=h;break e}}else if(I.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Us&&um(E)===I.type){r(g,I.sibling),h=a(I,p.props),h.ref=Sa(g,I,p),h.return=g,g=h;break e}r(g,I);break}else s(g,I);I=I.sibling}p.type===bn?(h=Yr(p.props.children,g.mode,k,p.key),h.return=g,g=h):(k=fl(p.type,p.key,p.props,null,g.mode,k),k.ref=Sa(g,h,p),k.return=g,g=k)}return l(g);case yn:e:{for(I=p.key;h!==null;){if(h.key===I)if(h.tag===4&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){r(g,h.sibling),h=a(h,p.children||[]),h.return=g,g=h;break e}else{r(g,h);break}else s(g,h);h=h.sibling}h=mc(p,g.mode,k),h.return=g,g=h}return l(g);case Us:return I=p._init,w(g,h,I(p._payload),k)}if(Ta(p))return y(g,h,p,k);if(ja(p))return b(g,h,p,k);Ki(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,h!==null&&h.tag===6?(r(g,h.sibling),h=a(h,p),h.return=g,g=h):(r(g,h),h=hc(p,g.mode,k),h.return=g,g=h),l(g)):r(g,h)}return w}var Jn=Sp(!0),Cp=Sp(!1),ql=Pr(null),zl=null,Cn=null,Mu=null;function Tu(){Mu=Cn=zl=null}function Lu(e){var s=ql.current;Pe(ql),e._currentValue=s}function td(e,s,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,n!==null&&(n.childLanes|=s)):n!==null&&(n.childLanes&s)!==s&&(n.childLanes|=s),e===r)break;e=e.return}}function Ln(e,s){zl=e,Mu=Cn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&s&&(yt=!0),e.firstContext=null)}function Ut(e){var s=e._currentValue;if(Mu!==e)if(e={context:e,memoizedValue:s,next:null},Cn===null){if(zl===null)throw Error(J(308));Cn=e,zl.dependencies={lanes:0,firstContext:e}}else Cn=Cn.next=e;return s}var $r=null;function Fu(e){$r===null?$r=[e]:$r.push(e)}function Ep(e,s,r,n){var a=s.interleaved;return a===null?(r.next=r,Fu(s)):(r.next=a.next,a.next=r),s.interleaved=r,Os(e,n)}function Os(e,s){e.lanes|=s;var r=e.alternate;for(r!==null&&(r.lanes|=s),r=e,e=e.return;e!==null;)e.childLanes|=s,r=e.alternate,r!==null&&(r.childLanes|=s),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Vs=!1;function Ou(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pp(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ms(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function xr(e,s,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,je&2){var a=n.pending;return a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s,Os(e,r)}return a=n.interleaved,a===null?(s.next=s,Fu(n)):(s.next=a.next,a.next=s),n.interleaved=s,Os(e,r)}function dl(e,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var n=s.lanes;n&=e.pendingLanes,r|=n,s.lanes=r,ju(e,r)}}function hm(e,s){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?a=i=s:i=i.next=s}else a=i=s;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=s:e.next=s,r.lastBaseUpdate=s}function Dl(e,s,r,n){var a=e.updateQueue;Vs=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var m=e.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==l&&(o===null?m.firstBaseUpdate=d:o.next=d,m.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;l=0,m=d=c=null,o=i;do{var x=o.lane,j=o.eventTime;if((n&x)===x){m!==null&&(m=m.next={eventTime:j,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,b=o;switch(x=s,j=r,b.tag){case 1:if(y=b.payload,typeof y=="function"){f=y.call(j,f,x);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,x=typeof y=="function"?y.call(j,f,x):y,x==null)break e;f=Le({},f,x);break e;case 2:Vs=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,x=a.effects,x===null?a.effects=[o]:x.push(o))}else j={eventTime:j,lane:x,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(d=m=j,c=f):m=m.next=j,l|=x;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;x=o,o=x.next,x.next=null,a.lastBaseUpdate=x,a.shared.pending=null}}while(!0);if(m===null&&(c=f),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=m,s=a.shared.interleaved,s!==null){a=s;do l|=a.lane,a=a.next;while(a!==s)}else i===null&&(a.shared.lanes=0);rn|=l,e.lanes=l,e.memoizedState=f}}function mm(e,s,r){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var n=e[s],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(J(191,a));a.call(n)}}}var Ai={},xs=Pr(Ai),oi=Pr(Ai),ci=Pr(Ai);function Br(e){if(e===Ai)throw Error(J(174));return e}function $u(e,s){switch(Ce(ci,s),Ce(oi,e),Ce(xs,Ai),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Fc(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=Fc(s,e)}Pe(xs),Ce(xs,s)}function Xn(){Pe(xs),Pe(oi),Pe(ci)}function Ap(e){Br(ci.current);var s=Br(xs.current),r=Fc(s,e.type);s!==r&&(Ce(oi,e),Ce(xs,r))}function Bu(e){oi.current===e&&(Pe(xs),Pe(oi))}var Me=Pr(0);function Ul(e){for(var s=e;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ic=[];function Iu(){for(var e=0;e<ic.length;e++)ic[e]._workInProgressVersionPrimary=null;ic.length=0}var ul=Bs.ReactCurrentDispatcher,lc=Bs.ReactCurrentBatchConfig,sn=0,Te=null,Ue=null,Ze=null,Vl=!1,Va=!1,di=0,Qb=0;function et(){throw Error(J(321))}function qu(e,s){if(s===null)return!1;for(var r=0;r<s.length&&r<e.length;r++)if(!ss(e[r],s[r]))return!1;return!0}function zu(e,s,r,n,a,i){if(sn=i,Te=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ul.current=e===null||e.memoizedState===null?Yb:Jb,e=r(n,a),Va){i=0;do{if(Va=!1,di=0,25<=i)throw Error(J(301));i+=1,Ze=Ue=null,s.updateQueue=null,ul.current=Xb,e=r(n,a)}while(Va)}if(ul.current=Hl,s=Ue!==null&&Ue.next!==null,sn=0,Ze=Ue=Te=null,Vl=!1,s)throw Error(J(300));return e}function Du(){var e=di!==0;return di=0,e}function os(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Te.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Vt(){if(Ue===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var s=Ze===null?Te.memoizedState:Ze.next;if(s!==null)Ze=s,Ue=e;else{if(e===null)throw Error(J(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Ze===null?Te.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function ui(e,s){return typeof s=="function"?s(e):s}function oc(e){var s=Vt(),r=s.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var n=Ue,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=l=null,c=null,d=i;do{var m=d.lane;if((sn&m)===m)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=f,l=n):c=c.next=f,Te.lanes|=m,rn|=m}d=d.next}while(d!==null&&d!==i);c===null?l=n:c.next=o,ss(n,s.memoizedState)||(yt=!0),s.memoizedState=n,s.baseState=l,s.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Te.lanes|=i,rn|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function cc(e){var s=Vt(),r=s.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=s.memoizedState;if(a!==null){r.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);ss(i,s.memoizedState)||(yt=!0),s.memoizedState=i,s.baseQueue===null&&(s.baseState=i),r.lastRenderedState=i}return[i,n]}function Rp(){}function Mp(e,s){var r=Te,n=Vt(),a=s(),i=!ss(n.memoizedState,a);if(i&&(n.memoizedState=a,yt=!0),n=n.queue,Uu(Fp.bind(null,r,n,e),[e]),n.getSnapshot!==s||i||Ze!==null&&Ze.memoizedState.tag&1){if(r.flags|=2048,hi(9,Lp.bind(null,r,n,a,s),void 0,null),Ke===null)throw Error(J(349));sn&30||Tp(r,s,a)}return a}function Tp(e,s,r){e.flags|=16384,e={getSnapshot:s,value:r},s=Te.updateQueue,s===null?(s={lastEffect:null,stores:null},Te.updateQueue=s,s.stores=[e]):(r=s.stores,r===null?s.stores=[e]:r.push(e))}function Lp(e,s,r,n){s.value=r,s.getSnapshot=n,Op(s)&&$p(e)}function Fp(e,s,r){return r(function(){Op(s)&&$p(e)})}function Op(e){var s=e.getSnapshot;e=e.value;try{var r=s();return!ss(e,r)}catch{return!0}}function $p(e){var s=Os(e,1);s!==null&&es(s,e,1,-1)}function xm(e){var s=os();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:e},s.queue=e,e=e.dispatch=Gb.bind(null,Te,e),[s.memoizedState,e]}function hi(e,s,r,n){return e={tag:e,create:s,destroy:r,deps:n,next:null},s=Te.updateQueue,s===null?(s={lastEffect:null,stores:null},Te.updateQueue=s,s.lastEffect=e.next=e):(r=s.lastEffect,r===null?s.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,s.lastEffect=e)),e}function Bp(){return Vt().memoizedState}function hl(e,s,r,n){var a=os();Te.flags|=e,a.memoizedState=hi(1|s,r,void 0,n===void 0?null:n)}function jo(e,s,r,n){var a=Vt();n=n===void 0?null:n;var i=void 0;if(Ue!==null){var l=Ue.memoizedState;if(i=l.destroy,n!==null&&qu(n,l.deps)){a.memoizedState=hi(s,r,i,n);return}}Te.flags|=e,a.memoizedState=hi(1|s,r,i,n)}function pm(e,s){return hl(8390656,8,e,s)}function Uu(e,s){return jo(2048,8,e,s)}function Ip(e,s){return jo(4,2,e,s)}function qp(e,s){return jo(4,4,e,s)}function zp(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function Dp(e,s,r){return r=r!=null?r.concat([e]):null,jo(4,4,zp.bind(null,s,e),r)}function Vu(){}function Up(e,s){var r=Vt();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&qu(s,n[1])?n[0]:(r.memoizedState=[e,s],e)}function Vp(e,s){var r=Vt();s=s===void 0?null:s;var n=r.memoizedState;return n!==null&&s!==null&&qu(s,n[1])?n[0]:(e=e(),r.memoizedState=[e,s],e)}function Hp(e,s,r){return sn&21?(ss(r,s)||(r=Gx(),Te.lanes|=r,rn|=r,e.baseState=!0),s):(e.baseState&&(e.baseState=!1,yt=!0),e.memoizedState=r)}function Zb(e,s){var r=Se;Se=r!==0&&4>r?r:4,e(!0);var n=lc.transition;lc.transition={};try{e(!1),s()}finally{Se=r,lc.transition=n}}function Wp(){return Vt().memoizedState}function Kb(e,s,r){var n=fr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Qp(e))Zp(s,r);else if(r=Ep(e,s,r,n),r!==null){var a=ut();es(r,e,n,a),Kp(r,s,n)}}function Gb(e,s,r){var n=fr(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qp(e))Zp(s,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=s.lastRenderedReducer,i!==null))try{var l=s.lastRenderedState,o=i(l,r);if(a.hasEagerState=!0,a.eagerState=o,ss(o,l)){var c=s.interleaved;c===null?(a.next=a,Fu(s)):(a.next=c.next,c.next=a),s.interleaved=a;return}}catch{}finally{}r=Ep(e,s,a,n),r!==null&&(a=ut(),es(r,e,n,a),Kp(r,s,n))}}function Qp(e){var s=e.alternate;return e===Te||s!==null&&s===Te}function Zp(e,s){Va=Vl=!0;var r=e.pending;r===null?s.next=s:(s.next=r.next,r.next=s),e.pending=s}function Kp(e,s,r){if(r&4194240){var n=s.lanes;n&=e.pendingLanes,r|=n,s.lanes=r,ju(e,r)}}var Hl={readContext:Ut,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},Yb={readContext:Ut,useCallback:function(e,s){return os().memoizedState=[e,s===void 0?null:s],e},useContext:Ut,useEffect:pm,useImperativeHandle:function(e,s,r){return r=r!=null?r.concat([e]):null,hl(4194308,4,zp.bind(null,s,e),r)},useLayoutEffect:function(e,s){return hl(4194308,4,e,s)},useInsertionEffect:function(e,s){return hl(4,2,e,s)},useMemo:function(e,s){var r=os();return s=s===void 0?null:s,e=e(),r.memoizedState=[e,s],e},useReducer:function(e,s,r){var n=os();return s=r!==void 0?r(s):s,n.memoizedState=n.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},n.queue=e,e=e.dispatch=Kb.bind(null,Te,e),[n.memoizedState,e]},useRef:function(e){var s=os();return e={current:e},s.memoizedState=e},useState:xm,useDebugValue:Vu,useDeferredValue:function(e){return os().memoizedState=e},useTransition:function(){var e=xm(!1),s=e[0];return e=Zb.bind(null,e[1]),os().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,r){var n=Te,a=os();if(Re){if(r===void 0)throw Error(J(407));r=r()}else{if(r=s(),Ke===null)throw Error(J(349));sn&30||Tp(n,s,r)}a.memoizedState=r;var i={value:r,getSnapshot:s};return a.queue=i,pm(Fp.bind(null,n,i,e),[e]),n.flags|=2048,hi(9,Lp.bind(null,n,i,r,s),void 0,null),r},useId:function(){var e=os(),s=Ke.identifierPrefix;if(Re){var r=Rs,n=As;r=(n&~(1<<32-Xt(n)-1)).toString(32)+r,s=":"+s+"R"+r,r=di++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=Qb++,s=":"+s+"r"+r.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},Jb={readContext:Ut,useCallback:Up,useContext:Ut,useEffect:Uu,useImperativeHandle:Dp,useInsertionEffect:Ip,useLayoutEffect:qp,useMemo:Vp,useReducer:oc,useRef:Bp,useState:function(){return oc(ui)},useDebugValue:Vu,useDeferredValue:function(e){var s=Vt();return Hp(s,Ue.memoizedState,e)},useTransition:function(){var e=oc(ui)[0],s=Vt().memoizedState;return[e,s]},useMutableSource:Rp,useSyncExternalStore:Mp,useId:Wp,unstable_isNewReconciler:!1},Xb={readContext:Ut,useCallback:Up,useContext:Ut,useEffect:Uu,useImperativeHandle:Dp,useInsertionEffect:Ip,useLayoutEffect:qp,useMemo:Vp,useReducer:cc,useRef:Bp,useState:function(){return cc(ui)},useDebugValue:Vu,useDeferredValue:function(e){var s=Vt();return Ue===null?s.memoizedState=e:Hp(s,Ue.memoizedState,e)},useTransition:function(){var e=cc(ui)[0],s=Vt().memoizedState;return[e,s]},useMutableSource:Rp,useSyncExternalStore:Mp,useId:Wp,unstable_isNewReconciler:!1};function Qt(e,s){if(e&&e.defaultProps){s=Le({},s),e=e.defaultProps;for(var r in e)s[r]===void 0&&(s[r]=e[r]);return s}return s}function sd(e,s,r,n){s=e.memoizedState,r=r(n,s),r=r==null?s:Le({},s,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wo={isMounted:function(e){return(e=e._reactInternals)?mn(e)===e:!1},enqueueSetState:function(e,s,r){e=e._reactInternals;var n=ut(),a=fr(e),i=Ms(n,a);i.payload=s,r!=null&&(i.callback=r),s=xr(e,i,a),s!==null&&(es(s,e,a,n),dl(s,e,a))},enqueueReplaceState:function(e,s,r){e=e._reactInternals;var n=ut(),a=fr(e),i=Ms(n,a);i.tag=1,i.payload=s,r!=null&&(i.callback=r),s=xr(e,i,a),s!==null&&(es(s,e,a,n),dl(s,e,a))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var r=ut(),n=fr(e),a=Ms(r,n);a.tag=2,s!=null&&(a.callback=s),s=xr(e,a,n),s!==null&&(es(s,e,n,r),dl(s,e,n))}};function fm(e,s,r,n,a,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):s.prototype&&s.prototype.isPureReactComponent?!ni(r,n)||!ni(a,i):!0}function Gp(e,s,r){var n=!1,a=kr,i=s.contextType;return typeof i=="object"&&i!==null?i=Ut(i):(a=vt(s)?en:nt.current,n=s.contextTypes,i=(n=n!=null)?Gn(e,a):kr),s=new s(r,i),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=wo,e.stateNode=s,s._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),s}function gm(e,s,r,n){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,n),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,n),s.state!==e&&wo.enqueueReplaceState(s,s.state,null)}function rd(e,s,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ou(e);var i=s.contextType;typeof i=="object"&&i!==null?a.context=Ut(i):(i=vt(s)?en:nt.current,a.context=Gn(e,i)),a.state=e.memoizedState,i=s.getDerivedStateFromProps,typeof i=="function"&&(sd(e,s,i,r),a.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&wo.enqueueReplaceState(a,a.state,null),Dl(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ea(e,s){try{var r="",n=s;do r+=Cy(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:s,stack:a,digest:null}}function dc(e,s,r){return{value:e,source:null,stack:r??null,digest:s??null}}function nd(e,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var ev=typeof WeakMap=="function"?WeakMap:Map;function Yp(e,s,r){r=Ms(-1,r),r.tag=3,r.payload={element:null};var n=s.value;return r.callback=function(){Ql||(Ql=!0,xd=n),nd(e,s)},r}function Jp(e,s,r){r=Ms(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=s.value;r.payload=function(){return n(a)},r.callback=function(){nd(e,s)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){nd(e,s),typeof n!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var l=s.stack;this.componentDidCatch(s.value,{componentStack:l!==null?l:""})}),r}function ym(e,s,r){var n=e.pingCache;if(n===null){n=e.pingCache=new ev;var a=new Set;n.set(s,a)}else a=n.get(s),a===void 0&&(a=new Set,n.set(s,a));a.has(r)||(a.add(r),e=xv.bind(null,e,s,r),s.then(e,e))}function bm(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function vm(e,s,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===s?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=Ms(-1,1),s.tag=2,xr(r,s,1))),r.lanes|=1),e)}var tv=Bs.ReactCurrentOwner,yt=!1;function ot(e,s,r,n){s.child=e===null?Cp(s,null,r,n):Jn(s,e.child,r,n)}function jm(e,s,r,n,a){r=r.render;var i=s.ref;return Ln(s,a),n=zu(e,s,r,n,i,a),r=Du(),e!==null&&!yt?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a,$s(e,s,a)):(Re&&r&&Pu(s),s.flags|=1,ot(e,s,n,a),s.child)}function wm(e,s,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Ju(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=i,Xp(e,s,i,n,a)):(e=fl(r.type,null,n,s,s.mode,a),e.ref=s.ref,e.return=s,s.child=e)}if(i=e.child,!(e.lanes&a)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:ni,r(l,n)&&e.ref===s.ref)return $s(e,s,a)}return s.flags|=1,e=gr(i,n),e.ref=s.ref,e.return=s,s.child=e}function Xp(e,s,r,n,a){if(e!==null){var i=e.memoizedProps;if(ni(i,n)&&e.ref===s.ref)if(yt=!1,s.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(yt=!0);else return s.lanes=e.lanes,$s(e,s,a)}return ad(e,s,r,n,a)}function ef(e,s,r){var n=s.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Pn,kt),kt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,Ce(Pn,kt),kt|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ce(Pn,kt),kt|=n}else i!==null?(n=i.baseLanes|r,s.memoizedState=null):n=r,Ce(Pn,kt),kt|=n;return ot(e,s,a,r),s.child}function tf(e,s){var r=s.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function ad(e,s,r,n,a){var i=vt(r)?en:nt.current;return i=Gn(s,i),Ln(s,a),r=zu(e,s,r,n,i,a),n=Du(),e!==null&&!yt?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~a,$s(e,s,a)):(Re&&n&&Pu(s),s.flags|=1,ot(e,s,r,a),s.child)}function Nm(e,s,r,n,a){if(vt(r)){var i=!0;$l(s)}else i=!1;if(Ln(s,a),s.stateNode===null)ml(e,s),Gp(s,r,n),rd(s,r,n,a),n=!0;else if(e===null){var l=s.stateNode,o=s.memoizedProps;l.props=o;var c=l.context,d=r.contextType;typeof d=="object"&&d!==null?d=Ut(d):(d=vt(r)?en:nt.current,d=Gn(s,d));var m=r.getDerivedStateFromProps,f=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==d)&&gm(s,l,n,d),Vs=!1;var x=s.memoizedState;l.state=x,Dl(s,n,l,a),c=s.memoizedState,o!==n||x!==c||bt.current||Vs?(typeof m=="function"&&(sd(s,r,m,n),c=s.memoizedState),(o=Vs||fm(s,r,o,n,x,c,d))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(s.flags|=4194308)):(typeof l.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=n,s.memoizedState=c),l.props=n,l.state=c,l.context=d,n=o):(typeof l.componentDidMount=="function"&&(s.flags|=4194308),n=!1)}else{l=s.stateNode,Pp(e,s),o=s.memoizedProps,d=s.type===s.elementType?o:Qt(s.type,o),l.props=d,f=s.pendingProps,x=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ut(c):(c=vt(r)?en:nt.current,c=Gn(s,c));var j=r.getDerivedStateFromProps;(m=typeof j=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==f||x!==c)&&gm(s,l,n,c),Vs=!1,x=s.memoizedState,l.state=x,Dl(s,n,l,a);var y=s.memoizedState;o!==f||x!==y||bt.current||Vs?(typeof j=="function"&&(sd(s,r,j,n),y=s.memoizedState),(d=Vs||fm(s,r,d,n,x,y,c)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,y,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,y,c)),typeof l.componentDidUpdate=="function"&&(s.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(s.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(s.flags|=1024),s.memoizedProps=n,s.memoizedState=y),l.props=n,l.state=y,l.context=c,n=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(s.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(s.flags|=1024),n=!1)}return id(e,s,r,n,i,a)}function id(e,s,r,n,a,i){tf(e,s);var l=(s.flags&128)!==0;if(!n&&!l)return a&&om(s,r,!1),$s(e,s,i);n=s.stateNode,tv.current=s;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return s.flags|=1,e!==null&&l?(s.child=Jn(s,e.child,null,i),s.child=Jn(s,null,o,i)):ot(e,s,o,i),s.memoizedState=n.state,a&&om(s,r,!0),s.child}function sf(e){var s=e.stateNode;s.pendingContext?lm(e,s.pendingContext,s.pendingContext!==s.context):s.context&&lm(e,s.context,!1),$u(e,s.containerInfo)}function _m(e,s,r,n,a){return Yn(),Ru(a),s.flags|=256,ot(e,s,r,n),s.child}var ld={dehydrated:null,treeContext:null,retryLane:0};function od(e){return{baseLanes:e,cachePool:null,transitions:null}}function rf(e,s,r){var n=s.pendingProps,a=Me.current,i=!1,l=(s.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ce(Me,a&1),e===null)return ed(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(s.mode&1?e.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(l=n.children,e=n.fallback,i?(n=s.mode,i=s.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=ko(l,n,0,null),e=Yr(e,n,r,null),i.return=s,e.return=s,i.sibling=e,s.child=i,s.child.memoizedState=od(r),s.memoizedState=ld,e):Hu(s,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return sv(e,s,l,n,o,a,r);if(i){i=n.fallback,l=s.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&s.child!==a?(n=s.child,n.childLanes=0,n.pendingProps=c,s.deletions=null):(n=gr(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=gr(o,i):(i=Yr(i,l,r,null),i.flags|=2),i.return=s,n.return=s,n.sibling=i,s.child=n,n=i,i=s.child,l=e.child.memoizedState,l=l===null?od(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,s.memoizedState=ld,n}return i=e.child,e=i.sibling,n=gr(i,{mode:"visible",children:n.children}),!(s.mode&1)&&(n.lanes=r),n.return=s,n.sibling=null,e!==null&&(r=s.deletions,r===null?(s.deletions=[e],s.flags|=16):r.push(e)),s.child=n,s.memoizedState=null,n}function Hu(e,s){return s=ko({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function Gi(e,s,r,n){return n!==null&&Ru(n),Jn(s,e.child,null,r),e=Hu(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function sv(e,s,r,n,a,i,l){if(r)return s.flags&256?(s.flags&=-257,n=dc(Error(J(422))),Gi(e,s,l,n)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(i=n.fallback,a=s.mode,n=ko({mode:"visible",children:n.children},a,0,null),i=Yr(i,a,l,null),i.flags|=2,n.return=s,i.return=s,n.sibling=i,s.child=n,s.mode&1&&Jn(s,e.child,null,l),s.child.memoizedState=od(l),s.memoizedState=ld,i);if(!(s.mode&1))return Gi(e,s,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(J(419)),n=dc(i,n,void 0),Gi(e,s,l,n)}if(o=(l&e.childLanes)!==0,yt||o){if(n=Ke,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Os(e,a),es(n,e,a,-1))}return Yu(),n=dc(Error(J(421))),Gi(e,s,l,n)}return a.data==="$?"?(s.flags|=128,s.child=e.child,s=pv.bind(null,e),a._reactRetry=s,null):(e=i.treeContext,Ct=mr(a.nextSibling),Et=s,Re=!0,Jt=null,e!==null&&(Ot[$t++]=As,Ot[$t++]=Rs,Ot[$t++]=tn,As=e.id,Rs=e.overflow,tn=s),s=Hu(s,n.children),s.flags|=4096,s)}function km(e,s,r){e.lanes|=s;var n=e.alternate;n!==null&&(n.lanes|=s),td(e.return,s,r)}function uc(e,s,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=s,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function nf(e,s,r){var n=s.pendingProps,a=n.revealOrder,i=n.tail;if(ot(e,s,n.children,r),n=Me.current,n&2)n=n&1|2,s.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&km(e,r,s);else if(e.tag===19)km(e,r,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ce(Me,n),!(s.mode&1))s.memoizedState=null;else switch(a){case"forwards":for(r=s.child,a=null;r!==null;)e=r.alternate,e!==null&&Ul(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=s.child,s.child=null):(a=r.sibling,r.sibling=null),uc(s,!1,a,r,i);break;case"backwards":for(r=null,a=s.child,s.child=null;a!==null;){if(e=a.alternate,e!==null&&Ul(e)===null){s.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}uc(s,!0,r,null,i);break;case"together":uc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ml(e,s){!(s.mode&1)&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function $s(e,s,r){if(e!==null&&(s.dependencies=e.dependencies),rn|=s.lanes,!(r&s.childLanes))return null;if(e!==null&&s.child!==e.child)throw Error(J(153));if(s.child!==null){for(e=s.child,r=gr(e,e.pendingProps),s.child=r,r.return=s;e.sibling!==null;)e=e.sibling,r=r.sibling=gr(e,e.pendingProps),r.return=s;r.sibling=null}return s.child}function rv(e,s,r){switch(s.tag){case 3:sf(s),Yn();break;case 5:Ap(s);break;case 1:vt(s.type)&&$l(s);break;case 4:$u(s,s.stateNode.containerInfo);break;case 10:var n=s.type._context,a=s.memoizedProps.value;Ce(ql,n._currentValue),n._currentValue=a;break;case 13:if(n=s.memoizedState,n!==null)return n.dehydrated!==null?(Ce(Me,Me.current&1),s.flags|=128,null):r&s.child.childLanes?rf(e,s,r):(Ce(Me,Me.current&1),e=$s(e,s,r),e!==null?e.sibling:null);Ce(Me,Me.current&1);break;case 19:if(n=(r&s.childLanes)!==0,e.flags&128){if(n)return nf(e,s,r);s.flags|=128}if(a=s.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ce(Me,Me.current),n)break;return null;case 22:case 23:return s.lanes=0,ef(e,s,r)}return $s(e,s,r)}var af,cd,lf,of;af=function(e,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};cd=function(){};lf=function(e,s,r,n){var a=e.memoizedProps;if(a!==n){e=s.stateNode,Br(xs.current);var i=null;switch(r){case"input":a=Rc(e,a),n=Rc(e,n),i=[];break;case"select":a=Le({},a,{value:void 0}),n=Le({},n,{value:void 0}),i=[];break;case"textarea":a=Lc(e,a),n=Lc(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Fl)}Oc(r,n);var l;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ya.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(o=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ya.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ee("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(s.updateQueue=d)&&(s.flags|=4)}};of=function(e,s,r,n){r!==n&&(s.flags|=4)};function Ca(e,s){if(!Re)switch(e.tailMode){case"hidden":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function tt(e){var s=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(s)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,s}function nv(e,s,r){var n=s.pendingProps;switch(Au(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(s),null;case 1:return vt(s.type)&&Ol(),tt(s),null;case 3:return n=s.stateNode,Xn(),Pe(bt),Pe(nt),Iu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Zi(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Jt!==null&&(gd(Jt),Jt=null))),cd(e,s),tt(s),null;case 5:Bu(s);var a=Br(ci.current);if(r=s.type,e!==null&&s.stateNode!=null)lf(e,s,r,n,a),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!n){if(s.stateNode===null)throw Error(J(166));return tt(s),null}if(e=Br(xs.current),Zi(s)){n=s.stateNode,r=s.type;var i=s.memoizedProps;switch(n[hs]=s,n[li]=i,e=(s.mode&1)!==0,r){case"dialog":Ee("cancel",n),Ee("close",n);break;case"iframe":case"object":case"embed":Ee("load",n);break;case"video":case"audio":for(a=0;a<Fa.length;a++)Ee(Fa[a],n);break;case"source":Ee("error",n);break;case"img":case"image":case"link":Ee("error",n),Ee("load",n);break;case"details":Ee("toggle",n);break;case"input":Lh(n,i),Ee("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ee("invalid",n);break;case"textarea":Oh(n,i),Ee("invalid",n)}Oc(r,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Qi(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Qi(n.textContent,o,e),a=["children",""+o]):Ya.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&Ee("scroll",n)}switch(r){case"input":Ii(n),Fh(n,i,!0);break;case"textarea":Ii(n),$h(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Fl)}n=a,s.updateQueue=n,n!==null&&(s.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fx(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[hs]=s,e[li]=n,af(e,s,!1,!1),s.stateNode=e;e:{switch(l=$c(r,n),r){case"dialog":Ee("cancel",e),Ee("close",e),a=n;break;case"iframe":case"object":case"embed":Ee("load",e),a=n;break;case"video":case"audio":for(a=0;a<Fa.length;a++)Ee(Fa[a],e);a=n;break;case"source":Ee("error",e),a=n;break;case"img":case"image":case"link":Ee("error",e),Ee("load",e),a=n;break;case"details":Ee("toggle",e),a=n;break;case"input":Lh(e,n),a=Rc(e,n),Ee("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Le({},n,{value:void 0}),Ee("invalid",e);break;case"textarea":Oh(e,n),a=Lc(e,n),Ee("invalid",e);break;default:a=n}Oc(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Bx(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ox(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ja(e,c):typeof c=="number"&&Ja(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ya.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ee("scroll",e):c!=null&&pu(e,i,c,l))}switch(r){case"input":Ii(e),Fh(e,n,!1);break;case"textarea":Ii(e),$h(e);break;case"option":n.value!=null&&e.setAttribute("value",""+_r(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?An(e,!!n.multiple,i,!1):n.defaultValue!=null&&An(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Fl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return tt(s),null;case 6:if(e&&s.stateNode!=null)of(e,s,e.memoizedProps,n);else{if(typeof n!="string"&&s.stateNode===null)throw Error(J(166));if(r=Br(ci.current),Br(xs.current),Zi(s)){if(n=s.stateNode,r=s.memoizedProps,n[hs]=s,(i=n.nodeValue!==r)&&(e=Et,e!==null))switch(e.tag){case 3:Qi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qi(n.nodeValue,r,(e.mode&1)!==0)}i&&(s.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[hs]=s,s.stateNode=n}return tt(s),null;case 13:if(Pe(Me),n=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&Ct!==null&&s.mode&1&&!(s.flags&128))kp(),Yn(),s.flags|=98560,i=!1;else if(i=Zi(s),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(J(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(J(317));i[hs]=s}else Yn(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;tt(s),i=!1}else Jt!==null&&(gd(Jt),Jt=null),i=!0;if(!i)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(s.child.flags|=8192,s.mode&1&&(e===null||Me.current&1?He===0&&(He=3):Yu())),s.updateQueue!==null&&(s.flags|=4),tt(s),null);case 4:return Xn(),cd(e,s),e===null&&ai(s.stateNode.containerInfo),tt(s),null;case 10:return Lu(s.type._context),tt(s),null;case 17:return vt(s.type)&&Ol(),tt(s),null;case 19:if(Pe(Me),i=s.memoizedState,i===null)return tt(s),null;if(n=(s.flags&128)!==0,l=i.rendering,l===null)if(n)Ca(i,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=s.child;e!==null;){if(l=Ul(e),l!==null){for(s.flags|=128,Ca(i,!1),n=l.updateQueue,n!==null&&(s.updateQueue=n,s.flags|=4),s.subtreeFlags=0,n=r,r=s.child;r!==null;)i=r,e=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ce(Me,Me.current&1|2),s.child}e=e.sibling}i.tail!==null&&$e()>ta&&(s.flags|=128,n=!0,Ca(i,!1),s.lanes=4194304)}else{if(!n)if(e=Ul(l),e!==null){if(s.flags|=128,n=!0,r=e.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),Ca(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Re)return tt(s),null}else 2*$e()-i.renderingStartTime>ta&&r!==1073741824&&(s.flags|=128,n=!0,Ca(i,!1),s.lanes=4194304);i.isBackwards?(l.sibling=s.child,s.child=l):(r=i.last,r!==null?r.sibling=l:s.child=l,i.last=l)}return i.tail!==null?(s=i.tail,i.rendering=s,i.tail=s.sibling,i.renderingStartTime=$e(),s.sibling=null,r=Me.current,Ce(Me,n?r&1|2:r&1),s):(tt(s),null);case 22:case 23:return Gu(),n=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(s.flags|=8192),n&&s.mode&1?kt&1073741824&&(tt(s),s.subtreeFlags&6&&(s.flags|=8192)):tt(s),null;case 24:return null;case 25:return null}throw Error(J(156,s.tag))}function av(e,s){switch(Au(s),s.tag){case 1:return vt(s.type)&&Ol(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return Xn(),Pe(bt),Pe(nt),Iu(),e=s.flags,e&65536&&!(e&128)?(s.flags=e&-65537|128,s):null;case 5:return Bu(s),null;case 13:if(Pe(Me),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(J(340));Yn()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return Pe(Me),null;case 4:return Xn(),null;case 10:return Lu(s.type._context),null;case 22:case 23:return Gu(),null;case 24:return null;default:return null}}var Yi=!1,st=!1,iv=typeof WeakSet=="function"?WeakSet:Set,re=null;function En(e,s){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Oe(e,s,n)}else r.current=null}function dd(e,s,r){try{r()}catch(n){Oe(e,s,n)}}var Sm=!1;function lv(e,s){if(Qc=Ml,e=hp(),Eu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,d=0,m=0,f=e,x=null;t:for(;;){for(var j;f!==r||a!==0&&f.nodeType!==3||(o=l+a),f!==i||n!==0&&f.nodeType!==3||(c=l+n),f.nodeType===3&&(l+=f.nodeValue.length),(j=f.firstChild)!==null;)x=f,f=j;for(;;){if(f===e)break t;if(x===r&&++d===a&&(o=l),x===i&&++m===n&&(c=l),(j=f.nextSibling)!==null)break;f=x,x=f.parentNode}f=j}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zc={focusedElem:e,selectionRange:r},Ml=!1,re=s;re!==null;)if(s=re,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,re=e;else for(;re!==null;){s=re;try{var y=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,w=y.memoizedState,g=s.stateNode,h=g.getSnapshotBeforeUpdate(s.elementType===s.type?b:Qt(s.type,b),w);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var p=s.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(k){Oe(s,s.return,k)}if(e=s.sibling,e!==null){e.return=s.return,re=e;break}re=s.return}return y=Sm,Sm=!1,y}function Ha(e,s,r){var n=s.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&dd(s,r,i)}a=a.next}while(a!==n)}}function No(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==s)}}function ud(e){var s=e.ref;if(s!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof s=="function"?s(e):s.current=e}}function cf(e){var s=e.alternate;s!==null&&(e.alternate=null,cf(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[hs],delete s[li],delete s[Yc],delete s[Ub],delete s[Vb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function df(e){return e.tag===5||e.tag===3||e.tag===4}function Cm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||df(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hd(e,s,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(e,s):r.insertBefore(e,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(e,r)):(s=r,s.appendChild(e)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Fl));else if(n!==4&&(e=e.child,e!==null))for(hd(e,s,r),e=e.sibling;e!==null;)hd(e,s,r),e=e.sibling}function md(e,s,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,s?r.insertBefore(e,s):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(md(e,s,r),e=e.sibling;e!==null;)md(e,s,r),e=e.sibling}var Ge=null,Gt=!1;function zs(e,s,r){for(r=r.child;r!==null;)uf(e,s,r),r=r.sibling}function uf(e,s,r){if(ms&&typeof ms.onCommitFiberUnmount=="function")try{ms.onCommitFiberUnmount(po,r)}catch{}switch(r.tag){case 5:st||En(r,s);case 6:var n=Ge,a=Gt;Ge=null,zs(e,s,r),Ge=n,Gt=a,Ge!==null&&(Gt?(e=Ge,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ge.removeChild(r.stateNode));break;case 18:Ge!==null&&(Gt?(e=Ge,r=r.stateNode,e.nodeType===8?nc(e.parentNode,r):e.nodeType===1&&nc(e,r),si(e)):nc(Ge,r.stateNode));break;case 4:n=Ge,a=Gt,Ge=r.stateNode.containerInfo,Gt=!0,zs(e,s,r),Ge=n,Gt=a;break;case 0:case 11:case 14:case 15:if(!st&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&dd(r,s,l),a=a.next}while(a!==n)}zs(e,s,r);break;case 1:if(!st&&(En(r,s),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Oe(r,s,o)}zs(e,s,r);break;case 21:zs(e,s,r);break;case 22:r.mode&1?(st=(n=st)||r.memoizedState!==null,zs(e,s,r),st=n):zs(e,s,r);break;default:zs(e,s,r)}}function Em(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new iv),s.forEach(function(n){var a=fv.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Wt(e,s){var r=s.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,l=s,o=l;e:for(;o!==null;){switch(o.tag){case 5:Ge=o.stateNode,Gt=!1;break e;case 3:Ge=o.stateNode.containerInfo,Gt=!0;break e;case 4:Ge=o.stateNode.containerInfo,Gt=!0;break e}o=o.return}if(Ge===null)throw Error(J(160));uf(i,l,a),Ge=null,Gt=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Oe(a,s,d)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)hf(s,e),s=s.sibling}function hf(e,s){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wt(s,e),is(e),n&4){try{Ha(3,e,e.return),No(3,e)}catch(b){Oe(e,e.return,b)}try{Ha(5,e,e.return)}catch(b){Oe(e,e.return,b)}}break;case 1:Wt(s,e),is(e),n&512&&r!==null&&En(r,r.return);break;case 5:if(Wt(s,e),is(e),n&512&&r!==null&&En(r,r.return),e.flags&32){var a=e.stateNode;try{Ja(a,"")}catch(b){Oe(e,e.return,b)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Tx(a,i),$c(o,l);var d=$c(o,i);for(l=0;l<c.length;l+=2){var m=c[l],f=c[l+1];m==="style"?Bx(a,f):m==="dangerouslySetInnerHTML"?Ox(a,f):m==="children"?Ja(a,f):pu(a,m,f,d)}switch(o){case"input":Mc(a,i);break;case"textarea":Lx(a,i);break;case"select":var x=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var j=i.value;j!=null?An(a,!!i.multiple,j,!1):x!==!!i.multiple&&(i.defaultValue!=null?An(a,!!i.multiple,i.defaultValue,!0):An(a,!!i.multiple,i.multiple?[]:"",!1))}a[li]=i}catch(b){Oe(e,e.return,b)}}break;case 6:if(Wt(s,e),is(e),n&4){if(e.stateNode===null)throw Error(J(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(b){Oe(e,e.return,b)}}break;case 3:if(Wt(s,e),is(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{si(s.containerInfo)}catch(b){Oe(e,e.return,b)}break;case 4:Wt(s,e),is(e);break;case 13:Wt(s,e),is(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Zu=$e())),n&4&&Em(e);break;case 22:if(m=r!==null&&r.memoizedState!==null,e.mode&1?(st=(d=st)||m,Wt(s,e),st=d):Wt(s,e),is(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for(re=e,m=e.child;m!==null;){for(f=re=m;re!==null;){switch(x=re,j=x.child,x.tag){case 0:case 11:case 14:case 15:Ha(4,x,x.return);break;case 1:En(x,x.return);var y=x.stateNode;if(typeof y.componentWillUnmount=="function"){n=x,r=x.return;try{s=n,y.props=s.memoizedProps,y.state=s.memoizedState,y.componentWillUnmount()}catch(b){Oe(n,r,b)}}break;case 5:En(x,x.return);break;case 22:if(x.memoizedState!==null){Am(f);continue}}j!==null?(j.return=x,re=j):Am(f)}m=m.sibling}e:for(m=null,f=e;;){if(f.tag===5){if(m===null){m=f;try{a=f.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=$x("display",l))}catch(b){Oe(e,e.return,b)}}}else if(f.tag===6){if(m===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(b){Oe(e,e.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;m===f&&(m=null),f=f.return}m===f&&(m=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Wt(s,e),is(e),n&4&&Em(e);break;case 21:break;default:Wt(s,e),is(e)}}function is(e){var s=e.flags;if(s&2){try{e:{for(var r=e.return;r!==null;){if(df(r)){var n=r;break e}r=r.return}throw Error(J(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Ja(a,""),n.flags&=-33);var i=Cm(e);md(e,i,a);break;case 3:case 4:var l=n.stateNode.containerInfo,o=Cm(e);hd(e,o,l);break;default:throw Error(J(161))}}catch(c){Oe(e,e.return,c)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function ov(e,s,r){re=e,mf(e)}function mf(e,s,r){for(var n=(e.mode&1)!==0;re!==null;){var a=re,i=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||Yi;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||st;o=Yi;var d=st;if(Yi=l,(st=c)&&!d)for(re=a;re!==null;)l=re,c=l.child,l.tag===22&&l.memoizedState!==null?Rm(a):c!==null?(c.return=l,re=c):Rm(a);for(;i!==null;)re=i,mf(i),i=i.sibling;re=a,Yi=o,st=d}Pm(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,re=i):Pm(e)}}function Pm(e){for(;re!==null;){var s=re;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:st||No(5,s);break;case 1:var n=s.stateNode;if(s.flags&4&&!st)if(r===null)n.componentDidMount();else{var a=s.elementType===s.type?r.memoizedProps:Qt(s.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=s.updateQueue;i!==null&&mm(s,i,n);break;case 3:var l=s.updateQueue;if(l!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}mm(s,l,r)}break;case 5:var o=s.stateNode;if(r===null&&s.flags&4){r=o;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var d=s.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var f=m.dehydrated;f!==null&&si(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}st||s.flags&512&&ud(s)}catch(x){Oe(s,s.return,x)}}if(s===e){re=null;break}if(r=s.sibling,r!==null){r.return=s.return,re=r;break}re=s.return}}function Am(e){for(;re!==null;){var s=re;if(s===e){re=null;break}var r=s.sibling;if(r!==null){r.return=s.return,re=r;break}re=s.return}}function Rm(e){for(;re!==null;){var s=re;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{No(4,s)}catch(c){Oe(s,r,c)}break;case 1:var n=s.stateNode;if(typeof n.componentDidMount=="function"){var a=s.return;try{n.componentDidMount()}catch(c){Oe(s,a,c)}}var i=s.return;try{ud(s)}catch(c){Oe(s,i,c)}break;case 5:var l=s.return;try{ud(s)}catch(c){Oe(s,l,c)}}}catch(c){Oe(s,s.return,c)}if(s===e){re=null;break}var o=s.sibling;if(o!==null){o.return=s.return,re=o;break}re=s.return}}var cv=Math.ceil,Wl=Bs.ReactCurrentDispatcher,Wu=Bs.ReactCurrentOwner,zt=Bs.ReactCurrentBatchConfig,je=0,Ke=null,qe=null,Ye=0,kt=0,Pn=Pr(0),He=0,mi=null,rn=0,_o=0,Qu=0,Wa=null,ft=null,Zu=0,ta=1/0,ws=null,Ql=!1,xd=null,pr=null,Ji=!1,ir=null,Zl=0,Qa=0,pd=null,xl=-1,pl=0;function ut(){return je&6?$e():xl!==-1?xl:xl=$e()}function fr(e){return e.mode&1?je&2&&Ye!==0?Ye&-Ye:Wb.transition!==null?(pl===0&&(pl=Gx()),pl):(e=Se,e!==0||(e=window.event,e=e===void 0?16:rp(e.type)),e):1}function es(e,s,r,n){if(50<Qa)throw Qa=0,pd=null,Error(J(185));Ci(e,r,n),(!(je&2)||e!==Ke)&&(e===Ke&&(!(je&2)&&(_o|=r),He===4&&Zs(e,Ye)),jt(e,n),r===1&&je===0&&!(s.mode&1)&&(ta=$e()+500,vo&&Ar()))}function jt(e,s){var r=e.callbackNode;Wy(e,s);var n=Rl(e,e===Ke?Ye:0);if(n===0)r!==null&&qh(r),e.callbackNode=null,e.callbackPriority=0;else if(s=n&-n,e.callbackPriority!==s){if(r!=null&&qh(r),s===1)e.tag===0?Hb(Mm.bind(null,e)):wp(Mm.bind(null,e)),zb(function(){!(je&6)&&Ar()}),r=null;else{switch(Yx(n)){case 1:r=vu;break;case 4:r=Zx;break;case 16:r=Al;break;case 536870912:r=Kx;break;default:r=Al}r=jf(r,xf.bind(null,e))}e.callbackPriority=s,e.callbackNode=r}}function xf(e,s){if(xl=-1,pl=0,je&6)throw Error(J(327));var r=e.callbackNode;if(Fn()&&e.callbackNode!==r)return null;var n=Rl(e,e===Ke?Ye:0);if(n===0)return null;if(n&30||n&e.expiredLanes||s)s=Kl(e,n);else{s=n;var a=je;je|=2;var i=ff();(Ke!==e||Ye!==s)&&(ws=null,ta=$e()+500,Gr(e,s));do try{hv();break}catch(o){pf(e,o)}while(!0);Tu(),Wl.current=i,je=a,qe!==null?s=0:(Ke=null,Ye=0,s=He)}if(s!==0){if(s===2&&(a=Dc(e),a!==0&&(n=a,s=fd(e,a))),s===1)throw r=mi,Gr(e,0),Zs(e,n),jt(e,$e()),r;if(s===6)Zs(e,n);else{if(a=e.current.alternate,!(n&30)&&!dv(a)&&(s=Kl(e,n),s===2&&(i=Dc(e),i!==0&&(n=i,s=fd(e,i))),s===1))throw r=mi,Gr(e,0),Zs(e,n),jt(e,$e()),r;switch(e.finishedWork=a,e.finishedLanes=n,s){case 0:case 1:throw Error(J(345));case 2:Lr(e,ft,ws);break;case 3:if(Zs(e,n),(n&130023424)===n&&(s=Zu+500-$e(),10<s)){if(Rl(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ut(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Gc(Lr.bind(null,e,ft,ws),s);break}Lr(e,ft,ws);break;case 4:if(Zs(e,n),(n&4194240)===n)break;for(s=e.eventTimes,a=-1;0<n;){var l=31-Xt(n);i=1<<l,l=s[l],l>a&&(a=l),n&=~i}if(n=a,n=$e()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*cv(n/1960))-n,10<n){e.timeoutHandle=Gc(Lr.bind(null,e,ft,ws),n);break}Lr(e,ft,ws);break;case 5:Lr(e,ft,ws);break;default:throw Error(J(329))}}}return jt(e,$e()),e.callbackNode===r?xf.bind(null,e):null}function fd(e,s){var r=Wa;return e.current.memoizedState.isDehydrated&&(Gr(e,s).flags|=256),e=Kl(e,s),e!==2&&(s=ft,ft=r,s!==null&&gd(s)),e}function gd(e){ft===null?ft=e:ft.push.apply(ft,e)}function dv(e){for(var s=e;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!ss(i(),a))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Zs(e,s){for(s&=~Qu,s&=~_o,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var r=31-Xt(s),n=1<<r;e[r]=-1,s&=~n}}function Mm(e){if(je&6)throw Error(J(327));Fn();var s=Rl(e,0);if(!(s&1))return jt(e,$e()),null;var r=Kl(e,s);if(e.tag!==0&&r===2){var n=Dc(e);n!==0&&(s=n,r=fd(e,n))}if(r===1)throw r=mi,Gr(e,0),Zs(e,s),jt(e,$e()),r;if(r===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,Lr(e,ft,ws),jt(e,$e()),null}function Ku(e,s){var r=je;je|=1;try{return e(s)}finally{je=r,je===0&&(ta=$e()+500,vo&&Ar())}}function nn(e){ir!==null&&ir.tag===0&&!(je&6)&&Fn();var s=je;je|=1;var r=zt.transition,n=Se;try{if(zt.transition=null,Se=1,e)return e()}finally{Se=n,zt.transition=r,je=s,!(je&6)&&Ar()}}function Gu(){kt=Pn.current,Pe(Pn)}function Gr(e,s){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,qb(r)),qe!==null)for(r=qe.return;r!==null;){var n=r;switch(Au(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ol();break;case 3:Xn(),Pe(bt),Pe(nt),Iu();break;case 5:Bu(n);break;case 4:Xn();break;case 13:Pe(Me);break;case 19:Pe(Me);break;case 10:Lu(n.type._context);break;case 22:case 23:Gu()}r=r.return}if(Ke=e,qe=e=gr(e.current,null),Ye=kt=s,He=0,mi=null,Qu=_o=rn=0,ft=Wa=null,$r!==null){for(s=0;s<$r.length;s++)if(r=$r[s],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=a,n.next=l}r.pending=n}$r=null}return e}function pf(e,s){do{var r=qe;try{if(Tu(),ul.current=Hl,Vl){for(var n=Te.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Vl=!1}if(sn=0,Ze=Ue=Te=null,Va=!1,di=0,Wu.current=null,r===null||r.return===null){He=1,mi=s,qe=null;break}e:{var i=e,l=r.return,o=r,c=s;if(s=Ye,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,m=o,f=m.tag;if(!(m.mode&1)&&(f===0||f===11||f===15)){var x=m.alternate;x?(m.updateQueue=x.updateQueue,m.memoizedState=x.memoizedState,m.lanes=x.lanes):(m.updateQueue=null,m.memoizedState=null)}var j=bm(l);if(j!==null){j.flags&=-257,vm(j,l,o,i,s),j.mode&1&&ym(i,d,s),s=j,c=d;var y=s.updateQueue;if(y===null){var b=new Set;b.add(c),s.updateQueue=b}else y.add(c);break e}else{if(!(s&1)){ym(i,d,s),Yu();break e}c=Error(J(426))}}else if(Re&&o.mode&1){var w=bm(l);if(w!==null){!(w.flags&65536)&&(w.flags|=256),vm(w,l,o,i,s),Ru(ea(c,o));break e}}i=c=ea(c,o),He!==4&&(He=2),Wa===null?Wa=[i]:Wa.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,s&=-s,i.lanes|=s;var g=Yp(i,c,s);hm(i,g);break e;case 1:o=c;var h=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(pr===null||!pr.has(p)))){i.flags|=65536,s&=-s,i.lanes|=s;var k=Jp(i,o,s);hm(i,k);break e}}i=i.return}while(i!==null)}yf(r)}catch(E){s=E,qe===r&&r!==null&&(qe=r=r.return);continue}break}while(!0)}function ff(){var e=Wl.current;return Wl.current=Hl,e===null?Hl:e}function Yu(){(He===0||He===3||He===2)&&(He=4),Ke===null||!(rn&268435455)&&!(_o&268435455)||Zs(Ke,Ye)}function Kl(e,s){var r=je;je|=2;var n=ff();(Ke!==e||Ye!==s)&&(ws=null,Gr(e,s));do try{uv();break}catch(a){pf(e,a)}while(!0);if(Tu(),je=r,Wl.current=n,qe!==null)throw Error(J(261));return Ke=null,Ye=0,He}function uv(){for(;qe!==null;)gf(qe)}function hv(){for(;qe!==null&&!$y();)gf(qe)}function gf(e){var s=vf(e.alternate,e,kt);e.memoizedProps=e.pendingProps,s===null?yf(e):qe=s,Wu.current=null}function yf(e){var s=e;do{var r=s.alternate;if(e=s.return,s.flags&32768){if(r=av(r,s),r!==null){r.flags&=32767,qe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,qe=null;return}}else if(r=nv(r,s,kt),r!==null){qe=r;return}if(s=s.sibling,s!==null){qe=s;return}qe=s=e}while(s!==null);He===0&&(He=5)}function Lr(e,s,r){var n=Se,a=zt.transition;try{zt.transition=null,Se=1,mv(e,s,r,n)}finally{zt.transition=a,Se=n}return null}function mv(e,s,r,n){do Fn();while(ir!==null);if(je&6)throw Error(J(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Qy(e,i),e===Ke&&(qe=Ke=null,Ye=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ji||(Ji=!0,jf(Al,function(){return Fn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=zt.transition,zt.transition=null;var l=Se;Se=1;var o=je;je|=4,Wu.current=null,lv(e,r),hf(r,e),Tb(Zc),Ml=!!Qc,Zc=Qc=null,e.current=r,ov(r),By(),je=o,Se=l,zt.transition=i}else e.current=r;if(Ji&&(Ji=!1,ir=e,Zl=a),i=e.pendingLanes,i===0&&(pr=null),zy(r.stateNode),jt(e,$e()),s!==null)for(n=e.onRecoverableError,r=0;r<s.length;r++)a=s[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ql)throw Ql=!1,e=xd,xd=null,e;return Zl&1&&e.tag!==0&&Fn(),i=e.pendingLanes,i&1?e===pd?Qa++:(Qa=0,pd=e):Qa=0,Ar(),null}function Fn(){if(ir!==null){var e=Yx(Zl),s=zt.transition,r=Se;try{if(zt.transition=null,Se=16>e?16:e,ir===null)var n=!1;else{if(e=ir,ir=null,Zl=0,je&6)throw Error(J(331));var a=je;for(je|=4,re=e.current;re!==null;){var i=re,l=i.child;if(re.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(re=d;re!==null;){var m=re;switch(m.tag){case 0:case 11:case 15:Ha(8,m,i)}var f=m.child;if(f!==null)f.return=m,re=f;else for(;re!==null;){m=re;var x=m.sibling,j=m.return;if(cf(m),m===d){re=null;break}if(x!==null){x.return=j,re=x;break}re=j}}}var y=i.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}re=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,re=l;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ha(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,re=g;break e}re=i.return}}var h=e.current;for(re=h;re!==null;){l=re;var p=l.child;if(l.subtreeFlags&2064&&p!==null)p.return=l,re=p;else e:for(l=h;re!==null;){if(o=re,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:No(9,o)}}catch(E){Oe(o,o.return,E)}if(o===l){re=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,re=k;break e}re=o.return}}if(je=a,Ar(),ms&&typeof ms.onPostCommitFiberRoot=="function")try{ms.onPostCommitFiberRoot(po,e)}catch{}n=!0}return n}finally{Se=r,zt.transition=s}}return!1}function Tm(e,s,r){s=ea(r,s),s=Yp(e,s,1),e=xr(e,s,1),s=ut(),e!==null&&(Ci(e,1,s),jt(e,s))}function Oe(e,s,r){if(e.tag===3)Tm(e,e,r);else for(;s!==null;){if(s.tag===3){Tm(s,e,r);break}else if(s.tag===1){var n=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(pr===null||!pr.has(n))){e=ea(r,e),e=Jp(s,e,1),s=xr(s,e,1),e=ut(),s!==null&&(Ci(s,1,e),jt(s,e));break}}s=s.return}}function xv(e,s,r){var n=e.pingCache;n!==null&&n.delete(s),s=ut(),e.pingedLanes|=e.suspendedLanes&r,Ke===e&&(Ye&r)===r&&(He===4||He===3&&(Ye&130023424)===Ye&&500>$e()-Zu?Gr(e,0):Qu|=r),jt(e,s)}function bf(e,s){s===0&&(e.mode&1?(s=Di,Di<<=1,!(Di&130023424)&&(Di=4194304)):s=1);var r=ut();e=Os(e,s),e!==null&&(Ci(e,s,r),jt(e,r))}function pv(e){var s=e.memoizedState,r=0;s!==null&&(r=s.retryLane),bf(e,r)}function fv(e,s){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(J(314))}n!==null&&n.delete(s),bf(e,r)}var vf;vf=function(e,s,r){if(e!==null)if(e.memoizedProps!==s.pendingProps||bt.current)yt=!0;else{if(!(e.lanes&r)&&!(s.flags&128))return yt=!1,rv(e,s,r);yt=!!(e.flags&131072)}else yt=!1,Re&&s.flags&1048576&&Np(s,Il,s.index);switch(s.lanes=0,s.tag){case 2:var n=s.type;ml(e,s),e=s.pendingProps;var a=Gn(s,nt.current);Ln(s,r),a=zu(null,s,n,e,a,r);var i=Du();return s.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,vt(n)?(i=!0,$l(s)):i=!1,s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ou(s),a.updater=wo,s.stateNode=a,a._reactInternals=s,rd(s,n,e,r),s=id(null,s,n,!0,i,r)):(s.tag=0,Re&&i&&Pu(s),ot(null,s,a,r),s=s.child),s;case 16:n=s.elementType;e:{switch(ml(e,s),e=s.pendingProps,a=n._init,n=a(n._payload),s.type=n,a=s.tag=yv(n),e=Qt(n,e),a){case 0:s=ad(null,s,n,e,r);break e;case 1:s=Nm(null,s,n,e,r);break e;case 11:s=jm(null,s,n,e,r);break e;case 14:s=wm(null,s,n,Qt(n.type,e),r);break e}throw Error(J(306,n,""))}return s;case 0:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:Qt(n,a),ad(e,s,n,a,r);case 1:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:Qt(n,a),Nm(e,s,n,a,r);case 3:e:{if(sf(s),e===null)throw Error(J(387));n=s.pendingProps,i=s.memoizedState,a=i.element,Pp(e,s),Dl(s,n,null,r);var l=s.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},s.updateQueue.baseState=i,s.memoizedState=i,s.flags&256){a=ea(Error(J(423)),s),s=_m(e,s,n,r,a);break e}else if(n!==a){a=ea(Error(J(424)),s),s=_m(e,s,n,r,a);break e}else for(Ct=mr(s.stateNode.containerInfo.firstChild),Et=s,Re=!0,Jt=null,r=Cp(s,null,n,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yn(),n===a){s=$s(e,s,r);break e}ot(e,s,n,r)}s=s.child}return s;case 5:return Ap(s),e===null&&ed(s),n=s.type,a=s.pendingProps,i=e!==null?e.memoizedProps:null,l=a.children,Kc(n,a)?l=null:i!==null&&Kc(n,i)&&(s.flags|=32),tf(e,s),ot(e,s,l,r),s.child;case 6:return e===null&&ed(s),null;case 13:return rf(e,s,r);case 4:return $u(s,s.stateNode.containerInfo),n=s.pendingProps,e===null?s.child=Jn(s,null,n,r):ot(e,s,n,r),s.child;case 11:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:Qt(n,a),jm(e,s,n,a,r);case 7:return ot(e,s,s.pendingProps,r),s.child;case 8:return ot(e,s,s.pendingProps.children,r),s.child;case 12:return ot(e,s,s.pendingProps.children,r),s.child;case 10:e:{if(n=s.type._context,a=s.pendingProps,i=s.memoizedProps,l=a.value,Ce(ql,n._currentValue),n._currentValue=l,i!==null)if(ss(i.value,l)){if(i.children===a.children&&!bt.current){s=$s(e,s,r);break e}}else for(i=s.child,i!==null&&(i.return=s);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ms(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?c.next=c:(c.next=m.next,m.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),td(i.return,r,s),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===s.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(J(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),td(l,r,s),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===s){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}ot(e,s,a.children,r),s=s.child}return s;case 9:return a=s.type,n=s.pendingProps.children,Ln(s,r),a=Ut(a),n=n(a),s.flags|=1,ot(e,s,n,r),s.child;case 14:return n=s.type,a=Qt(n,s.pendingProps),a=Qt(n.type,a),wm(e,s,n,a,r);case 15:return Xp(e,s,s.type,s.pendingProps,r);case 17:return n=s.type,a=s.pendingProps,a=s.elementType===n?a:Qt(n,a),ml(e,s),s.tag=1,vt(n)?(e=!0,$l(s)):e=!1,Ln(s,r),Gp(s,n,a),rd(s,n,a,r),id(null,s,n,!0,e,r);case 19:return nf(e,s,r);case 22:return ef(e,s,r)}throw Error(J(156,s.tag))};function jf(e,s){return Qx(e,s)}function gv(e,s,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,s,r,n){return new gv(e,s,r,n)}function Ju(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yv(e){if(typeof e=="function")return Ju(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gu)return 11;if(e===yu)return 14}return 2}function gr(e,s){var r=e.alternate;return r===null?(r=qt(e.tag,s,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=s,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,s=e.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function fl(e,s,r,n,a,i){var l=2;if(n=e,typeof e=="function")Ju(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case bn:return Yr(r.children,a,i,s);case fu:l=8,a|=8;break;case Cc:return e=qt(12,r,s,a|2),e.elementType=Cc,e.lanes=i,e;case Ec:return e=qt(13,r,s,a),e.elementType=Ec,e.lanes=i,e;case Pc:return e=qt(19,r,s,a),e.elementType=Pc,e.lanes=i,e;case Ax:return ko(r,a,i,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ex:l=10;break e;case Px:l=9;break e;case gu:l=11;break e;case yu:l=14;break e;case Us:l=16,n=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return s=qt(l,r,s,a),s.elementType=e,s.type=n,s.lanes=i,s}function Yr(e,s,r,n){return e=qt(7,e,n,s),e.lanes=r,e}function ko(e,s,r,n){return e=qt(22,e,n,s),e.elementType=Ax,e.lanes=r,e.stateNode={isHidden:!1},e}function hc(e,s,r){return e=qt(6,e,null,s),e.lanes=r,e}function mc(e,s,r){return s=qt(4,e.children!==null?e.children:[],e.key,s),s.lanes=r,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function bv(e,s,r,n,a){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qo(0),this.expirationTimes=Qo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qo(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Xu(e,s,r,n,a,i,l,o,c){return e=new bv(e,s,r,o,c),s===1?(s=1,i===!0&&(s|=8)):s=0,i=qt(3,null,null,s),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ou(i),e}function vv(e,s,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yn,key:n==null?null:""+n,children:e,containerInfo:s,implementation:r}}function wf(e){if(!e)return kr;e=e._reactInternals;e:{if(mn(e)!==e||e.tag!==1)throw Error(J(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(vt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(J(171))}if(e.tag===1){var r=e.type;if(vt(r))return jp(e,r,s)}return s}function Nf(e,s,r,n,a,i,l,o,c){return e=Xu(r,n,!0,e,a,i,l,o,c),e.context=wf(null),r=e.current,n=ut(),a=fr(r),i=Ms(n,a),i.callback=s??null,xr(r,i,a),e.current.lanes=a,Ci(e,a,n),jt(e,n),e}function So(e,s,r,n){var a=s.current,i=ut(),l=fr(a);return r=wf(r),s.context===null?s.context=r:s.pendingContext=r,s=Ms(i,l),s.payload={element:e},n=n===void 0?null:n,n!==null&&(s.callback=n),e=xr(a,s,l),e!==null&&(es(e,a,l,i),dl(e,a,l)),l}function Gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Lm(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<s?r:s}}function eh(e,s){Lm(e,s),(e=e.alternate)&&Lm(e,s)}function jv(){return null}var _f=typeof reportError=="function"?reportError:function(e){console.error(e)};function th(e){this._internalRoot=e}Co.prototype.render=th.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(J(409));So(e,s,null,null)};Co.prototype.unmount=th.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;nn(function(){So(null,e,null,null)}),s[Fs]=null}};function Co(e){this._internalRoot=e}Co.prototype.unstable_scheduleHydration=function(e){if(e){var s=ep();e={blockedOn:null,target:e,priority:s};for(var r=0;r<Qs.length&&s!==0&&s<Qs[r].priority;r++);Qs.splice(r,0,e),r===0&&sp(e)}};function sh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Eo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fm(){}function wv(e,s,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Gl(l);i.call(d)}}var l=Nf(s,n,e,0,null,!1,!1,"",Fm);return e._reactRootContainer=l,e[Fs]=l.current,ai(e.nodeType===8?e.parentNode:e),nn(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var d=Gl(c);o.call(d)}}var c=Xu(e,0,!1,null,null,!1,!1,"",Fm);return e._reactRootContainer=c,e[Fs]=c.current,ai(e.nodeType===8?e.parentNode:e),nn(function(){So(s,c,r,n)}),c}function Po(e,s,r,n,a){var i=r._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=Gl(l);o.call(c)}}So(s,l,e,a)}else l=wv(r,s,e,a,n);return Gl(l)}Jx=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var r=La(s.pendingLanes);r!==0&&(ju(s,r|1),jt(s,$e()),!(je&6)&&(ta=$e()+500,Ar()))}break;case 13:nn(function(){var n=Os(e,1);if(n!==null){var a=ut();es(n,e,1,a)}}),eh(e,1)}};wu=function(e){if(e.tag===13){var s=Os(e,134217728);if(s!==null){var r=ut();es(s,e,134217728,r)}eh(e,134217728)}};Xx=function(e){if(e.tag===13){var s=fr(e),r=Os(e,s);if(r!==null){var n=ut();es(r,e,s,n)}eh(e,s)}};ep=function(){return Se};tp=function(e,s){var r=Se;try{return Se=e,s()}finally{Se=r}};Ic=function(e,s,r){switch(s){case"input":if(Mc(e,r),s=r.name,r.type==="radio"&&s!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var n=r[s];if(n!==e&&n.form===e.form){var a=bo(n);if(!a)throw Error(J(90));Mx(n),Mc(n,a)}}}break;case"textarea":Lx(e,r);break;case"select":s=r.value,s!=null&&An(e,!!r.multiple,s,!1)}};zx=Ku;Dx=nn;var Nv={usingClientEntryPoint:!1,Events:[Pi,Nn,bo,Ix,qx,Ku]},Ea={findFiberByHostInstance:Or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_v={bundleType:Ea.bundleType,version:Ea.version,rendererPackageName:Ea.rendererPackageName,rendererConfig:Ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hx(e),e===null?null:e.stateNode},findFiberByHostInstance:Ea.findFiberByHostInstance||jv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xi.isDisabled&&Xi.supportsFiber)try{po=Xi.inject(_v),ms=Xi}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nv;Mt.createPortal=function(e,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sh(s))throw Error(J(200));return vv(e,s,null,r)};Mt.createRoot=function(e,s){if(!sh(e))throw Error(J(299));var r=!1,n="",a=_f;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(n=s.identifierPrefix),s.onRecoverableError!==void 0&&(a=s.onRecoverableError)),s=Xu(e,1,!1,null,null,r,!1,n,a),e[Fs]=s.current,ai(e.nodeType===8?e.parentNode:e),new th(s)};Mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=Hx(s),e=e===null?null:e.stateNode,e};Mt.flushSync=function(e){return nn(e)};Mt.hydrate=function(e,s,r){if(!Eo(s))throw Error(J(200));return Po(null,e,s,!0,r)};Mt.hydrateRoot=function(e,s,r){if(!sh(e))throw Error(J(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",l=_f;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),s=Nf(s,null,e,1,r??null,a,!1,i,l),e[Fs]=s.current,ai(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,a]:s.mutableSourceEagerHydrationData.push(r,a);return new Co(s)};Mt.render=function(e,s,r){if(!Eo(s))throw Error(J(200));return Po(null,e,s,!1,r)};Mt.unmountComponentAtNode=function(e){if(!Eo(e))throw Error(J(40));return e._reactRootContainer?(nn(function(){Po(null,null,e,!1,function(){e._reactRootContainer=null,e[Fs]=null})}),!0):!1};Mt.unstable_batchedUpdates=Ku;Mt.unstable_renderSubtreeIntoContainer=function(e,s,r,n){if(!Eo(r))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return Po(e,s,r,!1,n)};Mt.version="18.3.1-next-f1338f8080-20240426";function kf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kf)}catch(e){console.error(e)}}kf(),_x.exports=Mt;var kv=_x.exports,Sf,Om=kv;Sf=Om.createRoot,Om.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xi.apply(this,arguments)}var lr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(lr||(lr={}));const $m="popstate";function Sv(e){e===void 0&&(e={});function s(n,a){let{pathname:i,search:l,hash:o}=n.location;return yd("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Yl(a)}return Ev(s,r,null,e)}function Be(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function Cf(e,s){if(!e){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Cv(){return Math.random().toString(36).substr(2,8)}function Bm(e,s){return{usr:e.state,key:e.key,idx:s}}function yd(e,s,r,n){return r===void 0&&(r=null),xi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof s=="string"?pa(s):s,{state:r,key:s&&s.key||n||Cv()})}function Yl(e){let{pathname:s="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function pa(e){let s={};if(e){let r=e.indexOf("#");r>=0&&(s.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(s.search=e.substr(n),e=e.substr(0,n)),e&&(s.pathname=e)}return s}function Ev(e,s,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,o=lr.Pop,c=null,d=m();d==null&&(d=0,l.replaceState(xi({},l.state,{idx:d}),""));function m(){return(l.state||{idx:null}).idx}function f(){o=lr.Pop;let w=m(),g=w==null?null:w-d;d=w,c&&c({action:o,location:b.location,delta:g})}function x(w,g){o=lr.Push;let h=yd(b.location,w,g);d=m()+1;let p=Bm(h,d),k=b.createHref(h);try{l.pushState(p,"",k)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(k)}i&&c&&c({action:o,location:b.location,delta:1})}function j(w,g){o=lr.Replace;let h=yd(b.location,w,g);d=m();let p=Bm(h,d),k=b.createHref(h);l.replaceState(p,"",k),i&&c&&c({action:o,location:b.location,delta:0})}function y(w){let g=a.location.origin!=="null"?a.location.origin:a.location.href,h=typeof w=="string"?w:Yl(w);return h=h.replace(/ $/,"%20"),Be(g,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,g)}let b={get action(){return o},get location(){return e(a,l)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener($m,f),c=w,()=>{a.removeEventListener($m,f),c=null}},createHref(w){return s(a,w)},createURL:y,encodeLocation(w){let g=y(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:x,replace:j,go(w){return l.go(w)}};return b}var Im;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Im||(Im={}));function Pv(e,s,r){return r===void 0&&(r="/"),Av(e,s,r)}function Av(e,s,r,n){let a=typeof s=="string"?pa(s):s,i=rh(a.pathname||"/",r);if(i==null)return null;let l=Ef(e);Rv(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=Uv(i);o=qv(l[c],d)}return o}function Ef(e,s,r,n){s===void 0&&(s=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(Be(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=yr([n,c.relativePath]),m=r.concat(c);i.children&&i.children.length>0&&(Be(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Ef(i.children,s,m,d)),!(i.path==null&&!i.index)&&s.push({path:d,score:Bv(d,i.index),routesMeta:m})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,l);else for(let c of Pf(i.path))a(i,l,c)}),s}function Pf(e){let s=e.split("/");if(s.length===0)return[];let[r,...n]=s,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let l=Pf(n.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Rv(e){e.sort((s,r)=>s.score!==r.score?r.score-s.score:Iv(s.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Mv=/^:[\w-]+$/,Tv=3,Lv=2,Fv=1,Ov=10,$v=-2,qm=e=>e==="*";function Bv(e,s){let r=e.split("/"),n=r.length;return r.some(qm)&&(n+=$v),s&&(n+=Lv),r.filter(a=>!qm(a)).reduce((a,i)=>a+(Mv.test(i)?Tv:i===""?Fv:Ov),n)}function Iv(e,s){return e.length===s.length&&e.slice(0,-1).every((n,a)=>n===s[a])?e[e.length-1]-s[s.length-1]:0}function qv(e,s,r){let{routesMeta:n}=e,a={},i="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,m=i==="/"?s:s.slice(i.length)||"/",f=zv({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),x=c.route;if(!f)return null;Object.assign(a,f.params),l.push({params:a,pathname:yr([i,f.pathname]),pathnameBase:Qv(yr([i,f.pathnameBase])),route:x}),f.pathnameBase!=="/"&&(i=yr([i,f.pathnameBase]))}return l}function zv(e,s){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Dv(e.path,e.caseSensitive,e.end),a=s.match(r);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((d,m,f)=>{let{paramName:x,isOptional:j}=m;if(x==="*"){let b=o[f]||"";l=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const y=o[f];return j&&!y?d[x]=void 0:d[x]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:e}}function Dv(e,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),Cf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,s?void 0:"i"),n]}function Uv(e){try{return e.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Cf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),e}}function rh(e,s){if(s==="/")return e;if(!e.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Vv(e,s){s===void 0&&(s="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?pa(e):e;return{pathname:r?r.startsWith("/")?r:Hv(r,s):s,search:Zv(n),hash:Kv(a)}}function Hv(e,s){let r=s.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function xc(e,s,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Wv(e){return e.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function nh(e,s){let r=Wv(e);return s?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ah(e,s,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=pa(e):(a=xi({},e),Be(!a.pathname||!a.pathname.includes("?"),xc("?","pathname","search",a)),Be(!a.pathname||!a.pathname.includes("#"),xc("#","pathname","hash",a)),Be(!a.search||!a.search.includes("#"),xc("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=r;else{let f=s.length-1;if(!n&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),f-=1;a.pathname=x.join("/")}o=f>=0?s[f]:"/"}let c=Vv(a,o),d=l&&l!=="/"&&l.endsWith("/"),m=(i||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}const yr=e=>e.join("/").replace(/\/\/+/g,"/"),Qv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Zv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Kv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Gv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Af=["post","put","patch","delete"];new Set(Af);const Yv=["get",...Af];new Set(Yv);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pi.apply(this,arguments)}const ih=u.createContext(null),Jv=u.createContext(null),Rr=u.createContext(null),Ao=u.createContext(null),Is=u.createContext({outlet:null,matches:[],isDataRoute:!1}),Rf=u.createContext(null);function Xv(e,s){let{relative:r}=s===void 0?{}:s;fa()||Be(!1);let{basename:n,navigator:a}=u.useContext(Rr),{hash:i,pathname:l,search:o}=Tf(e,{relative:r}),c=l;return n!=="/"&&(c=l==="/"?n:yr([n,l])),a.createHref({pathname:c,search:o,hash:i})}function fa(){return u.useContext(Ao)!=null}function Mr(){return fa()||Be(!1),u.useContext(Ao).location}function Mf(e){u.useContext(Rr).static||u.useLayoutEffect(e)}function qs(){let{isDataRoute:e}=u.useContext(Is);return e?h2():e2()}function e2(){fa()||Be(!1);let e=u.useContext(ih),{basename:s,future:r,navigator:n}=u.useContext(Rr),{matches:a}=u.useContext(Is),{pathname:i}=Mr(),l=JSON.stringify(nh(a,r.v7_relativeSplatPath)),o=u.useRef(!1);return Mf(()=>{o.current=!0}),u.useCallback(function(d,m){if(m===void 0&&(m={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let f=ah(d,JSON.parse(l),i,m.relative==="path");e==null&&s!=="/"&&(f.pathname=f.pathname==="/"?s:yr([s,f.pathname])),(m.replace?n.replace:n.push)(f,m.state,m)},[s,n,l,i,e])}function lh(){let{matches:e}=u.useContext(Is),s=e[e.length-1];return s?s.params:{}}function Tf(e,s){let{relative:r}=s===void 0?{}:s,{future:n}=u.useContext(Rr),{matches:a}=u.useContext(Is),{pathname:i}=Mr(),l=JSON.stringify(nh(a,n.v7_relativeSplatPath));return u.useMemo(()=>ah(e,JSON.parse(l),i,r==="path"),[e,l,i,r])}function t2(e,s){return s2(e,s)}function s2(e,s,r,n){fa()||Be(!1);let{navigator:a}=u.useContext(Rr),{matches:i}=u.useContext(Is),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=Mr(),m;if(s){var f;let w=typeof s=="string"?pa(s):s;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||Be(!1),m=w}else m=d;let x=m.pathname||"/",j=x;if(c!=="/"){let w=c.replace(/^\//,"").split("/");j="/"+x.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=Pv(e,{pathname:j}),b=l2(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:yr([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:yr([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return s&&b?u.createElement(Ao.Provider,{value:{location:pi({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:lr.Pop}},b):b}function r2(){let e=u2(),s=Gv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},s),r?u.createElement("pre",{style:a},r):null,null)}const n2=u.createElement(r2,null);class a2 extends u.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?u.createElement(Is.Provider,{value:this.props.routeContext},u.createElement(Rf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function i2(e){let{routeContext:s,match:r,children:n}=e,a=u.useContext(ih);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),u.createElement(Is.Provider,{value:s},n)}function l2(e,s,r,n){var a;if(s===void 0&&(s=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let m=l.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);m>=0||Be(!1),l=l.slice(0,Math.min(l.length,m+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<l.length;m++){let f=l[m];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=m),f.route.id){let{loaderData:x,errors:j}=r,y=f.route.loader&&x[f.route.id]===void 0&&(!j||j[f.route.id]===void 0);if(f.route.lazy||y){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((m,f,x)=>{let j,y=!1,b=null,w=null;r&&(j=o&&f.route.id?o[f.route.id]:void 0,b=f.route.errorElement||n2,c&&(d<0&&x===0?(m2("route-fallback"),y=!0,w=null):d===x&&(y=!0,w=f.route.hydrateFallbackElement||null)));let g=s.concat(l.slice(0,x+1)),h=()=>{let p;return j?p=b:y?p=w:f.route.Component?p=u.createElement(f.route.Component,null):f.route.element?p=f.route.element:p=m,u.createElement(i2,{match:f,routeContext:{outlet:m,matches:g,isDataRoute:r!=null},children:p})};return r&&(f.route.ErrorBoundary||f.route.errorElement||x===0)?u.createElement(a2,{location:r.location,revalidation:r.revalidation,component:b,error:j,children:h(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):h()},null)}var Lf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Lf||{}),Ff=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ff||{});function o2(e){let s=u.useContext(ih);return s||Be(!1),s}function c2(e){let s=u.useContext(Jv);return s||Be(!1),s}function d2(e){let s=u.useContext(Is);return s||Be(!1),s}function Of(e){let s=d2(),r=s.matches[s.matches.length-1];return r.route.id||Be(!1),r.route.id}function u2(){var e;let s=u.useContext(Rf),r=c2(),n=Of();return s!==void 0?s:(e=r.errors)==null?void 0:e[n]}function h2(){let{router:e}=o2(Lf.UseNavigateStable),s=Of(Ff.UseNavigateStable),r=u.useRef(!1);return Mf(()=>{r.current=!0}),u.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,pi({fromRouteId:s},i)))},[e,s])}const zm={};function m2(e,s,r){zm[e]||(zm[e]=!0)}function x2(e,s){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function $f(e){let{to:s,replace:r,state:n,relative:a}=e;fa()||Be(!1);let{future:i,static:l}=u.useContext(Rr),{matches:o}=u.useContext(Is),{pathname:c}=Mr(),d=qs(),m=ah(s,nh(o,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(m);return u.useEffect(()=>d(JSON.parse(f),{replace:r,state:n,relative:a}),[d,f,a,r,n]),null}function ke(e){Be(!1)}function p2(e){let{basename:s="/",children:r=null,location:n,navigationType:a=lr.Pop,navigator:i,static:l=!1,future:o}=e;fa()&&Be(!1);let c=s.replace(/^\/*/,"/"),d=u.useMemo(()=>({basename:c,navigator:i,static:l,future:pi({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof n=="string"&&(n=pa(n));let{pathname:m="/",search:f="",hash:x="",state:j=null,key:y="default"}=n,b=u.useMemo(()=>{let w=rh(m,c);return w==null?null:{location:{pathname:w,search:f,hash:x,state:j,key:y},navigationType:a}},[c,m,f,x,j,y,a]);return b==null?null:u.createElement(Rr.Provider,{value:d},u.createElement(Ao.Provider,{children:r,value:b}))}function f2(e){let{children:s,location:r}=e;return t2(bd(s),r)}new Promise(()=>{});function bd(e,s){s===void 0&&(s=[]);let r=[];return u.Children.forEach(e,(n,a)=>{if(!u.isValidElement(n))return;let i=[...s,a];if(n.type===u.Fragment){r.push.apply(r,bd(n.props.children,i));return}n.type!==ke&&Be(!1),!n.props.index||!n.props.children||Be(!1);let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=bd(n.props.children,i)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vd(){return vd=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vd.apply(this,arguments)}function g2(e,s){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(s.indexOf(a)>=0)&&(r[a]=e[a]);return r}function y2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function b2(e,s){return e.button===0&&(!s||s==="_self")&&!y2(e)}function jd(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((s,r)=>{let n=e[r];return s.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function v2(e,s){let r=jd(e);return s&&s.forEach((n,a)=>{r.has(a)||s.getAll(a).forEach(i=>{r.append(a,i)})}),r}const j2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],w2="6";try{window.__reactRouterVersion=w2}catch{}const N2="startTransition",Dm=xy[N2];function _2(e){let{basename:s,children:r,future:n,window:a}=e,i=u.useRef();i.current==null&&(i.current=Sv({window:a,v5Compat:!0}));let l=i.current,[o,c]=u.useState({action:l.action,location:l.location}),{v7_startTransition:d}=n||{},m=u.useCallback(f=>{d&&Dm?Dm(()=>c(f)):c(f)},[c,d]);return u.useLayoutEffect(()=>l.listen(m),[l,m]),u.useEffect(()=>x2(n),[n]),u.createElement(p2,{basename:s,children:r,location:o.location,navigationType:o.action,navigator:l,future:n})}const k2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",S2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z=u.forwardRef(function(s,r){let{onClick:n,relative:a,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:m,viewTransition:f}=s,x=g2(s,j2),{basename:j}=u.useContext(Rr),y,b=!1;if(typeof d=="string"&&S2.test(d)&&(y=d,k2))try{let p=new URL(window.location.href),k=d.startsWith("//")?new URL(p.protocol+d):new URL(d),E=rh(k.pathname,j);k.origin===p.origin&&E!=null?d=E+k.search+k.hash:b=!0}catch{}let w=Xv(d,{relative:a}),g=C2(d,{replace:l,state:o,target:c,preventScrollReset:m,relative:a,viewTransition:f});function h(p){n&&n(p),p.defaultPrevented||g(p)}return u.createElement("a",vd({},x,{href:y||w,onClick:b||i?n:h,ref:r,target:c}))});var Um;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Um||(Um={}));var Vm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Vm||(Vm={}));function C2(e,s){let{target:r,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:o}=s===void 0?{}:s,c=qs(),d=Mr(),m=Tf(e,{relative:l});return u.useCallback(f=>{if(b2(f,r)){f.preventDefault();let x=n!==void 0?n:Yl(d)===Yl(m);c(e,{replace:x,state:a,preventScrollReset:i,relative:l,viewTransition:o})}},[d,c,m,n,a,r,e,i,l,o])}function at(e){let s=u.useRef(jd(e)),r=u.useRef(!1),n=Mr(),a=u.useMemo(()=>v2(n.search,r.current?null:s.current),[n.search]),i=qs(),l=u.useCallback((o,c)=>{const d=jd(typeof o=="function"?o(a):o);r.current=!0,i("?"+d,c)},[i,a]);return[a,l]}var ga=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},E2={setTimeout:(e,s)=>setTimeout(e,s),clearTimeout:e=>clearTimeout(e),setInterval:(e,s)=>setInterval(e,s),clearInterval:e=>clearInterval(e)},Gs,ou,sx,P2=(sx=class{constructor(){oe(this,Gs,E2);oe(this,ou,!1)}setTimeoutProvider(e){te(this,Gs,e)}setTimeout(e,s){return F(this,Gs).setTimeout(e,s)}clearTimeout(e){F(this,Gs).clearTimeout(e)}setInterval(e,s){return F(this,Gs).setInterval(e,s)}clearInterval(e){F(this,Gs).clearInterval(e)}},Gs=new WeakMap,ou=new WeakMap,sx),Ir=new P2;function A2(e){setTimeout(e,0)}var an=typeof window>"u"||"Deno"in globalThis;function ct(){}function R2(e,s){return typeof e=="function"?e(s):e}function wd(e){return typeof e=="number"&&e>=0&&e!==1/0}function Bf(e,s){return Math.max(e+(s||0)-Date.now(),0)}function br(e,s){return typeof e=="function"?e(s):e}function Ft(e,s){return typeof e=="function"?e(s):e}function Hm(e,s){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:l,stale:o}=e;if(l){if(n){if(s.queryHash!==oh(l,s.options))return!1}else if(!fi(s.queryKey,l))return!1}if(r!=="all"){const c=s.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&s.isStale()!==o||a&&a!==s.state.fetchStatus||i&&!i(s))}function Wm(e,s){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!s.options.mutationKey)return!1;if(r){if(ln(s.options.mutationKey)!==ln(i))return!1}else if(!fi(s.options.mutationKey,i))return!1}return!(n&&s.state.status!==n||a&&!a(s))}function oh(e,s){return((s==null?void 0:s.queryKeyHashFn)||ln)(e)}function ln(e){return JSON.stringify(e,(s,r)=>Nd(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function fi(e,s){return e===s?!0:typeof e!=typeof s?!1:e&&s&&typeof e=="object"&&typeof s=="object"?Object.keys(s).every(r=>fi(e[r],s[r])):!1}var M2=Object.prototype.hasOwnProperty;function If(e,s){if(e===s)return e;const r=Qm(e)&&Qm(s);if(!r&&!(Nd(e)&&Nd(s)))return s;const a=(r?e:Object.keys(e)).length,i=r?s:Object.keys(s),l=i.length,o=r?new Array(l):{};let c=0;for(let d=0;d<l;d++){const m=r?d:i[d],f=e[m],x=s[m];if(f===x){o[m]=f,(r?d<a:M2.call(e,m))&&c++;continue}if(f===null||x===null||typeof f!="object"||typeof x!="object"){o[m]=x;continue}const j=If(f,x);o[m]=j,j===f&&c++}return a===l&&c===a?e:o}function Jl(e,s){if(!s||Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}function Qm(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Nd(e){if(!Zm(e))return!1;const s=e.constructor;if(s===void 0)return!0;const r=s.prototype;return!(!Zm(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Zm(e){return Object.prototype.toString.call(e)==="[object Object]"}function T2(e){return new Promise(s=>{Ir.setTimeout(s,e)})}function _d(e,s,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,s):r.structuralSharing!==!1?If(e,s):s}function L2(e,s,r=0){const n=[...e,s];return r&&n.length>r?n.slice(1):n}function F2(e,s,r=0){const n=[s,...e];return r&&n.length>r?n.slice(0,-1):n}var ch=Symbol();function qf(e,s){return!e.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!e.queryFn||e.queryFn===ch?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function zf(e,s){return typeof e=="function"?e(...s):!!e}var zr,Ys,$n,rx,O2=(rx=class extends ga{constructor(){super();oe(this,zr);oe(this,Ys);oe(this,$n);te(this,$n,s=>{if(!an&&window.addEventListener){const r=()=>s();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){F(this,Ys)||this.setEventListener(F(this,$n))}onUnsubscribe(){var s;this.hasListeners()||((s=F(this,Ys))==null||s.call(this),te(this,Ys,void 0))}setEventListener(s){var r;te(this,$n,s),(r=F(this,Ys))==null||r.call(this),te(this,Ys,s(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(s){F(this,zr)!==s&&(te(this,zr,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(r=>{r(s)})}isFocused(){var s;return typeof F(this,zr)=="boolean"?F(this,zr):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},zr=new WeakMap,Ys=new WeakMap,$n=new WeakMap,rx),dh=new O2;function kd(){let e,s;const r=new Promise((a,i)=>{e=a,s=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),s(a)},r}var $2=A2;function B2(){let e=[],s=0,r=o=>{o()},n=o=>{o()},a=$2;const i=o=>{s?e.push(o):a(()=>{r(o)})},l=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;s++;try{c=o()}finally{s--,s||l()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var Ve=B2(),Bn,Js,In,nx,I2=(nx=class extends ga{constructor(){super();oe(this,Bn,!0);oe(this,Js);oe(this,In);te(this,In,s=>{if(!an&&window.addEventListener){const r=()=>s(!0),n=()=>s(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){F(this,Js)||this.setEventListener(F(this,In))}onUnsubscribe(){var s;this.hasListeners()||((s=F(this,Js))==null||s.call(this),te(this,Js,void 0))}setEventListener(s){var r;te(this,In,s),(r=F(this,Js))==null||r.call(this),te(this,Js,s(this.setOnline.bind(this)))}setOnline(s){F(this,Bn)!==s&&(te(this,Bn,s),this.listeners.forEach(n=>{n(s)}))}isOnline(){return F(this,Bn)}},Bn=new WeakMap,Js=new WeakMap,In=new WeakMap,nx),Xl=new I2;function q2(e){return Math.min(1e3*2**e,3e4)}function Df(e){return(e??"online")==="online"?Xl.isOnline():!0}var Sd=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Uf(e){let s=!1,r=0,n;const a=kd(),i=()=>a.status!=="pending",l=b=>{var w;if(!i()){const g=new Sd(b);x(g),(w=e.onCancel)==null||w.call(e,g)}},o=()=>{s=!0},c=()=>{s=!1},d=()=>dh.isFocused()&&(e.networkMode==="always"||Xl.isOnline())&&e.canRun(),m=()=>Df(e.networkMode)&&e.canRun(),f=b=>{i()||(n==null||n(),a.resolve(b))},x=b=>{i()||(n==null||n(),a.reject(b))},j=()=>new Promise(b=>{var w;n=g=>{(i()||d())&&b(g)},(w=e.onPause)==null||w.call(e)}).then(()=>{var b;n=void 0,i()||(b=e.onContinue)==null||b.call(e)}),y=()=>{if(i())return;let b;const w=r===0?e.initialPromise:void 0;try{b=w??e.fn()}catch(g){b=Promise.reject(g)}Promise.resolve(b).then(f).catch(g=>{var I;if(i())return;const h=e.retry??(an?0:3),p=e.retryDelay??q2,k=typeof p=="function"?p(r,g):p,E=h===!0||typeof h=="number"&&r<h||typeof h=="function"&&h(r,g);if(s||!E){x(g);return}r++,(I=e.onFail)==null||I.call(e,r,g),T2(k).then(()=>d()?void 0:j()).then(()=>{s?x(g):y()})})};return{promise:a,status:()=>a.status,cancel:l,continue:()=>(n==null||n(),a),cancelRetry:o,continueRetry:c,canStart:m,start:()=>(m()?y():j().then(y),a)}}var Dr,ax,Vf=(ax=class{constructor(){oe(this,Dr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),wd(this.gcTime)&&te(this,Dr,Ir.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(an?1/0:5*60*1e3))}clearGcTimeout(){F(this,Dr)&&(Ir.clearTimeout(F(this,Dr)),te(this,Dr,void 0))}},Dr=new WeakMap,ax),Ur,qn,Lt,Vr,We,ji,Hr,Zt,js,ix,z2=(ix=class extends Vf{constructor(s){super();oe(this,Zt);oe(this,Ur);oe(this,qn);oe(this,Lt);oe(this,Vr);oe(this,We);oe(this,ji);oe(this,Hr);te(this,Hr,!1),te(this,ji,s.defaultOptions),this.setOptions(s.options),this.observers=[],te(this,Vr,s.client),te(this,Lt,F(this,Vr).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,te(this,Ur,Km(this.options)),this.state=s.state??F(this,Ur),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=F(this,We))==null?void 0:s.promise}setOptions(s){if(this.options={...F(this,ji),...s},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Km(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),te(this,Ur,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,Lt).remove(this)}setData(s,r){const n=_d(this.state.data,s,this.options);return me(this,Zt,js).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(s,r){me(this,Zt,js).call(this,{type:"setState",state:s,setStateOptions:r})}cancel(s){var n,a;const r=(n=F(this,We))==null?void 0:n.promise;return(a=F(this,We))==null||a.cancel(s),r?r.then(ct).catch(ct):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,Ur))}isActive(){return this.observers.some(s=>Ft(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ch||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>br(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!Bf(this.state.dataUpdatedAt,s)}onFocus(){var r;const s=this.observers.find(n=>n.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(r=F(this,We))==null||r.continue()}onOnline(){var r;const s=this.observers.find(n=>n.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(r=F(this,We))==null||r.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),F(this,Lt).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(r=>r!==s),this.observers.length||(F(this,We)&&(F(this,Hr)?F(this,We).cancel({revert:!0}):F(this,We).cancelRetry()),this.scheduleGc()),F(this,Lt).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||me(this,Zt,js).call(this,{type:"invalidate"})}async fetch(s,r){var c,d,m,f,x,j,y,b,w,g,h,p;if(this.state.fetchStatus!=="idle"&&((c=F(this,We))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,We))return F(this,We).continueRetry(),F(this,We).promise}if(s&&this.setOptions(s),!this.options.queryFn){const k=this.observers.find(E=>E.options.queryFn);k&&this.setOptions(k.options)}const n=new AbortController,a=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(te(this,Hr,!0),n.signal)})},i=()=>{const k=qf(this.options,r),I=(()=>{const _={client:F(this,Vr),queryKey:this.queryKey,meta:this.meta};return a(_),_})();return te(this,Hr,!1),this.options.persister?this.options.persister(k,I,this):k(I)},o=(()=>{const k={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,Vr),state:this.state,fetchFn:i};return a(k),k})();(d=this.options.behavior)==null||d.onFetch(o,this),te(this,qn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=o.fetchOptions)==null?void 0:m.meta))&&me(this,Zt,js).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta}),te(this,We,Uf({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:k=>{k instanceof Sd&&k.revert&&this.setState({...F(this,qn),fetchStatus:"idle"}),n.abort()},onFail:(k,E)=>{me(this,Zt,js).call(this,{type:"failed",failureCount:k,error:E})},onPause:()=>{me(this,Zt,js).call(this,{type:"pause"})},onContinue:()=>{me(this,Zt,js).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const k=await F(this,We).start();if(k===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(k),(j=(x=F(this,Lt).config).onSuccess)==null||j.call(x,k,this),(b=(y=F(this,Lt).config).onSettled)==null||b.call(y,k,this.state.error,this),k}catch(k){if(k instanceof Sd){if(k.silent)return F(this,We).promise;if(k.revert){if(this.state.data===void 0)throw k;return this.state.data}}throw me(this,Zt,js).call(this,{type:"error",error:k}),(g=(w=F(this,Lt).config).onError)==null||g.call(w,k,this),(p=(h=F(this,Lt).config).onSettled)==null||p.call(h,this.state.data,k,this),k}finally{this.scheduleGc()}}},Ur=new WeakMap,qn=new WeakMap,Lt=new WeakMap,Vr=new WeakMap,We=new WeakMap,ji=new WeakMap,Hr=new WeakMap,Zt=new WeakSet,js=function(s){const r=n=>{switch(s.type){case"failed":return{...n,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Hf(n.data,this.options),fetchMeta:s.meta??null};case"success":const a={...n,data:s.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return te(this,qn,s.manual?a:void 0),a;case"error":const i=s.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...s.state}}};this.state=r(this.state),Ve.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),F(this,Lt).notify({query:this,type:"updated",action:s})})},ix);function Hf(e,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Df(s.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Km(e){const s=typeof e.initialData=="function"?e.initialData():e.initialData,r=s!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var xt,ye,wi,it,Wr,zn,_s,Xs,Ni,Dn,Un,Qr,Zr,er,Vn,_e,Oa,Cd,Ed,Pd,Ad,Rd,Md,Td,Wf,lx,D2=(lx=class extends ga{constructor(s,r){super();oe(this,_e);oe(this,xt);oe(this,ye);oe(this,wi);oe(this,it);oe(this,Wr);oe(this,zn);oe(this,_s);oe(this,Xs);oe(this,Ni);oe(this,Dn);oe(this,Un);oe(this,Qr);oe(this,Zr);oe(this,er);oe(this,Vn,new Set);this.options=r,te(this,xt,s),te(this,Xs,null),te(this,_s,kd()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,ye).addObserver(this),Gm(F(this,ye),this.options)?me(this,_e,Oa).call(this):this.updateResult(),me(this,_e,Ad).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ld(F(this,ye),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ld(F(this,ye),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,me(this,_e,Rd).call(this),me(this,_e,Md).call(this),F(this,ye).removeObserver(this)}setOptions(s){const r=this.options,n=F(this,ye);if(this.options=F(this,xt).defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ft(this.options.enabled,F(this,ye))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");me(this,_e,Td).call(this),F(this,ye).setOptions(this.options),r._defaulted&&!Jl(this.options,r)&&F(this,xt).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,ye),observer:this});const a=this.hasListeners();a&&Ym(F(this,ye),n,this.options,r)&&me(this,_e,Oa).call(this),this.updateResult(),a&&(F(this,ye)!==n||Ft(this.options.enabled,F(this,ye))!==Ft(r.enabled,F(this,ye))||br(this.options.staleTime,F(this,ye))!==br(r.staleTime,F(this,ye)))&&me(this,_e,Cd).call(this);const i=me(this,_e,Ed).call(this);a&&(F(this,ye)!==n||Ft(this.options.enabled,F(this,ye))!==Ft(r.enabled,F(this,ye))||i!==F(this,er))&&me(this,_e,Pd).call(this,i)}getOptimisticResult(s){const r=F(this,xt).getQueryCache().build(F(this,xt),s),n=this.createResult(r,s);return V2(this,n)&&(te(this,it,n),te(this,zn,this.options),te(this,Wr,F(this,ye).state)),n}getCurrentResult(){return F(this,it)}trackResult(s,r){return new Proxy(s,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&!this.options.experimental_prefetchInRender&&F(this,_s).status==="pending"&&F(this,_s).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,a))})}trackProp(s){F(this,Vn).add(s)}getCurrentQuery(){return F(this,ye)}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const r=F(this,xt).defaultQueryOptions(s),n=F(this,xt).getQueryCache().build(F(this,xt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(s){return me(this,_e,Oa).call(this,{...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,it)))}createResult(s,r){var T;const n=F(this,ye),a=this.options,i=F(this,it),l=F(this,Wr),o=F(this,zn),d=s!==n?s.state:F(this,wi),{state:m}=s;let f={...m},x=!1,j;if(r._optimisticResults){const q=this.hasListeners(),D=!q&&Gm(s,r),R=q&&Ym(s,n,r,a);(D||R)&&(f={...f,...Hf(m.data,s.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:b,status:w}=f;j=f.data;let g=!1;if(r.placeholderData!==void 0&&j===void 0&&w==="pending"){let q;i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(q=i.data,g=!0):q=typeof r.placeholderData=="function"?r.placeholderData((T=F(this,Un))==null?void 0:T.state.data,F(this,Un)):r.placeholderData,q!==void 0&&(w="success",j=_d(i==null?void 0:i.data,q,r),x=!0)}if(r.select&&j!==void 0&&!g)if(i&&j===(l==null?void 0:l.data)&&r.select===F(this,Ni))j=F(this,Dn);else try{te(this,Ni,r.select),j=r.select(j),j=_d(i==null?void 0:i.data,j,r),te(this,Dn,j),te(this,Xs,null)}catch(q){te(this,Xs,q)}F(this,Xs)&&(y=F(this,Xs),j=F(this,Dn),b=Date.now(),w="error");const h=f.fetchStatus==="fetching",p=w==="pending",k=w==="error",E=p&&h,I=j!==void 0,L={status:w,fetchStatus:f.fetchStatus,isPending:p,isSuccess:w==="success",isError:k,isInitialLoading:E,isLoading:E,data:j,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:b,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:h,isRefetching:h&&!p,isLoadingError:k&&!I,isPaused:f.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:k&&I,isStale:uh(s,r),refetch:this.refetch,promise:F(this,_s),isEnabled:Ft(r.enabled,s)!==!1};if(this.options.experimental_prefetchInRender){const q=B=>{L.status==="error"?B.reject(L.error):L.data!==void 0&&B.resolve(L.data)},D=()=>{const B=te(this,_s,L.promise=kd());q(B)},R=F(this,_s);switch(R.status){case"pending":s.queryHash===n.queryHash&&q(R);break;case"fulfilled":(L.status==="error"||L.data!==R.value)&&D();break;case"rejected":(L.status!=="error"||L.error!==R.reason)&&D();break}}return L}updateResult(){const s=F(this,it),r=this.createResult(F(this,ye),this.options);if(te(this,Wr,F(this,ye).state),te(this,zn,this.options),F(this,Wr).data!==void 0&&te(this,Un,F(this,ye)),Jl(r,s))return;te(this,it,r);const n=()=>{if(!s)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!F(this,Vn).size)return!0;const l=new Set(i??F(this,Vn));return this.options.throwOnError&&l.add("error"),Object.keys(F(this,it)).some(o=>{const c=o;return F(this,it)[c]!==s[c]&&l.has(c)})};me(this,_e,Wf).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&me(this,_e,Ad).call(this)}},xt=new WeakMap,ye=new WeakMap,wi=new WeakMap,it=new WeakMap,Wr=new WeakMap,zn=new WeakMap,_s=new WeakMap,Xs=new WeakMap,Ni=new WeakMap,Dn=new WeakMap,Un=new WeakMap,Qr=new WeakMap,Zr=new WeakMap,er=new WeakMap,Vn=new WeakMap,_e=new WeakSet,Oa=function(s){me(this,_e,Td).call(this);let r=F(this,ye).fetch(this.options,s);return s!=null&&s.throwOnError||(r=r.catch(ct)),r},Cd=function(){me(this,_e,Rd).call(this);const s=br(this.options.staleTime,F(this,ye));if(an||F(this,it).isStale||!wd(s))return;const n=Bf(F(this,it).dataUpdatedAt,s)+1;te(this,Qr,Ir.setTimeout(()=>{F(this,it).isStale||this.updateResult()},n))},Ed=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,ye)):this.options.refetchInterval)??!1},Pd=function(s){me(this,_e,Md).call(this),te(this,er,s),!(an||Ft(this.options.enabled,F(this,ye))===!1||!wd(F(this,er))||F(this,er)===0)&&te(this,Zr,Ir.setInterval(()=>{(this.options.refetchIntervalInBackground||dh.isFocused())&&me(this,_e,Oa).call(this)},F(this,er)))},Ad=function(){me(this,_e,Cd).call(this),me(this,_e,Pd).call(this,me(this,_e,Ed).call(this))},Rd=function(){F(this,Qr)&&(Ir.clearTimeout(F(this,Qr)),te(this,Qr,void 0))},Md=function(){F(this,Zr)&&(Ir.clearInterval(F(this,Zr)),te(this,Zr,void 0))},Td=function(){const s=F(this,xt).getQueryCache().build(F(this,xt),this.options);if(s===F(this,ye))return;const r=F(this,ye);te(this,ye,s),te(this,wi,s.state),this.hasListeners()&&(r==null||r.removeObserver(this),s.addObserver(this))},Wf=function(s){Ve.batch(()=>{s.listeners&&this.listeners.forEach(r=>{r(F(this,it))}),F(this,xt).getQueryCache().notify({query:F(this,ye),type:"observerResultsUpdated"})})},lx);function U2(e,s){return Ft(s.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&s.retryOnMount===!1)}function Gm(e,s){return U2(e,s)||e.state.data!==void 0&&Ld(e,s,s.refetchOnMount)}function Ld(e,s,r){if(Ft(s.enabled,e)!==!1&&br(s.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&uh(e,s)}return!1}function Ym(e,s,r,n){return(e!==s||Ft(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&uh(e,r)}function uh(e,s){return Ft(s.enabled,e)!==!1&&e.isStaleByTime(br(s.staleTime,e))}function V2(e,s){return!Jl(e.getCurrentResult(),s)}function Jm(e){return{onFetch:(s,r)=>{var m,f,x,j,y;const n=s.options,a=(x=(f=(m=s.fetchOptions)==null?void 0:m.meta)==null?void 0:f.fetchMore)==null?void 0:x.direction,i=((j=s.state.data)==null?void 0:j.pages)||[],l=((y=s.state.data)==null?void 0:y.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let b=!1;const w=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(s.signal.aborted?b=!0:s.signal.addEventListener("abort",()=>{b=!0}),s.signal)})},g=qf(s.options,s.fetchOptions),h=async(p,k,E)=>{if(b)return Promise.reject();if(k==null&&p.pages.length)return Promise.resolve(p);const _=(()=>{const D={client:s.client,queryKey:s.queryKey,pageParam:k,direction:E?"backward":"forward",meta:s.options.meta};return w(D),D})(),L=await g(_),{maxPages:T}=s.options,q=E?F2:L2;return{pages:q(p.pages,L,T),pageParams:q(p.pageParams,k,T)}};if(a&&i.length){const p=a==="backward",k=p?H2:Xm,E={pages:i,pageParams:l},I=k(n,E);o=await h(E,I,p)}else{const p=e??i.length;do{const k=c===0?l[0]??n.initialPageParam:Xm(n,o);if(c>0&&k==null)break;o=await h(o,k),c++}while(c<p)}return o};s.options.persister?s.fetchFn=()=>{var b,w;return(w=(b=s.options).persister)==null?void 0:w.call(b,d,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},r)}:s.fetchFn=d}}}function Xm(e,{pages:s,pageParams:r}){const n=s.length-1;return s.length>0?e.getNextPageParam(s[n],s,r[n],r):void 0}function H2(e,{pages:s,pageParams:r}){var n;return s.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,s[0],s,r[0],r):void 0}var _i,cs,lt,Kr,ds,Ds,ox,W2=(ox=class extends Vf{constructor(s){super();oe(this,ds);oe(this,_i);oe(this,cs);oe(this,lt);oe(this,Kr);te(this,_i,s.client),this.mutationId=s.mutationId,te(this,lt,s.mutationCache),te(this,cs,[]),this.state=s.state||Qf(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){F(this,cs).includes(s)||(F(this,cs).push(s),this.clearGcTimeout(),F(this,lt).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){te(this,cs,F(this,cs).filter(r=>r!==s)),this.scheduleGc(),F(this,lt).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){F(this,cs).length||(this.state.status==="pending"?this.scheduleGc():F(this,lt).remove(this))}continue(){var s;return((s=F(this,Kr))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var l,o,c,d,m,f,x,j,y,b,w,g,h,p,k,E,I,_,L,T;const r=()=>{me(this,ds,Ds).call(this,{type:"continue"})},n={client:F(this,_i),meta:this.options.meta,mutationKey:this.options.mutationKey};te(this,Kr,Uf({fn:()=>this.options.mutationFn?this.options.mutationFn(s,n):Promise.reject(new Error("No mutationFn found")),onFail:(q,D)=>{me(this,ds,Ds).call(this,{type:"failed",failureCount:q,error:D})},onPause:()=>{me(this,ds,Ds).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,lt).canRun(this)}));const a=this.state.status==="pending",i=!F(this,Kr).canStart();try{if(a)r();else{me(this,ds,Ds).call(this,{type:"pending",variables:s,isPaused:i}),await((o=(l=F(this,lt).config).onMutate)==null?void 0:o.call(l,s,this,n));const D=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,s,n));D!==this.state.context&&me(this,ds,Ds).call(this,{type:"pending",context:D,variables:s,isPaused:i})}const q=await F(this,Kr).start();return await((f=(m=F(this,lt).config).onSuccess)==null?void 0:f.call(m,q,s,this.state.context,this,n)),await((j=(x=this.options).onSuccess)==null?void 0:j.call(x,q,s,this.state.context,n)),await((b=(y=F(this,lt).config).onSettled)==null?void 0:b.call(y,q,null,this.state.variables,this.state.context,this,n)),await((g=(w=this.options).onSettled)==null?void 0:g.call(w,q,null,s,this.state.context,n)),me(this,ds,Ds).call(this,{type:"success",data:q}),q}catch(q){try{throw await((p=(h=F(this,lt).config).onError)==null?void 0:p.call(h,q,s,this.state.context,this,n)),await((E=(k=this.options).onError)==null?void 0:E.call(k,q,s,this.state.context,n)),await((_=(I=F(this,lt).config).onSettled)==null?void 0:_.call(I,void 0,q,this.state.variables,this.state.context,this,n)),await((T=(L=this.options).onSettled)==null?void 0:T.call(L,void 0,q,s,this.state.context,n)),q}finally{me(this,ds,Ds).call(this,{type:"error",error:q})}}finally{F(this,lt).runNext(this)}}},_i=new WeakMap,cs=new WeakMap,lt=new WeakMap,Kr=new WeakMap,ds=new WeakSet,Ds=function(s){const r=n=>{switch(s.type){case"failed":return{...n,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...n,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:s.error,failureCount:n.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ve.batch(()=>{F(this,cs).forEach(n=>{n.onMutationUpdate(s)}),F(this,lt).notify({mutation:this,type:"updated",action:s})})},ox);function Qf(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ks,Kt,ki,cx,Q2=(cx=class extends ga{constructor(s={}){super();oe(this,ks);oe(this,Kt);oe(this,ki);this.config=s,te(this,ks,new Set),te(this,Kt,new Map),te(this,ki,0)}build(s,r,n){const a=new W2({client:s,mutationCache:this,mutationId:++Oi(this,ki)._,options:s.defaultMutationOptions(r),state:n});return this.add(a),a}add(s){F(this,ks).add(s);const r=el(s);if(typeof r=="string"){const n=F(this,Kt).get(r);n?n.push(s):F(this,Kt).set(r,[s])}this.notify({type:"added",mutation:s})}remove(s){if(F(this,ks).delete(s)){const r=el(s);if(typeof r=="string"){const n=F(this,Kt).get(r);if(n)if(n.length>1){const a=n.indexOf(s);a!==-1&&n.splice(a,1)}else n[0]===s&&F(this,Kt).delete(r)}}this.notify({type:"removed",mutation:s})}canRun(s){const r=el(s);if(typeof r=="string"){const n=F(this,Kt).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===s}else return!0}runNext(s){var n;const r=el(s);if(typeof r=="string"){const a=(n=F(this,Kt).get(r))==null?void 0:n.find(i=>i!==s&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ve.batch(()=>{F(this,ks).forEach(s=>{this.notify({type:"removed",mutation:s})}),F(this,ks).clear(),F(this,Kt).clear()})}getAll(){return Array.from(F(this,ks))}find(s){const r={exact:!0,...s};return this.getAll().find(n=>Wm(r,n))}findAll(s={}){return this.getAll().filter(r=>Wm(s,r))}notify(s){Ve.batch(()=>{this.listeners.forEach(r=>{r(s)})})}resumePausedMutations(){const s=this.getAll().filter(r=>r.state.isPaused);return Ve.batch(()=>Promise.all(s.map(r=>r.continue().catch(ct))))}},ks=new WeakMap,Kt=new WeakMap,ki=new WeakMap,cx);function el(e){var s;return(s=e.options.scope)==null?void 0:s.id}var Ss,tr,pt,Cs,Ts,gl,Fd,dx,Z2=(dx=class extends ga{constructor(r,n){super();oe(this,Ts);oe(this,Ss);oe(this,tr);oe(this,pt);oe(this,Cs);te(this,Ss,r),this.setOptions(n),this.bindMethods(),me(this,Ts,gl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=F(this,Ss).defaultMutationOptions(r),Jl(this.options,n)||F(this,Ss).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,pt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&ln(n.mutationKey)!==ln(this.options.mutationKey)?this.reset():((a=F(this,pt))==null?void 0:a.state.status)==="pending"&&F(this,pt).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=F(this,pt))==null||r.removeObserver(this)}onMutationUpdate(r){me(this,Ts,gl).call(this),me(this,Ts,Fd).call(this,r)}getCurrentResult(){return F(this,tr)}reset(){var r;(r=F(this,pt))==null||r.removeObserver(this),te(this,pt,void 0),me(this,Ts,gl).call(this),me(this,Ts,Fd).call(this)}mutate(r,n){var a;return te(this,Cs,n),(a=F(this,pt))==null||a.removeObserver(this),te(this,pt,F(this,Ss).getMutationCache().build(F(this,Ss),this.options)),F(this,pt).addObserver(this),F(this,pt).execute(r)}},Ss=new WeakMap,tr=new WeakMap,pt=new WeakMap,Cs=new WeakMap,Ts=new WeakSet,gl=function(){var n;const r=((n=F(this,pt))==null?void 0:n.state)??Qf();te(this,tr,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Fd=function(r){Ve.batch(()=>{var n,a,i,l,o,c,d,m;if(F(this,Cs)&&this.hasListeners()){const f=F(this,tr).variables,x=F(this,tr).context,j={client:F(this,Ss),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((a=(n=F(this,Cs)).onSuccess)==null||a.call(n,r.data,f,x,j),(l=(i=F(this,Cs)).onSettled)==null||l.call(i,r.data,null,f,x,j)):(r==null?void 0:r.type)==="error"&&((c=(o=F(this,Cs)).onError)==null||c.call(o,r.error,f,x,j),(m=(d=F(this,Cs)).onSettled)==null||m.call(d,void 0,r.error,f,x,j))}this.listeners.forEach(f=>{f(F(this,tr))})})},dx),us,ux,K2=(ux=class extends ga{constructor(s={}){super();oe(this,us);this.config=s,te(this,us,new Map)}build(s,r,n){const a=r.queryKey,i=r.queryHash??oh(a,r);let l=this.get(i);return l||(l=new z2({client:s,queryKey:a,queryHash:i,options:s.defaultQueryOptions(r),state:n,defaultOptions:s.getQueryDefaults(a)}),this.add(l)),l}add(s){F(this,us).has(s.queryHash)||(F(this,us).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const r=F(this,us).get(s.queryHash);r&&(s.destroy(),r===s&&F(this,us).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){Ve.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return F(this,us).get(s)}getAll(){return[...F(this,us).values()]}find(s){const r={exact:!0,...s};return this.getAll().find(n=>Hm(r,n))}findAll(s={}){const r=this.getAll();return Object.keys(s).length>0?r.filter(n=>Hm(s,n)):r}notify(s){Ve.batch(()=>{this.listeners.forEach(r=>{r(s)})})}onFocus(){Ve.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){Ve.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},us=new WeakMap,ux),Fe,sr,rr,Hn,Wn,nr,Qn,Zn,hx,G2=(hx=class{constructor(e={}){oe(this,Fe);oe(this,sr);oe(this,rr);oe(this,Hn);oe(this,Wn);oe(this,nr);oe(this,Qn);oe(this,Zn);te(this,Fe,e.queryCache||new K2),te(this,sr,e.mutationCache||new Q2),te(this,rr,e.defaultOptions||{}),te(this,Hn,new Map),te(this,Wn,new Map),te(this,nr,0)}mount(){Oi(this,nr)._++,F(this,nr)===1&&(te(this,Qn,dh.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,Fe).onFocus())})),te(this,Zn,Xl.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,Fe).onOnline())})))}unmount(){var e,s;Oi(this,nr)._--,F(this,nr)===0&&((e=F(this,Qn))==null||e.call(this),te(this,Qn,void 0),(s=F(this,Zn))==null||s.call(this),te(this,Zn,void 0))}isFetching(e){return F(this,Fe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return F(this,sr).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const s=this.defaultQueryOptions({queryKey:e});return(r=F(this,Fe).get(s.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const s=this.defaultQueryOptions(e),r=F(this,Fe).build(this,s),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(br(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(n))}getQueriesData(e){return F(this,Fe).findAll(e).map(({queryKey:s,state:r})=>{const n=r.data;return[s,n]})}setQueryData(e,s,r){const n=this.defaultQueryOptions({queryKey:e}),a=F(this,Fe).get(n.queryHash),i=a==null?void 0:a.state.data,l=R2(s,i);if(l!==void 0)return F(this,Fe).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,s,r){return Ve.batch(()=>F(this,Fe).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,s,r)]))}getQueryState(e){var r;const s=this.defaultQueryOptions({queryKey:e});return(r=F(this,Fe).get(s.queryHash))==null?void 0:r.state}removeQueries(e){const s=F(this,Fe);Ve.batch(()=>{s.findAll(e).forEach(r=>{s.remove(r)})})}resetQueries(e,s){const r=F(this,Fe);return Ve.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},s)))}cancelQueries(e,s={}){const r={revert:!0,...s},n=Ve.batch(()=>F(this,Fe).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(ct).catch(ct)}invalidateQueries(e,s={}){return Ve.batch(()=>(F(this,Fe).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},s)))}refetchQueries(e,s={}){const r={...s,cancelRefetch:s.cancelRefetch??!0},n=Ve.batch(()=>F(this,Fe).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(ct)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(ct)}fetchQuery(e){const s=this.defaultQueryOptions(e);s.retry===void 0&&(s.retry=!1);const r=F(this,Fe).build(this,s);return r.isStaleByTime(br(s.staleTime,r))?r.fetch(s):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ct).catch(ct)}fetchInfiniteQuery(e){return e.behavior=Jm(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ct).catch(ct)}ensureInfiniteQueryData(e){return e.behavior=Jm(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Xl.isOnline()?F(this,sr).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,Fe)}getMutationCache(){return F(this,sr)}getDefaultOptions(){return F(this,rr)}setDefaultOptions(e){te(this,rr,e)}setQueryDefaults(e,s){F(this,Hn).set(ln(e),{queryKey:e,defaultOptions:s})}getQueryDefaults(e){const s=[...F(this,Hn).values()],r={};return s.forEach(n=>{fi(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,s){F(this,Wn).set(ln(e),{mutationKey:e,defaultOptions:s})}getMutationDefaults(e){const s=[...F(this,Wn).values()],r={};return s.forEach(n=>{fi(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const s={...F(this,rr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return s.queryHash||(s.queryHash=oh(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===ch&&(s.enabled=!1),s}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...F(this,rr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){F(this,Fe).clear(),F(this,sr).clear()}},Fe=new WeakMap,sr=new WeakMap,rr=new WeakMap,Hn=new WeakMap,Wn=new WeakMap,nr=new WeakMap,Qn=new WeakMap,Zn=new WeakMap,hx),Zf=u.createContext(void 0),Xe=e=>{const s=u.useContext(Zf);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},Y2=({client:e,children:s})=>(u.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),t.jsx(Zf.Provider,{value:e,children:s})),Kf=u.createContext(!1),J2=()=>u.useContext(Kf);Kf.Provider;function X2(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var e1=u.createContext(X2()),t1=()=>u.useContext(e1),s1=(e,s)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(s.isReset()||(e.retryOnMount=!1))},r1=e=>{u.useEffect(()=>{e.clearReset()},[e])},n1=({result:e,errorResetBoundary:s,throwOnError:r,query:n,suspense:a})=>e.isError&&!s.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||zf(r,[e.error,n])),a1=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},i1=(e,s)=>e.isLoading&&e.isFetching&&!s,l1=(e,s)=>(e==null?void 0:e.suspense)&&s.isPending,e0=(e,s,r)=>s.fetchOptimistic(e).catch(()=>{r.clearReset()});function o1(e,s,r){var f,x,j,y,b;const n=J2(),a=t1(),i=Xe(),l=i.defaultQueryOptions(e);(x=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||x.call(f,l),l._optimisticResults=n?"isRestoring":"optimistic",a1(l),s1(l,a),r1(a);const o=!i.getQueryCache().get(l.queryHash),[c]=u.useState(()=>new s(i,l)),d=c.getOptimisticResult(l),m=!n&&e.subscribed!==!1;if(u.useSyncExternalStore(u.useCallback(w=>{const g=m?c.subscribe(Ve.batchCalls(w)):ct;return c.updateResult(),g},[c,m]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),u.useEffect(()=>{c.setOptions(l)},[l,c]),l1(l,d))throw e0(l,c,a);if(n1({result:d,errorResetBoundary:a,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw d.error;if((y=(j=i.getDefaultOptions().queries)==null?void 0:j._experimental_afterQuery)==null||y.call(j,l,d),l.experimental_prefetchInRender&&!an&&i1(d,n)){const w=o?e0(l,c,a):(b=i.getQueryCache().get(l.queryHash))==null?void 0:b.promise;w==null||w.catch(ct).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?d:c.trackResult(d)}function ce(e,s){return o1(e,D2)}function xe(e,s){const r=Xe(),[n]=u.useState(()=>new Z2(r,e));u.useEffect(()=>{n.setOptions(e)},[n,e]);const a=u.useSyncExternalStore(u.useCallback(l=>n.subscribe(Ve.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=u.useCallback((l,o)=>{n.mutate(l,o).catch(ct)},[n]);if(a.error&&zf(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const t0=e=>{let s;const r=new Set,n=(d,m)=>{const f=typeof d=="function"?d(s):d;if(!Object.is(f,s)){const x=s;s=m??(typeof f!="object"||f===null)?f:Object.assign({},s,f),r.forEach(j=>j(s,x))}},a=()=>s,o={setState:n,getState:a,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d))},c=s=e(n,a,o);return o},c1=e=>e?t0(e):t0,d1=e=>e;function u1(e,s=d1){const r=gn.useSyncExternalStore(e.subscribe,gn.useCallback(()=>s(e.getState()),[e,s]),gn.useCallback(()=>s(e.getInitialState()),[e,s]));return gn.useDebugValue(r),r}const s0=e=>{const s=c1(e),r=n=>u1(s,n);return Object.assign(r,s),r},h1=e=>e?s0(e):s0;function m1(e,s){let r;try{r=e()}catch{return}return{getItem:a=>{var i;const l=c=>c===null?null:JSON.parse(c,void 0),o=(i=r.getItem(a))!=null?i:null;return o instanceof Promise?o.then(l):l(o)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>r.removeItem(a)}}const Od=e=>s=>{try{const r=e(s);return r instanceof Promise?r:{then(n){return Od(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Od(n)(r)}}}},x1=(e,s)=>(r,n,a)=>{let i={storage:m1(()=>localStorage),partialize:b=>b,version:0,merge:(b,w)=>({...w,...b}),...s},l=!1;const o=new Set,c=new Set;let d=i.storage;if(!d)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...b)},n,a);const m=()=>{const b=i.partialize({...n()});return d.setItem(i.name,{state:b,version:i.version})},f=a.setState;a.setState=(b,w)=>(f(b,w),m());const x=e((...b)=>(r(...b),m()),n,a);a.getInitialState=()=>x;let j;const y=()=>{var b,w;if(!d)return;l=!1,o.forEach(h=>{var p;return h((p=n())!=null?p:x)});const g=((w=i.onRehydrateStorage)==null?void 0:w.call(i,(b=n())!=null?b:x))||void 0;return Od(d.getItem.bind(d))(i.name).then(h=>{if(h)if(typeof h.version=="number"&&h.version!==i.version){if(i.migrate){const p=i.migrate(h.state,h.version);return p instanceof Promise?p.then(k=>[!0,k]):[!0,p]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,h.state];return[!1,void 0]}).then(h=>{var p;const[k,E]=h;if(j=i.merge(E,(p=n())!=null?p:x),r(j,!0),k)return m()}).then(()=>{g==null||g(j,void 0),j=n(),l=!0,c.forEach(h=>h(j))}).catch(h=>{g==null||g(void 0,h)})};return a.persist={setOptions:b=>{i={...i,...b},b.storage&&(d=b.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>l,onHydrate:b=>(o.add(b),()=>{o.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},i.skipHydration||y(),j||x},p1=x1;function Gf(e,s){return function(){return e.apply(s,arguments)}}const{toString:f1}=Object.prototype,{getPrototypeOf:hh}=Object,{iterator:Ro,toStringTag:Yf}=Symbol,Mo=(e=>s=>{const r=f1.call(s);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ns=e=>(e=e.toLowerCase(),s=>Mo(s)===e),To=e=>s=>typeof s===e,{isArray:ya}=Array,sa=To("undefined");function Ri(e){return e!==null&&!sa(e)&&e.constructor!==null&&!sa(e.constructor)&&wt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Jf=ns("ArrayBuffer");function g1(e){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(e):s=e&&e.buffer&&Jf(e.buffer),s}const y1=To("string"),wt=To("function"),Xf=To("number"),Mi=e=>e!==null&&typeof e=="object",b1=e=>e===!0||e===!1,yl=e=>{if(Mo(e)!=="object")return!1;const s=hh(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Yf in e)&&!(Ro in e)},v1=e=>{if(!Mi(e)||Ri(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},j1=ns("Date"),w1=ns("File"),N1=ns("Blob"),_1=ns("FileList"),k1=e=>Mi(e)&&wt(e.pipe),S1=e=>{let s;return e&&(typeof FormData=="function"&&e instanceof FormData||wt(e.append)&&((s=Mo(e))==="formdata"||s==="object"&&wt(e.toString)&&e.toString()==="[object FormData]"))},C1=ns("URLSearchParams"),[E1,P1,A1,R1]=["ReadableStream","Request","Response","Headers"].map(ns),M1=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ti(e,s,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),ya(e))for(n=0,a=e.length;n<a;n++)s.call(null,e[n],n,e);else{if(Ri(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let o;for(n=0;n<l;n++)o=i[n],s.call(null,e[o],o,e)}}function eg(e,s){if(Ri(e))return null;s=s.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],s===a.toLowerCase())return a;return null}const qr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,tg=e=>!sa(e)&&e!==qr;function $d(){const{caseless:e,skipUndefined:s}=tg(this)&&this||{},r={},n=(a,i)=>{const l=e&&eg(r,i)||i;yl(r[l])&&yl(a)?r[l]=$d(r[l],a):yl(a)?r[l]=$d({},a):ya(a)?r[l]=a.slice():(!s||!sa(a))&&(r[l]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Ti(arguments[a],n);return r}const T1=(e,s,r,{allOwnKeys:n}={})=>(Ti(s,(a,i)=>{r&&wt(a)?e[i]=Gf(a,r):e[i]=a},{allOwnKeys:n}),e),L1=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),F1=(e,s,r,n)=>{e.prototype=Object.create(s.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:s.prototype}),r&&Object.assign(e.prototype,r)},O1=(e,s,r,n)=>{let a,i,l;const o={};if(s=s||{},e==null)return s;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)l=a[i],(!n||n(l,e,s))&&!o[l]&&(s[l]=e[l],o[l]=!0);e=r!==!1&&hh(e)}while(e&&(!r||r(e,s))&&e!==Object.prototype);return s},$1=(e,s,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=s.length;const n=e.indexOf(s,r);return n!==-1&&n===r},B1=e=>{if(!e)return null;if(ya(e))return e;let s=e.length;if(!Xf(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=e[s];return r},I1=(e=>s=>e&&s instanceof e)(typeof Uint8Array<"u"&&hh(Uint8Array)),q1=(e,s)=>{const n=(e&&e[Ro]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;s.call(e,i[0],i[1])}},z1=(e,s)=>{let r;const n=[];for(;(r=e.exec(s))!==null;)n.push(r);return n},D1=ns("HTMLFormElement"),U1=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),r0=(({hasOwnProperty:e})=>(s,r)=>e.call(s,r))(Object.prototype),V1=ns("RegExp"),sg=(e,s)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Ti(r,(a,i)=>{let l;(l=s(a,i,e))!==!1&&(n[i]=l||a)}),Object.defineProperties(e,n)},H1=e=>{sg(e,(s,r)=>{if(wt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(wt(n)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},W1=(e,s)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return ya(e)?n(e):n(String(e).split(s)),r},Q1=()=>{},Z1=(e,s)=>e!=null&&Number.isFinite(e=+e)?e:s;function K1(e){return!!(e&&wt(e.append)&&e[Yf]==="FormData"&&e[Ro])}const G1=e=>{const s=new Array(10),r=(n,a)=>{if(Mi(n)){if(s.indexOf(n)>=0)return;if(Ri(n))return n;if(!("toJSON"in n)){s[a]=n;const i=ya(n)?[]:{};return Ti(n,(l,o)=>{const c=r(l,a+1);!sa(c)&&(i[o]=c)}),s[a]=void 0,i}}return n};return r(e,0)},Y1=ns("AsyncFunction"),J1=e=>e&&(Mi(e)||wt(e))&&wt(e.then)&&wt(e.catch),rg=((e,s)=>e?setImmediate:s?((r,n)=>(qr.addEventListener("message",({source:a,data:i})=>{a===qr&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),qr.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",wt(qr.postMessage)),X1=typeof queueMicrotask<"u"?queueMicrotask.bind(qr):typeof process<"u"&&process.nextTick||rg,ej=e=>e!=null&&wt(e[Ro]),V={isArray:ya,isArrayBuffer:Jf,isBuffer:Ri,isFormData:S1,isArrayBufferView:g1,isString:y1,isNumber:Xf,isBoolean:b1,isObject:Mi,isPlainObject:yl,isEmptyObject:v1,isReadableStream:E1,isRequest:P1,isResponse:A1,isHeaders:R1,isUndefined:sa,isDate:j1,isFile:w1,isBlob:N1,isRegExp:V1,isFunction:wt,isStream:k1,isURLSearchParams:C1,isTypedArray:I1,isFileList:_1,forEach:Ti,merge:$d,extend:T1,trim:M1,stripBOM:L1,inherits:F1,toFlatObject:O1,kindOf:Mo,kindOfTest:ns,endsWith:$1,toArray:B1,forEachEntry:q1,matchAll:z1,isHTMLForm:D1,hasOwnProperty:r0,hasOwnProp:r0,reduceDescriptors:sg,freezeMethods:H1,toObjectSet:W1,toCamelCase:U1,noop:Q1,toFiniteNumber:Z1,findKey:eg,global:qr,isContextDefined:tg,isSpecCompliantForm:K1,toJSONObject:G1,isAsyncFn:Y1,isThenable:J1,setImmediate:rg,asap:X1,isIterable:ej};function he(e,s,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}V.inherits(he,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const ng=he.prototype,ag={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ag[e]={value:e}});Object.defineProperties(he,ag);Object.defineProperty(ng,"isAxiosError",{value:!0});he.from=(e,s,r,n,a,i)=>{const l=Object.create(ng);V.toFlatObject(e,l,function(m){return m!==Error.prototype},d=>d!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=s==null&&e?e.code:s;return he.call(l,o,c,r,n,a),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const tj=null;function Bd(e){return V.isPlainObject(e)||V.isArray(e)}function ig(e){return V.endsWith(e,"[]")?e.slice(0,-2):e}function n0(e,s,r){return e?e.concat(s).map(function(a,i){return a=ig(a),!r&&i?"["+a+"]":a}).join(r?".":""):s}function sj(e){return V.isArray(e)&&!e.some(Bd)}const rj=V.toFlatObject(V,{},null,function(s){return/^is[A-Z]/.test(s)});function Lo(e,s,r){if(!V.isObject(e))throw new TypeError("target must be an object");s=s||new FormData,r=V.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,w){return!V.isUndefined(w[b])});const n=r.metaTokens,a=r.visitor||m,i=r.dots,l=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(s);if(!V.isFunction(a))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(V.isDate(y))return y.toISOString();if(V.isBoolean(y))return y.toString();if(!c&&V.isBlob(y))throw new he("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(y)||V.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function m(y,b,w){let g=y;if(y&&!w&&typeof y=="object"){if(V.endsWith(b,"{}"))b=n?b:b.slice(0,-2),y=JSON.stringify(y);else if(V.isArray(y)&&sj(y)||(V.isFileList(y)||V.endsWith(b,"[]"))&&(g=V.toArray(y)))return b=ig(b),g.forEach(function(p,k){!(V.isUndefined(p)||p===null)&&s.append(l===!0?n0([b],k,i):l===null?b:b+"[]",d(p))}),!1}return Bd(y)?!0:(s.append(n0(w,b,i),d(y)),!1)}const f=[],x=Object.assign(rj,{defaultVisitor:m,convertValue:d,isVisitable:Bd});function j(y,b){if(!V.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(y),V.forEach(y,function(g,h){(!(V.isUndefined(g)||g===null)&&a.call(s,g,V.isString(h)?h.trim():h,b,x))===!0&&j(g,b?b.concat(h):[h])}),f.pop()}}if(!V.isObject(e))throw new TypeError("data must be an object");return j(e),s}function a0(e){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return s[n]})}function mh(e,s){this._pairs=[],e&&Lo(e,this,s)}const lg=mh.prototype;lg.append=function(s,r){this._pairs.push([s,r])};lg.toString=function(s){const r=s?function(n){return s.call(this,n,a0)}:a0;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function nj(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function og(e,s,r){if(!s)return e;const n=r&&r.encode||nj;V.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(s,r):i=V.isURLSearchParams(s)?s.toString():new mh(s,r).toString(n),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class i0{constructor(){this.handlers=[]}use(s,r,n){return this.handlers.push({fulfilled:s,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){V.forEach(this.handlers,function(n){n!==null&&s(n)})}}const cg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aj=typeof URLSearchParams<"u"?URLSearchParams:mh,ij=typeof FormData<"u"?FormData:null,lj=typeof Blob<"u"?Blob:null,oj={isBrowser:!0,classes:{URLSearchParams:aj,FormData:ij,Blob:lj},protocols:["http","https","file","blob","url","data"]},xh=typeof window<"u"&&typeof document<"u",Id=typeof navigator=="object"&&navigator||void 0,cj=xh&&(!Id||["ReactNative","NativeScript","NS"].indexOf(Id.product)<0),dj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",uj=xh&&window.location.href||"http://localhost",hj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xh,hasStandardBrowserEnv:cj,hasStandardBrowserWebWorkerEnv:dj,navigator:Id,origin:uj},Symbol.toStringTag,{value:"Module"})),rt={...hj,...oj};function mj(e,s){return Lo(e,new rt.classes.URLSearchParams,{visitor:function(r,n,a,i){return rt.isNode&&V.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...s})}function xj(e){return V.matchAll(/\w+|\[(\w*)]/g,e).map(s=>s[0]==="[]"?"":s[1]||s[0])}function pj(e){const s={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],s[i]=e[i];return s}function dg(e){function s(r,n,a,i){let l=r[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=r.length;return l=!l&&V.isArray(a)?a.length:l,c?(V.hasOwnProp(a,l)?a[l]=[a[l],n]:a[l]=n,!o):((!a[l]||!V.isObject(a[l]))&&(a[l]=[]),s(r,n,a[l],i)&&V.isArray(a[l])&&(a[l]=pj(a[l])),!o)}if(V.isFormData(e)&&V.isFunction(e.entries)){const r={};return V.forEachEntry(e,(n,a)=>{s(xj(n),a,r,0)}),r}return null}function fj(e,s,r){if(V.isString(e))try{return(s||JSON.parse)(e),V.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Li={transitional:cg,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=V.isObject(s);if(i&&V.isHTMLForm(s)&&(s=new FormData(s)),V.isFormData(s))return a?JSON.stringify(dg(s)):s;if(V.isArrayBuffer(s)||V.isBuffer(s)||V.isStream(s)||V.isFile(s)||V.isBlob(s)||V.isReadableStream(s))return s;if(V.isArrayBufferView(s))return s.buffer;if(V.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return mj(s,this.formSerializer).toString();if((o=V.isFileList(s))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Lo(o?{"files[]":s}:s,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),fj(s)):s}],transformResponse:[function(s){const r=this.transitional||Li.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(V.isResponse(s)||V.isReadableStream(s))return s;if(s&&V.isString(s)&&(n&&!this.responseType||a)){const l=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(s,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?he.from(o,he.ERR_BAD_RESPONSE,this,null,this.response):o}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rt.classes.FormData,Blob:rt.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],e=>{Li.headers[e]={}});const gj=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yj=e=>{const s={};let r,n,a;return e&&e.split(`
`).forEach(function(l){a=l.indexOf(":"),r=l.substring(0,a).trim().toLowerCase(),n=l.substring(a+1).trim(),!(!r||s[r]&&gj[r])&&(r==="set-cookie"?s[r]?s[r].push(n):s[r]=[n]:s[r]=s[r]?s[r]+", "+n:n)}),s},l0=Symbol("internals");function Pa(e){return e&&String(e).trim().toLowerCase()}function bl(e){return e===!1||e==null?e:V.isArray(e)?e.map(bl):String(e)}function bj(e){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)s[n[1]]=n[2];return s}const vj=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function pc(e,s,r,n,a){if(V.isFunction(n))return n.call(this,s,r);if(a&&(s=r),!!V.isString(s)){if(V.isString(n))return s.indexOf(n)!==-1;if(V.isRegExp(n))return n.test(s)}}function jj(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,n)=>r.toUpperCase()+n)}function wj(e,s){const r=V.toCamelCase(" "+s);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,l){return this[n].call(this,s,a,i,l)},configurable:!0})})}let Nt=class{constructor(s){s&&this.set(s)}set(s,r,n){const a=this;function i(o,c,d){const m=Pa(c);if(!m)throw new Error("header name must be a non-empty string");const f=V.findKey(a,m);(!f||a[f]===void 0||d===!0||d===void 0&&a[f]!==!1)&&(a[f||c]=bl(o))}const l=(o,c)=>V.forEach(o,(d,m)=>i(d,m,c));if(V.isPlainObject(s)||s instanceof this.constructor)l(s,r);else if(V.isString(s)&&(s=s.trim())&&!vj(s))l(yj(s),r);else if(V.isObject(s)&&V.isIterable(s)){let o={},c,d;for(const m of s){if(!V.isArray(m))throw TypeError("Object iterator must return a key-value pair");o[d=m[0]]=(c=o[d])?V.isArray(c)?[...c,m[1]]:[c,m[1]]:m[1]}l(o,r)}else s!=null&&i(r,s,n);return this}get(s,r){if(s=Pa(s),s){const n=V.findKey(this,s);if(n){const a=this[n];if(!r)return a;if(r===!0)return bj(a);if(V.isFunction(r))return r.call(this,a,n);if(V.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=Pa(s),s){const n=V.findKey(this,s);return!!(n&&this[n]!==void 0&&(!r||pc(this,this[n],n,r)))}return!1}delete(s,r){const n=this;let a=!1;function i(l){if(l=Pa(l),l){const o=V.findKey(n,l);o&&(!r||pc(n,n[o],o,r))&&(delete n[o],a=!0)}}return V.isArray(s)?s.forEach(i):i(s),a}clear(s){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!s||pc(this,this[i],i,s,!0))&&(delete this[i],a=!0)}return a}normalize(s){const r=this,n={};return V.forEach(this,(a,i)=>{const l=V.findKey(n,i);if(l){r[l]=bl(a),delete r[i];return}const o=s?jj(i):String(i).trim();o!==i&&delete r[i],r[o]=bl(a),n[o]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return V.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=s&&V.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const n=new this(s);return r.forEach(a=>n.set(a)),n}static accessor(s){const n=(this[l0]=this[l0]={accessors:{}}).accessors,a=this.prototype;function i(l){const o=Pa(l);n[o]||(wj(a,l),n[o]=!0)}return V.isArray(s)?s.forEach(i):i(s),this}};Nt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(Nt.prototype,({value:e},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>e,set(n){this[r]=n}}});V.freezeMethods(Nt);function fc(e,s){const r=this||Li,n=s||r,a=Nt.from(n.headers);let i=n.data;return V.forEach(e,function(o){i=o.call(r,i,a.normalize(),s?s.status:void 0)}),a.normalize(),i}function ug(e){return!!(e&&e.__CANCEL__)}function ba(e,s,r){he.call(this,e??"canceled",he.ERR_CANCELED,s,r),this.name="CanceledError"}V.inherits(ba,he,{__CANCEL__:!0});function hg(e,s,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):s(new he("Request failed with status code "+r.status,[he.ERR_BAD_REQUEST,he.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Nj(e){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return s&&s[1]||""}function _j(e,s){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,l;return s=s!==void 0?s:1e3,function(c){const d=Date.now(),m=n[i];l||(l=d),r[a]=c,n[a]=d;let f=i,x=0;for(;f!==a;)x+=r[f++],f=f%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-l<s)return;const j=m&&d-m;return j?Math.round(x*1e3/j):void 0}}function kj(e,s){let r=0,n=1e3/s,a,i;const l=(d,m=Date.now())=>{r=m,a=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const m=Date.now(),f=m-r;f>=n?l(d,m):(a=d,i||(i=setTimeout(()=>{i=null,l(a)},n-f)))},()=>a&&l(a)]}const eo=(e,s,r=3)=>{let n=0;const a=_j(50,250);return kj(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-n,d=a(c),m=l<=o;n=l;const f={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&m?(o-l)/d:void 0,event:i,lengthComputable:o!=null,[s?"download":"upload"]:!0};e(f)},r)},o0=(e,s)=>{const r=e!=null;return[n=>s[0]({lengthComputable:r,total:e,loaded:n}),s[1]]},c0=e=>(...s)=>V.asap(()=>e(...s)),Sj=rt.hasStandardBrowserEnv?((e,s)=>r=>(r=new URL(r,rt.origin),e.protocol===r.protocol&&e.host===r.host&&(s||e.port===r.port)))(new URL(rt.origin),rt.navigator&&/(msie|trident)/i.test(rt.navigator.userAgent)):()=>!0,Cj=rt.hasStandardBrowserEnv?{write(e,s,r,n,a,i){const l=[e+"="+encodeURIComponent(s)];V.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),V.isString(n)&&l.push("path="+n),V.isString(a)&&l.push("domain="+a),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const s=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ej(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Pj(e,s){return s?e.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):e}function mg(e,s,r){let n=!Ej(s);return e&&(n||r==!1)?Pj(e,s):s}const d0=e=>e instanceof Nt?{...e}:e;function on(e,s){s=s||{};const r={};function n(d,m,f,x){return V.isPlainObject(d)&&V.isPlainObject(m)?V.merge.call({caseless:x},d,m):V.isPlainObject(m)?V.merge({},m):V.isArray(m)?m.slice():m}function a(d,m,f,x){if(V.isUndefined(m)){if(!V.isUndefined(d))return n(void 0,d,f,x)}else return n(d,m,f,x)}function i(d,m){if(!V.isUndefined(m))return n(void 0,m)}function l(d,m){if(V.isUndefined(m)){if(!V.isUndefined(d))return n(void 0,d)}else return n(void 0,m)}function o(d,m,f){if(f in s)return n(d,m);if(f in e)return n(void 0,d)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(d,m,f)=>a(d0(d),d0(m),f,!0)};return V.forEach(Object.keys({...e,...s}),function(m){const f=c[m]||a,x=f(e[m],s[m],m);V.isUndefined(x)&&f!==o||(r[m]=x)}),r}const xg=e=>{const s=on({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:l,auth:o}=s;if(s.headers=l=Nt.from(l),s.url=og(mg(s.baseURL,s.url,s.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),V.isFormData(r)){if(rt.hasStandardBrowserEnv||rt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(V.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([m,f])=>{d.includes(m.toLowerCase())&&l.set(m,f)})}}if(rt.hasStandardBrowserEnv&&(n&&V.isFunction(n)&&(n=n(s)),n||n!==!1&&Sj(s.url))){const c=a&&i&&Cj.read(i);c&&l.set(a,c)}return s},Aj=typeof XMLHttpRequest<"u",Rj=Aj&&function(e){return new Promise(function(r,n){const a=xg(e);let i=a.data;const l=Nt.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=a,m,f,x,j,y;function b(){j&&j(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(m),a.signal&&a.signal.removeEventListener("abort",m)}let w=new XMLHttpRequest;w.open(a.method.toUpperCase(),a.url,!0),w.timeout=a.timeout;function g(){if(!w)return;const p=Nt.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),E={data:!o||o==="text"||o==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:p,config:e,request:w};hg(function(_){r(_),b()},function(_){n(_),b()},E),w=null}"onloadend"in w?w.onloadend=g:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(g)},w.onabort=function(){w&&(n(new he("Request aborted",he.ECONNABORTED,e,w)),w=null)},w.onerror=function(k){const E=k&&k.message?k.message:"Network Error",I=new he(E,he.ERR_NETWORK,e,w);I.event=k||null,n(I),w=null},w.ontimeout=function(){let k=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const E=a.transitional||cg;a.timeoutErrorMessage&&(k=a.timeoutErrorMessage),n(new he(k,E.clarifyTimeoutError?he.ETIMEDOUT:he.ECONNABORTED,e,w)),w=null},i===void 0&&l.setContentType(null),"setRequestHeader"in w&&V.forEach(l.toJSON(),function(k,E){w.setRequestHeader(E,k)}),V.isUndefined(a.withCredentials)||(w.withCredentials=!!a.withCredentials),o&&o!=="json"&&(w.responseType=a.responseType),d&&([x,y]=eo(d,!0),w.addEventListener("progress",x)),c&&w.upload&&([f,j]=eo(c),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",j)),(a.cancelToken||a.signal)&&(m=p=>{w&&(n(!p||p.type?new ba(null,e,w):p),w.abort(),w=null)},a.cancelToken&&a.cancelToken.subscribe(m),a.signal&&(a.signal.aborted?m():a.signal.addEventListener("abort",m)));const h=Nj(a.url);if(h&&rt.protocols.indexOf(h)===-1){n(new he("Unsupported protocol "+h+":",he.ERR_BAD_REQUEST,e));return}w.send(i||null)})},Mj=(e,s)=>{const{length:r}=e=e?e.filter(Boolean):[];if(s||r){let n=new AbortController,a;const i=function(d){if(!a){a=!0,o();const m=d instanceof Error?d:this.reason;n.abort(m instanceof he?m:new ba(m instanceof Error?m.message:m))}};let l=s&&setTimeout(()=>{l=null,i(new he(`timeout ${s} of ms exceeded`,he.ETIMEDOUT))},s);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>V.asap(o),c}},Tj=function*(e,s){let r=e.byteLength;if(r<s){yield e;return}let n=0,a;for(;n<r;)a=n+s,yield e.slice(n,a),n=a},Lj=async function*(e,s){for await(const r of Fj(e))yield*Tj(r,s)},Fj=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const s=e.getReader();try{for(;;){const{done:r,value:n}=await s.read();if(r)break;yield n}}finally{await s.cancel()}},u0=(e,s,r,n)=>{const a=Lj(e,s);let i=0,l,o=c=>{l||(l=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:m}=await a.next();if(d){o(),c.close();return}let f=m.byteLength;if(r){let x=i+=f;r(x)}c.enqueue(new Uint8Array(m))}catch(d){throw o(d),d}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},h0=64*1024,{isFunction:tl}=V,Oj=(({Request:e,Response:s})=>({Request:e,Response:s}))(V.global),{ReadableStream:m0,TextEncoder:x0}=V.global,p0=(e,...s)=>{try{return!!e(...s)}catch{return!1}},$j=e=>{e=V.merge.call({skipUndefined:!0},Oj,e);const{fetch:s,Request:r,Response:n}=e,a=s?tl(s):typeof fetch=="function",i=tl(r),l=tl(n);if(!a)return!1;const o=a&&tl(m0),c=a&&(typeof x0=="function"?(y=>b=>y.encode(b))(new x0):async y=>new Uint8Array(await new r(y).arrayBuffer())),d=i&&o&&p0(()=>{let y=!1;const b=new r(rt.origin,{body:new m0,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!b}),m=l&&o&&p0(()=>V.isReadableStream(new n("").body)),f={stream:m&&(y=>y.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!f[y]&&(f[y]=(b,w)=>{let g=b&&b[y];if(g)return g.call(b);throw new he(`Response type '${y}' is not supported`,he.ERR_NOT_SUPPORT,w)})});const x=async y=>{if(y==null)return 0;if(V.isBlob(y))return y.size;if(V.isSpecCompliantForm(y))return(await new r(rt.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(V.isArrayBufferView(y)||V.isArrayBuffer(y))return y.byteLength;if(V.isURLSearchParams(y)&&(y=y+""),V.isString(y))return(await c(y)).byteLength},j=async(y,b)=>{const w=V.toFiniteNumber(y.getContentLength());return w??x(b)};return async y=>{let{url:b,method:w,data:g,signal:h,cancelToken:p,timeout:k,onDownloadProgress:E,onUploadProgress:I,responseType:_,headers:L,withCredentials:T="same-origin",fetchOptions:q}=xg(y),D=s||fetch;_=_?(_+"").toLowerCase():"text";let R=Mj([h,p&&p.toAbortSignal()],k),B=null;const G=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let U;try{if(I&&d&&w!=="get"&&w!=="head"&&(U=await j(L,g))!==0){let N=new r(b,{method:"POST",body:g,duplex:"half"}),A;if(V.isFormData(g)&&(A=N.headers.get("content-type"))&&L.setContentType(A),N.body){const[M,Q]=o0(U,eo(c0(I)));g=u0(N.body,h0,M,Q)}}V.isString(T)||(T=T?"include":"omit");const P=i&&"credentials"in r.prototype,C={...q,signal:R,method:w.toUpperCase(),headers:L.normalize().toJSON(),body:g,duplex:"half",credentials:P?T:void 0};B=i&&new r(b,C);let S=await(i?D(B,q):D(b,C));const z=m&&(_==="stream"||_==="response");if(m&&(E||z&&G)){const N={};["status","statusText","headers"].forEach(v=>{N[v]=S[v]});const A=V.toFiniteNumber(S.headers.get("content-length")),[M,Q]=E&&o0(A,eo(c0(E),!0))||[];S=new n(u0(S.body,h0,M,()=>{Q&&Q(),G&&G()}),N)}_=_||"text";let O=await f[V.findKey(f,_)||"text"](S,y);return!z&&G&&G(),await new Promise((N,A)=>{hg(N,A,{data:O,headers:Nt.from(S.headers),status:S.status,statusText:S.statusText,config:y,request:B})})}catch(P){throw G&&G(),P&&P.name==="TypeError"&&/Load failed|fetch/i.test(P.message)?Object.assign(new he("Network Error",he.ERR_NETWORK,y,B),{cause:P.cause||P}):he.from(P,P&&P.code,y,B)}}},Bj=new Map,pg=e=>{let s=e?e.env:{};const{fetch:r,Request:n,Response:a}=s,i=[n,a,r];let l=i.length,o=l,c,d,m=Bj;for(;o--;)c=i[o],d=m.get(c),d===void 0&&m.set(c,d=o?new Map:$j(s)),m=d;return d};pg();const qd={http:tj,xhr:Rj,fetch:{get:pg}};V.forEach(qd,(e,s)=>{if(e){try{Object.defineProperty(e,"name",{value:s})}catch{}Object.defineProperty(e,"adapterName",{value:s})}});const f0=e=>`- ${e}`,Ij=e=>V.isFunction(e)||e===null||e===!1,fg={getAdapter:(e,s)=>{e=V.isArray(e)?e:[e];const{length:r}=e;let n,a;const i={};for(let l=0;l<r;l++){n=e[l];let o;if(a=n,!Ij(n)&&(a=qd[(o=String(n)).toLowerCase()],a===void 0))throw new he(`Unknown adapter '${o}'`);if(a&&(V.isFunction(a)||(a=a.get(s))))break;i[o||"#"+l]=a}if(!a){const l=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=r?l.length>1?`since :
`+l.map(f0).join(`
`):" "+f0(l[0]):"as no adapter specified";throw new he("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:qd};function gc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ba(null,e)}function g0(e){return gc(e),e.headers=Nt.from(e.headers),e.data=fc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),fg.getAdapter(e.adapter||Li.adapter,e)(e).then(function(n){return gc(e),n.data=fc.call(e,e.transformResponse,n),n.headers=Nt.from(n.headers),n},function(n){return ug(n)||(gc(e),n&&n.response&&(n.response.data=fc.call(e,e.transformResponse,n.response),n.response.headers=Nt.from(n.response.headers))),Promise.reject(n)})}const gg="1.12.2",Fo={};["object","boolean","number","function","string","symbol"].forEach((e,s)=>{Fo[e]=function(n){return typeof n===e||"a"+(s<1?"n ":" ")+e}});const y0={};Fo.transitional=function(s,r,n){function a(i,l){return"[Axios v"+gg+"] Transitional option '"+i+"'"+l+(n?". "+n:"")}return(i,l,o)=>{if(s===!1)throw new he(a(l," has been removed"+(r?" in "+r:"")),he.ERR_DEPRECATED);return r&&!y0[l]&&(y0[l]=!0,console.warn(a(l," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(i,l,o):!0}};Fo.spelling=function(s){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${s}`),!0)};function qj(e,s,r){if(typeof e!="object")throw new he("options must be an object",he.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],l=s[i];if(l){const o=e[i],c=o===void 0||l(o,i,e);if(c!==!0)throw new he("option "+i+" must be "+c,he.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new he("Unknown option "+i,he.ERR_BAD_OPTION)}}const vl={assertOptions:qj,validators:Fo},ls=vl.validators;let Jr=class{constructor(s){this.defaults=s||{},this.interceptors={request:new i0,response:new i0}}async request(s,r){try{return await this._request(s,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=on(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&vl.assertOptions(n,{silentJSONParsing:ls.transitional(ls.boolean),forcedJSONParsing:ls.transitional(ls.boolean),clarifyTimeoutError:ls.transitional(ls.boolean)},!1),a!=null&&(V.isFunction(a)?r.paramsSerializer={serialize:a}:vl.assertOptions(a,{encode:ls.function,serialize:ls.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),vl.assertOptions(r,{baseUrl:ls.spelling("baseURL"),withXsrfToken:ls.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=i&&V.merge(i.common,i[r.method]);i&&V.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),r.headers=Nt.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(c=c&&b.synchronous,o.unshift(b.fulfilled,b.rejected))});const d=[];this.interceptors.response.forEach(function(b){d.push(b.fulfilled,b.rejected)});let m,f=0,x;if(!c){const y=[g0.bind(this),void 0];for(y.unshift(...o),y.push(...d),x=y.length,m=Promise.resolve(r);f<x;)m=m.then(y[f++],y[f++]);return m}x=o.length;let j=r;for(;f<x;){const y=o[f++],b=o[f++];try{j=y(j)}catch(w){b.call(this,w);break}}try{m=g0.call(this,j)}catch(y){return Promise.reject(y)}for(f=0,x=d.length;f<x;)m=m.then(d[f++],d[f++]);return m}getUri(s){s=on(this.defaults,s);const r=mg(s.baseURL,s.url,s.allowAbsoluteUrls);return og(r,s.params,s.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(s){Jr.prototype[s]=function(r,n){return this.request(on(n||{},{method:s,url:r,data:(n||{}).data}))}});V.forEach(["post","put","patch"],function(s){function r(n){return function(i,l,o){return this.request(on(o||{},{method:s,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Jr.prototype[s]=r(),Jr.prototype[s+"Form"]=r(!0)});let zj=class yg{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const l=new Promise(o=>{n.subscribe(o),i=o}).then(a);return l.cancel=function(){n.unsubscribe(i)},l},s(function(i,l,o){n.reason||(n.reason=new ba(i,l,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=n=>{s.abort(n)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new yg(function(a){s=a}),cancel:s}}};function Dj(e){return function(r){return e.apply(null,r)}}function Uj(e){return V.isObject(e)&&e.isAxiosError===!0}const zd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zd).forEach(([e,s])=>{zd[s]=e});function bg(e){const s=new Jr(e),r=Gf(Jr.prototype.request,s);return V.extend(r,Jr.prototype,s,{allOwnKeys:!0}),V.extend(r,s,null,{allOwnKeys:!0}),r.create=function(a){return bg(on(e,a))},r}const Y=bg(Li);Y.Axios=Jr;Y.CanceledError=ba;Y.CancelToken=zj;Y.isCancel=ug;Y.VERSION=gg;Y.toFormData=Lo;Y.AxiosError=he;Y.Cancel=Y.CanceledError;Y.all=function(s){return Promise.all(s)};Y.spread=Dj;Y.isAxiosError=Uj;Y.mergeConfig=on;Y.AxiosHeaders=Nt;Y.formToJSON=e=>dg(V.isHTMLForm(e)?new FormData(e):e);Y.getAdapter=fg.getAdapter;Y.HttpStatusCode=zd;Y.default=Y;const{Axios:X5,AxiosError:e4,CanceledError:t4,isCancel:s4,CancelToken:r4,VERSION:n4,all:a4,Cancel:i4,isAxiosError:l4,spread:o4,toFormData:c4,AxiosHeaders:d4,HttpStatusCode:u4,formToJSON:h4,getAdapter:m4,mergeConfig:x4}=Y,Qe=Y.create({baseURL:"https://123construction-shop-finder.launchpulse.ai",timeout:3e4,headers:{"Content-Type":"application/json"}});Qe.interceptors.request.use(e=>{var n;const r=W.getState().authentication_state.auth_token;return r&&(e.headers.Authorization=`Bearer ${r}`),e.method==="get"&&(e.params={...e.params,_t:Date.now()}),console.log(` ${(n=e.method)==null?void 0:n.toUpperCase()} ${e.url}`,e.params||e.data),e},e=>(console.error(" Request error:",e),Promise.reject(e)));Qe.interceptors.response.use(e=>{var s;return console.log(` ${e.status} ${(s=e.config.method)==null?void 0:s.toUpperCase()} ${e.config.url}`),e},e=>{var a,i,l,o,c,d;const s=e.config,r=e.response;console.error(` ${e.code} ${(a=s==null?void 0:s.method)==null?void 0:a.toUpperCase()} ${s==null?void 0:s.url}`,{status:r==null?void 0:r.status,statusText:r==null?void 0:r.statusText,data:r==null?void 0:r.data,message:e.message}),e.code==="ECONNABORTED"?console.error("Request timeout - server may be overloaded"):e.code==="NETWORK_ERROR"||!r?console.error("Network error - server may be unreachable"):(r==null?void 0:r.status)===401?(W.getState().logout_user(),window.location.href="/login"):(r==null?void 0:r.status)>=500&&console.error("Server error - please try again later");const n={...e,message:((l=(i=e.response)==null?void 0:i.data)==null?void 0:l.message)||e.message||"Network request failed",status:(o=e.response)==null?void 0:o.status,statusText:(c=e.response)==null?void 0:c.statusText,url:s==null?void 0:s.url,method:(d=s==null?void 0:s.method)==null?void 0:d.toUpperCase()};return Promise.reject(n)});Qe.get;Qe.post;Qe.put;Qe.patch;Qe.delete;const ys=Object.create(null);ys.open="0";ys.close="1";ys.ping="2";ys.pong="3";ys.message="4";ys.upgrade="5";ys.noop="6";const jl=Object.create(null);Object.keys(ys).forEach(e=>{jl[ys[e]]=e});const Dd={type:"error",data:"parser error"},vg=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",jg=typeof ArrayBuffer=="function",wg=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,ph=({type:e,data:s},r,n)=>vg&&s instanceof Blob?r?n(s):b0(s,n):jg&&(s instanceof ArrayBuffer||wg(s))?r?n(s):b0(new Blob([s]),n):n(ys[e]+(s||"")),b0=(e,s)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];s("b"+(n||""))},r.readAsDataURL(e)};function v0(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let yc;function Vj(e,s){if(vg&&e.data instanceof Blob)return e.data.arrayBuffer().then(v0).then(s);if(jg&&(e.data instanceof ArrayBuffer||wg(e.data)))return s(v0(e.data));ph(e,!1,r=>{yc||(yc=new TextEncoder),s(yc.encode(r))})}const j0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$a=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<j0.length;e++)$a[j0.charCodeAt(e)]=e;const Hj=e=>{let s=e.length*.75,r=e.length,n,a=0,i,l,o,c;e[e.length-1]==="="&&(s--,e[e.length-2]==="="&&s--);const d=new ArrayBuffer(s),m=new Uint8Array(d);for(n=0;n<r;n+=4)i=$a[e.charCodeAt(n)],l=$a[e.charCodeAt(n+1)],o=$a[e.charCodeAt(n+2)],c=$a[e.charCodeAt(n+3)],m[a++]=i<<2|l>>4,m[a++]=(l&15)<<4|o>>2,m[a++]=(o&3)<<6|c&63;return d},Wj=typeof ArrayBuffer=="function",fh=(e,s)=>{if(typeof e!="string")return{type:"message",data:Ng(e,s)};const r=e.charAt(0);return r==="b"?{type:"message",data:Qj(e.substring(1),s)}:jl[r]?e.length>1?{type:jl[r],data:e.substring(1)}:{type:jl[r]}:Dd},Qj=(e,s)=>{if(Wj){const r=Hj(e);return Ng(r,s)}else return{base64:!0,data:e}},Ng=(e,s)=>{switch(s){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},_g="",Zj=(e,s)=>{const r=e.length,n=new Array(r);let a=0;e.forEach((i,l)=>{ph(i,!1,o=>{n[l]=o,++a===r&&s(n.join(_g))})})},Kj=(e,s)=>{const r=e.split(_g),n=[];for(let a=0;a<r.length;a++){const i=fh(r[a],s);if(n.push(i),i.type==="error")break}return n};function Gj(){return new TransformStream({transform(e,s){Vj(e,r=>{const n=r.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const i=new DataView(a.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{a=new Uint8Array(9);const i=new DataView(a.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(a[0]|=128),s.enqueue(a),s.enqueue(r)})}})}let bc;function sl(e){return e.reduce((s,r)=>s+r.length,0)}function rl(e,s){if(e[0].length===s)return e.shift();const r=new Uint8Array(s);let n=0;for(let a=0;a<s;a++)r[a]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function Yj(e,s){bc||(bc=new TextDecoder);const r=[];let n=0,a=-1,i=!1;return new TransformStream({transform(l,o){for(r.push(l);;){if(n===0){if(sl(r)<1)break;const c=rl(r,1);i=(c[0]&128)===128,a=c[0]&127,a<126?n=3:a===126?n=1:n=2}else if(n===1){if(sl(r)<2)break;const c=rl(r,2);a=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(sl(r)<8)break;const c=rl(r,8),d=new DataView(c.buffer,c.byteOffset,c.length),m=d.getUint32(0);if(m>Math.pow(2,21)-1){o.enqueue(Dd);break}a=m*Math.pow(2,32)+d.getUint32(4),n=3}else{if(sl(r)<a)break;const c=rl(r,a);o.enqueue(fh(i?c:bc.decode(c),s)),n=0}if(a===0||a>e){o.enqueue(Dd);break}}}})}const kg=4;function ze(e){if(e)return Jj(e)}function Jj(e){for(var s in ze.prototype)e[s]=ze.prototype[s];return e}ze.prototype.on=ze.prototype.addEventListener=function(e,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(s),this};ze.prototype.once=function(e,s){function r(){this.off(e,r),s.apply(this,arguments)}return r.fn=s,this.on(e,r),this};ze.prototype.off=ze.prototype.removeListener=ze.prototype.removeAllListeners=ze.prototype.removeEventListener=function(e,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,a=0;a<r.length;a++)if(n=r[a],n===s||n.fn===s){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+e],this};ze.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)s[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,a=r.length;n<a;++n)r[n].apply(this,s)}return this};ze.prototype.emitReserved=ze.prototype.emit;ze.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};ze.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Oo=typeof Promise=="function"&&typeof Promise.resolve=="function"?s=>Promise.resolve().then(s):(s,r)=>r(s,0),Bt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Xj="arraybuffer";function Sg(e,...s){return s.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const ew=Bt.setTimeout,tw=Bt.clearTimeout;function $o(e,s){s.useNativeTimers?(e.setTimeoutFn=ew.bind(Bt),e.clearTimeoutFn=tw.bind(Bt)):(e.setTimeoutFn=Bt.setTimeout.bind(Bt),e.clearTimeoutFn=Bt.clearTimeout.bind(Bt))}const sw=1.33;function rw(e){return typeof e=="string"?nw(e):Math.ceil((e.byteLength||e.size)*sw)}function nw(e){let s=0,r=0;for(let n=0,a=e.length;n<a;n++)s=e.charCodeAt(n),s<128?r+=1:s<2048?r+=2:s<55296||s>=57344?r+=3:(n++,r+=4);return r}function Cg(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function aw(e){let s="";for(let r in e)e.hasOwnProperty(r)&&(s.length&&(s+="&"),s+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return s}function iw(e){let s={},r=e.split("&");for(let n=0,a=r.length;n<a;n++){let i=r[n].split("=");s[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return s}class lw extends Error{constructor(s,r,n){super(s),this.description=r,this.context=n,this.type="TransportError"}}class gh extends ze{constructor(s){super(),this.writable=!1,$o(this,s),this.opts=s,this.query=s.query,this.socket=s.socket,this.supportsBinary=!s.forceBase64}onError(s,r,n){return super.emitReserved("error",new lw(s,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(s){this.readyState==="open"&&this.write(s)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(s){const r=fh(s,this.socket.binaryType);this.onPacket(r)}onPacket(s){super.emitReserved("packet",s)}onClose(s){this.readyState="closed",super.emitReserved("close",s)}pause(s){}createUri(s,r={}){return s+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const s=this.opts.hostname;return s.indexOf(":")===-1?s:"["+s+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(s){const r=aw(s);return r.length?"?"+r:""}}class ow extends gh{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(s){this.readyState="pausing";const r=()=>{this.readyState="paused",s()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(s){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Kj(s,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const s=()=>{this.write([{type:"close"}])};this.readyState==="open"?s():this.once("open",s)}write(s){this.writable=!1,Zj(s,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const s=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=Cg()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(s,r)}}let Eg=!1;try{Eg=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const cw=Eg;function dw(){}class uw extends ow{constructor(s){if(super(s),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&s.hostname!==location.hostname||n!==s.port}}doWrite(s,r){const n=this.request({method:"POST",data:s});n.on("success",r),n.on("error",(a,i)=>{this.onError("xhr post error",a,i)})}doPoll(){const s=this.request();s.on("data",this.onData.bind(this)),s.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=s}}class ps extends ze{constructor(s,r,n){super(),this.createRequest=s,$o(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var s;const r=Sg(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(s=this._opts.cookieJar)===null||s===void 0||s.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var a;n.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=ps.requestsCount++,ps.requests[this._index]=this)}_onError(s){this.emitReserved("error",s,this._xhr),this._cleanup(!0)}_cleanup(s){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=dw,s)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ps.requests[this._index],this._xhr=null}}_onLoad(){const s=this._xhr.responseText;s!==null&&(this.emitReserved("data",s),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ps.requestsCount=0;ps.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",w0);else if(typeof addEventListener=="function"){const e="onpagehide"in Bt?"pagehide":"unload";addEventListener(e,w0,!1)}}function w0(){for(let e in ps.requests)ps.requests.hasOwnProperty(e)&&ps.requests[e].abort()}const hw=function(){const e=Pg({xdomain:!1});return e&&e.responseType!==null}();class mw extends uw{constructor(s){super(s);const r=s&&s.forceBase64;this.supportsBinary=hw&&!r}request(s={}){return Object.assign(s,{xd:this.xd},this.opts),new ps(Pg,this.uri(),s)}}function Pg(e){const s=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!s||cw))return new XMLHttpRequest}catch{}if(!s)try{return new Bt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Ag=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class xw extends gh{get name(){return"websocket"}doOpen(){const s=this.uri(),r=this.opts.protocols,n=Ag?{}:Sg(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(s,r,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=s=>this.onClose({description:"websocket connection closed",context:s}),this.ws.onmessage=s=>this.onData(s.data),this.ws.onerror=s=>this.onError("websocket error",s)}write(s){this.writable=!1;for(let r=0;r<s.length;r++){const n=s[r],a=r===s.length-1;ph(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}a&&Oo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const s=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=Cg()),this.supportsBinary||(r.b64=1),this.createUri(s,r)}}const vc=Bt.WebSocket||Bt.MozWebSocket;class pw extends xw{createSocket(s,r,n){return Ag?new vc(s,r,n):r?new vc(s,r):new vc(s)}doWrite(s,r){this.ws.send(r)}}class fw extends gh{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(s){return this.emitReserved("error",s)}this._transport.closed.then(()=>{this.onClose()}).catch(s=>{this.onError("webtransport error",s)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(s=>{const r=Yj(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=s.readable.pipeThrough(r).getReader(),a=Gj();a.readable.pipeTo(s.writable),this._writer=a.writable.getWriter();const i=()=>{n.read().then(({done:o,value:c})=>{o||(this.onPacket(c),i())}).catch(o=>{})};i();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(s){this.writable=!1;for(let r=0;r<s.length;r++){const n=s[r],a=r===s.length-1;this._writer.write(n).then(()=>{a&&Oo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var s;(s=this._transport)===null||s===void 0||s.close()}}const gw={websocket:pw,webtransport:fw,polling:mw},yw=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,bw=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ud(e){if(e.length>8e3)throw"URI too long";const s=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let a=yw.exec(e||""),i={},l=14;for(;l--;)i[bw[l]]=a[l]||"";return r!=-1&&n!=-1&&(i.source=s,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=vw(i,i.path),i.queryKey=jw(i,i.query),i}function vw(e,s){const r=/\/{2,9}/g,n=s.replace(r,"/").split("/");return(s.slice(0,1)=="/"||s.length===0)&&n.splice(0,1),s.slice(-1)=="/"&&n.splice(n.length-1,1),n}function jw(e,s){const r={};return s.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,i){a&&(r[a]=i)}),r}const Vd=typeof addEventListener=="function"&&typeof removeEventListener=="function",wl=[];Vd&&addEventListener("offline",()=>{wl.forEach(e=>e())},!1);class vr extends ze{constructor(s,r){if(super(),this.binaryType=Xj,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,s&&typeof s=="object"&&(r=s,s=null),s){const n=Ud(s);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=Ud(r.host).host);$o(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const a=n.prototype.name;this.transports.push(a),this._transportsByName[a]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=iw(this.opts.query)),Vd&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},wl.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(s){const r=Object.assign({},this.opts.query);r.EIO=kg,r.transport=s,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[s]);return new this._transportsByName[s](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const s=this.opts.rememberUpgrade&&vr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(s);r.open(),this.setTransport(r)}setTransport(s){this.transport&&this.transport.removeAllListeners(),this.transport=s,s.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",vr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",s),this.emitReserved("heartbeat"),s.type){case"open":this.onHandshake(JSON.parse(s.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=s.data,this._onError(r);break;case"message":this.emitReserved("data",s.data),this.emitReserved("message",s.data);break}}onHandshake(s){this.emitReserved("handshake",s),this.id=s.sid,this.transport.query.sid=s.sid,this._pingInterval=s.pingInterval,this._pingTimeout=s.pingTimeout,this._maxPayload=s.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const s=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+s,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},s),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const s=this._getWritablePackets();this.transport.send(s),this._prevBufferLen=s.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(r+=rw(a)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const s=Date.now()>this._pingTimeoutTime;return s&&(this._pingTimeoutTime=0,Oo(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),s}write(s,r,n){return this._sendPacket("message",s,r,n),this}send(s,r,n){return this._sendPacket("message",s,r,n),this}_sendPacket(s,r,n,a){if(typeof r=="function"&&(a=r,r=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:s,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const s=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),s()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():s()}):this.upgrading?n():s()),this}_onError(s){if(vr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",s),this._onClose("transport error",s)}_onClose(s,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Vd&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=wl.indexOf(this._offlineEventListener);n!==-1&&wl.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",s,r),this.writeBuffer=[],this._prevBufferLen=0}}}vr.protocol=kg;class ww extends vr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let s=0;s<this._upgrades.length;s++)this._probe(this._upgrades[s])}_probe(s){let r=this.createTransport(s),n=!1;vr.priorWebsocketSuccess=!1;const a=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;vr.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(m(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=r.name,this.emitReserved("upgradeError",x)}}))};function i(){n||(n=!0,m(),r.close(),r=null)}const l=f=>{const x=new Error("probe error: "+f);x.transport=r.name,i(),this.emitReserved("upgradeError",x)};function o(){l("transport closed")}function c(){l("socket closed")}function d(f){r&&f.name!==r.name&&i()}const m=()=>{r.removeListener("open",a),r.removeListener("error",l),r.removeListener("close",o),this.off("close",c),this.off("upgrading",d)};r.once("open",a),r.once("error",l),r.once("close",o),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&s!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(s){this._upgrades=this._filterUpgrades(s.upgrades),super.onHandshake(s)}_filterUpgrades(s){const r=[];for(let n=0;n<s.length;n++)~this.transports.indexOf(s[n])&&r.push(s[n]);return r}}let Nw=class extends ww{constructor(s,r={}){const n=typeof s=="object"?s:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(a=>gw[a]).filter(a=>!!a)),super(s,n)}};function _w(e,s="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=Ud(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+s,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const kw=typeof ArrayBuffer=="function",Sw=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Rg=Object.prototype.toString,Cw=typeof Blob=="function"||typeof Blob<"u"&&Rg.call(Blob)==="[object BlobConstructor]",Ew=typeof File=="function"||typeof File<"u"&&Rg.call(File)==="[object FileConstructor]";function yh(e){return kw&&(e instanceof ArrayBuffer||Sw(e))||Cw&&e instanceof Blob||Ew&&e instanceof File}function Nl(e,s){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(Nl(e[r]))return!0;return!1}if(yh(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Nl(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Nl(e[r]))return!0;return!1}function Pw(e){const s=[],r=e.data,n=e;return n.data=Hd(r,s),n.attachments=s.length,{packet:n,buffers:s}}function Hd(e,s){if(!e)return e;if(yh(e)){const r={_placeholder:!0,num:s.length};return s.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=Hd(e[n],s);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=Hd(e[n],s));return r}return e}function Aw(e,s){return e.data=Wd(e.data,s),delete e.attachments,e}function Wd(e,s){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<s.length)return s[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Wd(e[r],s);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Wd(e[r],s));return e}const Rw=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Mw=5;var be;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(be||(be={}));class Tw{constructor(s){this.replacer=s}encode(s){return(s.type===be.EVENT||s.type===be.ACK)&&Nl(s)?this.encodeAsBinary({type:s.type===be.EVENT?be.BINARY_EVENT:be.BINARY_ACK,nsp:s.nsp,data:s.data,id:s.id}):[this.encodeAsString(s)]}encodeAsString(s){let r=""+s.type;return(s.type===be.BINARY_EVENT||s.type===be.BINARY_ACK)&&(r+=s.attachments+"-"),s.nsp&&s.nsp!=="/"&&(r+=s.nsp+","),s.id!=null&&(r+=s.id),s.data!=null&&(r+=JSON.stringify(s.data,this.replacer)),r}encodeAsBinary(s){const r=Pw(s),n=this.encodeAsString(r.packet),a=r.buffers;return a.unshift(n),a}}function N0(e){return Object.prototype.toString.call(e)==="[object Object]"}class bh extends ze{constructor(s){super(),this.reviver=s}add(s){let r;if(typeof s=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(s);const n=r.type===be.BINARY_EVENT;n||r.type===be.BINARY_ACK?(r.type=n?be.EVENT:be.ACK,this.reconstructor=new Lw(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(yh(s)||s.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(s),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+s)}decodeString(s){let r=0;const n={type:Number(s.charAt(0))};if(be[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===be.BINARY_EVENT||n.type===be.BINARY_ACK){const i=r+1;for(;s.charAt(++r)!=="-"&&r!=s.length;);const l=s.substring(i,r);if(l!=Number(l)||s.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(l)}if(s.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(s.charAt(r)===","||r===s.length););n.nsp=s.substring(i,r)}else n.nsp="/";const a=s.charAt(r+1);if(a!==""&&Number(a)==a){const i=r+1;for(;++r;){const l=s.charAt(r);if(l==null||Number(l)!=l){--r;break}if(r===s.length)break}n.id=Number(s.substring(i,r+1))}if(s.charAt(++r)){const i=this.tryParse(s.substr(r));if(bh.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(s){try{return JSON.parse(s,this.reviver)}catch{return!1}}static isPayloadValid(s,r){switch(s){case be.CONNECT:return N0(r);case be.DISCONNECT:return r===void 0;case be.CONNECT_ERROR:return typeof r=="string"||N0(r);case be.EVENT:case be.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Rw.indexOf(r[0])===-1);case be.ACK:case be.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Lw{constructor(s){this.packet=s,this.buffers=[],this.reconPack=s}takeBinaryData(s){if(this.buffers.push(s),this.buffers.length===this.reconPack.attachments){const r=Aw(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Fw=Object.freeze(Object.defineProperty({__proto__:null,Decoder:bh,Encoder:Tw,get PacketType(){return be},protocol:Mw},Symbol.toStringTag,{value:"Module"}));function Yt(e,s,r){return e.on(s,r),function(){e.off(s,r)}}const Ow=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Mg extends ze{constructor(s,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=s,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const s=this.io;this.subs=[Yt(s,"open",this.onopen.bind(this)),Yt(s,"packet",this.onpacket.bind(this)),Yt(s,"error",this.onerror.bind(this)),Yt(s,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...s){return s.unshift("message"),this.emit.apply(this,s),this}emit(s,...r){var n,a,i;if(Ow.hasOwnProperty(s))throw new Error('"'+s.toString()+'" is a reserved event name');if(r.unshift(s),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const l={type:be.EVENT,data:r};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const m=this.ids++,f=r.pop();this._registerAckCallback(m,f),l.id=m}const o=(a=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||a===void 0?void 0:a.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!o||(c?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(s,r){var n;const a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[s]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[s];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===s&&this.sendBuffer.splice(o,1);r.call(this,new Error("operation has timed out"))},a),l=(...o)=>{this.io.clearTimeoutFn(i),r.apply(this,o)};l.withError=!0,this.acks[s]=l}emitWithAck(s,...r){return new Promise((n,a)=>{const i=(l,o)=>l?a(l):n(o);i.withError=!0,r.push(i),this.emit(s,...r)})}_addToQueue(s){let r;typeof s[s.length-1]=="function"&&(r=s.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:s,flags:Object.assign({fromQueue:!0},this.flags)};s.push((a,...i)=>n!==this._queue[0]?void 0:(a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(a)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(s=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!s||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(s){s.nsp=this.nsp,this.io._packet(s)}onopen(){typeof this.auth=="function"?this.auth(s=>{this._sendConnectPacket(s)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(s){this.packet({type:be.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},s):s})}onerror(s){this.connected||this.emitReserved("connect_error",s)}onclose(s,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",s,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(s=>{if(!this.sendBuffer.some(n=>String(n.id)===s)){const n=this.acks[s];delete this.acks[s],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(s){if(s.nsp===this.nsp)switch(s.type){case be.CONNECT:s.data&&s.data.sid?this.onconnect(s.data.sid,s.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case be.EVENT:case be.BINARY_EVENT:this.onevent(s);break;case be.ACK:case be.BINARY_ACK:this.onack(s);break;case be.DISCONNECT:this.ondisconnect();break;case be.CONNECT_ERROR:this.destroy();const n=new Error(s.data.message);n.data=s.data.data,this.emitReserved("connect_error",n);break}}onevent(s){const r=s.data||[];s.id!=null&&r.push(this.ack(s.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(s){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,s)}super.emit.apply(this,s),this._pid&&s.length&&typeof s[s.length-1]=="string"&&(this._lastOffset=s[s.length-1])}ack(s){const r=this;let n=!1;return function(...a){n||(n=!0,r.packet({type:be.ACK,id:s,data:a}))}}onack(s){const r=this.acks[s.id];typeof r=="function"&&(delete this.acks[s.id],r.withError&&s.data.unshift(null),r.apply(this,s.data))}onconnect(s,r){this.id=s,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(s=>this.emitEvent(s)),this.receiveBuffer=[],this.sendBuffer.forEach(s=>{this.notifyOutgoingListeners(s),this.packet(s)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(s=>s()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:be.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(s){return this.flags.compress=s,this}get volatile(){return this.flags.volatile=!0,this}timeout(s){return this.flags.timeout=s,this}onAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(s),this}prependAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(s),this}offAny(s){if(!this._anyListeners)return this;if(s){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(s===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(s),this}prependAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(s),this}offAnyOutgoing(s){if(!this._anyOutgoingListeners)return this;if(s){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(s===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(s){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,s.data)}}}function va(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}va.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var s=Math.random(),r=Math.floor(s*this.jitter*e);e=Math.floor(s*10)&1?e+r:e-r}return Math.min(e,this.max)|0};va.prototype.reset=function(){this.attempts=0};va.prototype.setMin=function(e){this.ms=e};va.prototype.setMax=function(e){this.max=e};va.prototype.setJitter=function(e){this.jitter=e};class Qd extends ze{constructor(s,r){var n;super(),this.nsps={},this.subs=[],s&&typeof s=="object"&&(r=s,s=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,$o(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new va({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=s;const a=r.parser||Fw;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(s){return arguments.length?(this._reconnection=!!s,s||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(s){return s===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=s,this)}reconnectionDelay(s){var r;return s===void 0?this._reconnectionDelay:(this._reconnectionDelay=s,(r=this.backoff)===null||r===void 0||r.setMin(s),this)}randomizationFactor(s){var r;return s===void 0?this._randomizationFactor:(this._randomizationFactor=s,(r=this.backoff)===null||r===void 0||r.setJitter(s),this)}reconnectionDelayMax(s){var r;return s===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=s,(r=this.backoff)===null||r===void 0||r.setMax(s),this)}timeout(s){return arguments.length?(this._timeout=s,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(s){if(~this._readyState.indexOf("open"))return this;this.engine=new Nw(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=Yt(r,"open",function(){n.onopen(),s&&s()}),i=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),s?s(o):this.maybeReconnectOnOpen()},l=Yt(r,"error",i);if(this._timeout!==!1){const o=this._timeout,c=this.setTimeoutFn(()=>{a(),i(new Error("timeout")),r.close()},o);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(a),this.subs.push(l),this}connect(s){return this.open(s)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const s=this.engine;this.subs.push(Yt(s,"ping",this.onping.bind(this)),Yt(s,"data",this.ondata.bind(this)),Yt(s,"error",this.onerror.bind(this)),Yt(s,"close",this.onclose.bind(this)),Yt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(s){try{this.decoder.add(s)}catch(r){this.onclose("parse error",r)}}ondecoded(s){Oo(()=>{this.emitReserved("packet",s)},this.setTimeoutFn)}onerror(s){this.emitReserved("error",s)}socket(s,r){let n=this.nsps[s];return n?this._autoConnect&&!n.active&&n.connect():(n=new Mg(this,s,r),this.nsps[s]=n),n}_destroy(s){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(s){const r=this.encoder.encode(s);for(let n=0;n<r.length;n++)this.engine.write(r[n],s.options)}cleanup(){this.subs.forEach(s=>s()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(s,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",s,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const s=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{s.skipReconnect||(this.emitReserved("reconnect_attempt",s.backoff.attempts),!s.skipReconnect&&s.open(a=>{a?(s._reconnecting=!1,s.reconnect(),this.emitReserved("reconnect_error",a)):s.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const s=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",s)}}const Aa={};function _l(e,s){typeof e=="object"&&(s=e,e=void 0),s=s||{};const r=_w(e,s.path||"/socket.io"),n=r.source,a=r.id,i=r.path,l=Aa[a]&&i in Aa[a].nsps,o=s.forceNew||s["force new connection"]||s.multiplex===!1||l;let c;return o?c=new Qd(n,s):(Aa[a]||(Aa[a]=new Qd(n,s)),c=Aa[a]),r.query&&!s.query&&(s.query=r.queryKey),c.socket(r.path,s)}Object.assign(_l,{Manager:Qd,Socket:Mg,io:_l,connect:_l});const W=h1()(p1((e,s)=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!0},error_message:null},current_bom:{id:null,title:null,items:[],total_cost:0,item_count:0,last_updated:null},active_comparison:{product_ids:[],shop_ids:[],quantity:1,comparison_data:[]},user_location:{coordinates:null,address:null,accuracy:null},app_preferences:{language:"en",currency:"AED",units:"metric",theme:"light",offline_mode:!1},notification_state:{unread_count:0,price_alerts:0,rfq_messages:0,system_notifications:0},websocket_state:{socket:null,is_connected:!1,connection_error:null,reconnect_attempts:0},login_user:async(r,n)=>{var a,i;e(l=>({authentication_state:{...l.authentication_state,authentication_status:{...l.authentication_state.authentication_status,is_loading:!0},error_message:null}}));try{const l=await Qe.post("/api/auth/login",{email:r,password:n}),{user:o,token:c}=l.data;e(()=>({authentication_state:{current_user:o,auth_token:c,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null}})),s().connect_websocket()}catch(l){const o=((i=(a=l.response)==null?void 0:a.data)==null?void 0:i.message)||l.message||"Login failed";throw e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:o}})),new Error(o)}},register_user:async r=>{var n,a;e(i=>({authentication_state:{...i.authentication_state,authentication_status:{...i.authentication_state.authentication_status,is_loading:!0},error_message:null}}));try{const i=await Qe.post("/api/auth/register",{email:r.email,password_hash:r.password,name:r.name,user_type:r.user_type,phone:r.phone||null,location_lat:r.location_lat||null,location_lng:r.location_lng||null,address:r.address||null}),{user:l,token:o}=i.data;e(()=>({authentication_state:{current_user:l,auth_token:o,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null}})),s().connect_websocket()}catch(i){const l=((a=(n=i.response)==null?void 0:n.data)==null?void 0:a.message)||i.message||"Registration failed";throw e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:l}})),new Error(l)}},logout_user:async()=>{const{auth_token:r}=s().authentication_state;try{r&&await Qe.post("/api/auth/logout",{})}catch(n){console.warn("Logout API call failed:",n)}s().disconnect_websocket(),e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null},current_bom:{id:null,title:null,items:[],total_cost:0,item_count:0,last_updated:null},active_comparison:{product_ids:[],shop_ids:[],quantity:1,comparison_data:[]},notification_state:{unread_count:0,price_alerts:0,rfq_messages:0,system_notifications:0}}))},initialize_auth:async()=>{const{authentication_state:r}=s(),n=r.auth_token;if(!n){e(a=>({authentication_state:{...a.authentication_state,authentication_status:{...a.authentication_state.authentication_status,is_loading:!1}}}));return}try{const i=(await Qe.get("/api/auth/me")).data;e(()=>({authentication_state:{current_user:i,auth_token:n,authentication_status:{is_authenticated:!0,is_loading:!1},error_message:null}})),s().connect_websocket()}catch{e(()=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1},error_message:null}}))}},clear_auth_error:()=>{e(r=>({authentication_state:{...r.authentication_state,error_message:null}}))},update_user_profile:r=>{e(n=>({authentication_state:{...n.authentication_state,current_user:n.authentication_state.current_user?{...n.authentication_state.current_user,...r}:null}}))},create_bom:async r=>{var a,i;const{auth_token:n}=s().authentication_state;if(!n)throw new Error("Authentication required");try{const o=(await Qe.post("/api/boms",r)).data;e(()=>({current_bom:{id:o.id,title:o.title,items:[],total_cost:o.total_cost,item_count:o.item_count,last_updated:new Date(o.updated_at).toISOString()}}))}catch(l){throw new Error(((i=(a=l.response)==null?void 0:a.data)==null?void 0:i.message)||"Failed to create BOM")}},load_bom:async r=>{var a,i;const{auth_token:n}=s().authentication_state;if(!n)throw new Error("Authentication required");try{const o=(await Qe.get(`/api/boms/${r}`)).data;e(()=>({current_bom:{id:o.id,title:o.title,items:o.items||[],total_cost:o.total_cost,item_count:o.item_count,last_updated:new Date(o.updated_at).toISOString()}}))}catch(l){throw new Error(((i=(a=l.response)==null?void 0:a.data)==null?void 0:i.message)||"Failed to load BOM")}},update_bom:async r=>{var i,l;const{auth_token:n}=s().authentication_state,{current_bom:a}=s();if(!n||!a.id)throw new Error("Authentication and active BOM required");try{const c=(await Qe.put(`/api/boms/${a.id}`,r)).data;e(d=>({current_bom:{...d.current_bom,title:c.title,total_cost:c.total_cost,item_count:c.item_count,last_updated:new Date(c.updated_at).toISOString()}}))}catch(o){throw new Error(((l=(i=o.response)==null?void 0:i.data)==null?void 0:l.message)||"Failed to update BOM")}},add_bom_item:async r=>{var i,l;const{auth_token:n}=s().authentication_state,{current_bom:a}=s();if(!n||!a.id)throw new Error("Authentication and active BOM required");try{const c=(await Qe.post(`/api/boms/${a.id}/items`,{variant_id:r.variant_id,quantity:r.quantity,unit:r.unit,waste_factor:r.waste_factor||0,notes:r.notes||null})).data;e(d=>({current_bom:{...d.current_bom,items:[...d.current_bom.items,c],item_count:d.current_bom.item_count+1,last_updated:new Date().toISOString()}}))}catch(o){throw new Error(((l=(i=o.response)==null?void 0:i.data)==null?void 0:l.message)||"Failed to add item to BOM")}},remove_bom_item:async r=>{var i,l;const{auth_token:n}=s().authentication_state,{current_bom:a}=s();if(!n||!a.id)throw new Error("Authentication and active BOM required");try{await Qe.delete(`/api/boms/${a.id}/items/${r}`),e(o=>({current_bom:{...o.current_bom,items:o.current_bom.items.filter(c=>c.id!==r),item_count:Math.max(0,o.current_bom.item_count-1),last_updated:new Date().toISOString()}}))}catch(o){throw new Error(((l=(i=o.response)==null?void 0:i.data)==null?void 0:l.message)||"Failed to remove item from BOM")}},clear_current_bom:()=>{e(()=>({current_bom:{id:null,title:null,items:[],total_cost:0,item_count:0,last_updated:null}}))},add_to_comparison:r=>{e(n=>({active_comparison:{...n.active_comparison,product_ids:n.active_comparison.product_ids.includes(r)?n.active_comparison.product_ids:[...n.active_comparison.product_ids,r]}}))},remove_from_comparison:r=>{e(n=>({active_comparison:{...n.active_comparison,product_ids:n.active_comparison.product_ids.filter(a=>a!==r),comparison_data:n.active_comparison.comparison_data.filter(a=>a.variant_id!==r)}}))},clear_comparison:()=>{e(()=>({active_comparison:{product_ids:[],shop_ids:[],quantity:1,comparison_data:[]}}))},update_comparison_quantity:r=>{e(n=>({active_comparison:{...n.active_comparison,quantity:Math.max(1,r)}}))},update_user_location:r=>{e(()=>({user_location:{coordinates:r.coordinates,address:r.address||null,accuracy:r.accuracy||null}}))},clear_user_location:()=>{e(()=>({user_location:{coordinates:null,address:null,accuracy:null}}))},update_language:async r=>{const{auth_token:n,current_user:a}=s().authentication_state;if(e(i=>({app_preferences:{...i.app_preferences,language:r}})),n&&a)try{await Qe.put(`/api/users/${a.id}`,{preferences:{...a.preferences,language:r}})}catch(i){console.warn("Failed to update language preference on server:",i)}},update_currency:async r=>{const{auth_token:n,current_user:a}=s().authentication_state;if(e(i=>({app_preferences:{...i.app_preferences,currency:r}})),n&&a)try{await Qe.put(`/api/users/${a.id}`,{preferences:{...a.preferences,currency:r}})}catch(i){console.warn("Failed to update currency preference on server:",i)}},update_theme:r=>{e(n=>({app_preferences:{...n.app_preferences,theme:r}}))},toggle_offline_mode:()=>{e(r=>({app_preferences:{...r.app_preferences,offline_mode:!r.app_preferences.offline_mode}}))},update_notification_counts:r=>{e(n=>({notification_state:{...n.notification_state,...r}}))},mark_notifications_read:r=>{e(n=>r?{notification_state:{...n.notification_state,[r]:0,unread_count:Math.max(0,n.notification_state.unread_count-(n.notification_state[r]||0))}}:{notification_state:{unread_count:0,price_alerts:0,rfq_messages:0,system_notifications:0}})},connect_websocket:()=>{const{websocket_state:r,authentication_state:n}=s();if(!(r.socket&&r.is_connected))try{const a=_l("https://123construction-shop-finder.launchpulse.ai",{auth:{token:n.auth_token},reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3});a.on("connect",()=>{e(i=>({websocket_state:{...i.websocket_state,socket:a,is_connected:!0,connection_error:null,reconnect_attempts:0}}))}),a.on("disconnect",()=>{e(i=>({websocket_state:{...i.websocket_state,is_connected:!1}}))}),a.on("connect_error",i=>{e(l=>({websocket_state:{...l.websocket_state,connection_error:i.message,reconnect_attempts:l.websocket_state.reconnect_attempts+1}}))}),a.on("price_alert_triggered",i=>{s().handle_price_alert(i)}),a.on("stock_status_changed",i=>{s().handle_stock_update(i)}),a.on("message_sent",i=>{s().handle_rfq_message(i)}),a.on("rfq_status_changed",i=>{s().handle_rfq_status_change(i)}),e(i=>({websocket_state:{...i.websocket_state,socket:a}}))}catch(a){e(()=>({websocket_state:{socket:null,is_connected:!1,connection_error:a.message,reconnect_attempts:0}}))}},disconnect_websocket:()=>{const{websocket_state:r}=s();r.socket&&r.socket.disconnect(),e(()=>({websocket_state:{socket:null,is_connected:!1,connection_error:null,reconnect_attempts:0}}))},handle_price_alert:()=>{e(r=>({notification_state:{...r.notification_state,price_alerts:r.notification_state.price_alerts+1,unread_count:r.notification_state.unread_count+1}}))},handle_stock_update:()=>{},handle_rfq_message:()=>{e(r=>({notification_state:{...r.notification_state,rfq_messages:r.notification_state.rfq_messages+1,unread_count:r.notification_state.unread_count+1}}))},handle_rfq_status_change:()=>{}}),{name:"constructhub-app-storage",partialize:e=>({authentication_state:{current_user:e.authentication_state.current_user,auth_token:e.authentication_state.auth_token,authentication_status:{is_authenticated:e.authentication_state.authentication_status.is_authenticated,is_loading:!1},error_message:null},current_bom:e.current_bom,active_comparison:e.active_comparison,user_location:e.user_location,app_preferences:e.app_preferences,notification_state:e.notification_state})})),$w=()=>{var B,G;const e=qs(),[s,r]=u.useState(""),[n,a]=u.useState(!1),[i,l]=u.useState(!1),[o,c]=u.useState(!1),d=u.useRef(null),m=u.useRef(null),f=u.useRef(null),x=W(U=>U.authentication_state.current_user),j=W(U=>U.authentication_state.authentication_status.is_authenticated),y=W(U=>U.authentication_state.auth_token),b=W(U=>U.app_preferences.language),w=W(U=>U.notification_state),g=W(U=>U.current_bom),h=W(U=>U.active_comparison),p=W(U=>U.logout_user),k=W(U=>U.update_language),{data:E}=ce({queryKey:["searchSuggestions",s],queryFn:async()=>!s.trim()||s.length<2?{suggestions:[]}:(await Y.get("https://123construction-shop-finder.launchpulse.ai/api/search/suggestions",{params:{q:s,limit:10,type:"products"}})).data,enabled:s.length>=2&&n,staleTime:3e4,retry:1}),{data:I}=ce({queryKey:["notificationCount"],queryFn:async()=>y?(await Y.get("https://123construction-shop-finder.launchpulse.ai/api/notifications",{params:{is_read:!1,limit:1},headers:{Authorization:`Bearer ${y}`}})).data:{notifications:[],unread_count:0,total:0},enabled:!!y,refetchInterval:3e4,staleTime:15e3,retry:1}),_=U=>{U.preventDefault(),s.trim()&&(e(`/search?q=${encodeURIComponent(s.trim())}`),r(""),a(!1))},L=U=>{U.id?U.type==="shop"?e(`/shops/${U.id}`):U.type==="product"?e(`/product/${U.id}`):e(`/search?q=${encodeURIComponent(U.text)}`):e(`/search?q=${encodeURIComponent(U.text)}`),r(""),a(!1)},T=async()=>{try{await p(),e("/")}catch(U){console.error("Logout error:",U)}l(!1)},q=async()=>{await k(b==="en"?"ar":"en")};u.useEffect(()=>{const U=P=>{m.current&&!m.current.contains(P.target)&&l(!1),f.current&&!f.current.contains(P.target)&&c(!1),d.current&&!d.current.contains(P.target)&&a(!1)};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[]);const D=(I==null?void 0:I.unread_count)||w.unread_count,R=w.rfq_messages;return t.jsx(t.Fragment,{children:t.jsxs("header",{className:"bg-white shadow-lg border-b border-gray-200 sticky top-0 z-50",children:[t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex justify-between items-center h-16",children:[t.jsx("div",{className:"flex items-center flex-shrink-0",children:t.jsxs(Z,{to:"/",className:"flex items-center space-x-2 group",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg flex items-center justify-center group-hover:from-blue-700 group-hover:to-blue-800 transition-all duration-200",children:t.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),t.jsx("span",{className:"text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors duration-200",children:"ConstructHub"})]})}),t.jsx("div",{className:"hidden md:flex flex-1 max-w-2xl mx-6",children:t.jsxs("div",{className:"relative w-full",children:[t.jsx("form",{onSubmit:_,className:"relative",children:t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),t.jsx("input",{ref:d,type:"text",value:s,onChange:U=>r(U.target.value),onFocus:()=>a(!0),placeholder:b==="ar"?"  ...":"Search products...",className:"block w-full pl-10 pr-20 py-3 border-2 border-gray-200 rounded-lg leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200"}),t.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center",children:[t.jsx(Z,{to:"/scan",className:"p-2 text-gray-400 hover:text-blue-600 transition-colors duration-200",title:b==="ar"?" ":"Scan Barcode",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h2M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})})}),t.jsx("button",{type:"button",className:"p-2 text-gray-400 hover:text-blue-600 transition-colors duration-200 mr-2",title:b==="ar"?" ":"Voice Search",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})})]})]})}),n&&(E==null?void 0:E.suggestions)&&E.suggestions.length>0&&t.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:E.suggestions.map((U,P)=>t.jsxs("button",{onClick:()=>L(U),className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center space-x-3 transition-colors duration-150",children:[t.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),t.jsx("span",{className:"text-gray-900",children:U.text}),t.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:U.type})]},P))})]})}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("button",{onClick:q,className:"p-2 text-gray-600 hover:text-blue-600 rounded-lg hover:bg-gray-50 transition-all duration-200",title:b==="ar"?"English":"",children:t.jsx("span",{className:"text-sm font-medium",children:b==="ar"?"EN":""})}),!j&&t.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[t.jsx(Z,{to:"/login",className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-blue-600 transition-colors duration-200",children:b==="ar"?" ":"Sign In"}),t.jsx(Z,{to:"/register",className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-all duration-200 shadow-md hover:shadow-lg",children:b==="ar"?" ":"Sign Up"})]}),j&&t.jsxs(t.Fragment,{children:[(x==null?void 0:x.user_type)==="buyer"&&t.jsxs(Z,{to:g.id?`/bom/${g.id}`:"/bom",className:"relative p-2 text-gray-600 hover:text-blue-600 rounded-lg hover:bg-gray-50 transition-all duration-200",title:b==="ar"?" ":"Bill of Materials",children:[t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),g.item_count>0&&t.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:g.item_count})]}),(x==null?void 0:x.user_type)==="seller"&&t.jsxs(Z,{to:"/rfq",className:"relative p-2 text-gray-600 hover:text-blue-600 rounded-lg hover:bg-gray-50 transition-all duration-200",title:b==="ar"?"  ":"RFQ Inbox",children:[t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),R>0&&t.jsx("span",{className:"absolute -top-1 -right-1 bg-orange-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:R})]}),h.product_ids.length>0&&t.jsxs(Z,{to:"/compare",className:"relative p-2 text-gray-600 hover:text-blue-600 rounded-lg hover:bg-gray-50 transition-all duration-200",title:b==="ar"?" ":"Compare Products",children:[t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),t.jsx("span",{className:"absolute -top-1 -right-1 bg-green-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:h.product_ids.length})]}),t.jsxs(Z,{to:"/alerts",className:"relative p-2 text-gray-600 hover:text-blue-600 rounded-lg hover:bg-gray-50 transition-all duration-200",title:b==="ar"?"":"Notifications",children:[t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),D>0&&t.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:D>99?"99+":D})]}),t.jsxs("div",{className:"relative",ref:m,children:[t.jsxs("button",{onClick:()=>l(!i),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-50 transition-all duration-200",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white text-sm font-medium",children:((G=(B=x==null?void 0:x.name)==null?void 0:B.charAt(0))==null?void 0:G.toUpperCase())||"U"})}),t.jsx("span",{className:"hidden lg:block text-sm font-medium text-gray-700",children:x==null?void 0:x.name}),t.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&t.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[t.jsxs(Z,{to:"/profile",onClick:()=>l(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors duration-150",children:[t.jsx("svg",{className:"w-4 h-4 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),b==="ar"?" ":"Profile"]}),(x==null?void 0:x.user_type)==="seller"&&t.jsxs(Z,{to:"/shop/dashboard",onClick:()=>l(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors duration-150",children:[t.jsx("svg",{className:"w-4 h-4 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),b==="ar"?" ":"Shop Dashboard"]}),t.jsxs(Z,{to:"/settings",onClick:()=>l(!1),className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors duration-150",children:[t.jsxs("svg",{className:"w-4 h-4 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),b==="ar"?"":"Settings"]}),t.jsx("hr",{className:"my-2"}),t.jsxs("button",{onClick:T,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors duration-150",children:[t.jsx("svg",{className:"w-4 h-4 mr-3 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),b==="ar"?" ":"Sign Out"]})]})]})]}),t.jsx("button",{onClick:()=>c(!o),className:"md:hidden p-2 text-gray-600 hover:text-blue-600 rounded-lg hover:bg-gray-50 transition-all duration-200",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o?t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),t.jsx("div",{className:"md:hidden pb-4",children:t.jsx("form",{onSubmit:_,className:"relative",children:t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),t.jsx("input",{type:"text",value:s,onChange:U=>r(U.target.value),placeholder:b==="ar"?"  ...":"Search products...",className:"block w-full pl-10 pr-12 py-3 border-2 border-gray-200 rounded-lg leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200"}),t.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:t.jsx(Z,{to:"/scan",className:"text-gray-400 hover:text-blue-600 transition-colors duration-200",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h2M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})})})})]})})})]}),o&&t.jsx("div",{ref:f,className:"md:hidden bg-white border-t border-gray-200",children:t.jsx("div",{className:"px-4 py-4 space-y-2",children:j?t.jsxs(t.Fragment,{children:[t.jsxs(Z,{to:"/profile",onClick:()=>c(!1),className:"flex items-center px-4 py-3 text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-lg transition-all duration-200",children:[t.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),b==="ar"?" ":"Profile"]}),(x==null?void 0:x.user_type)==="buyer"&&t.jsxs(Z,{to:g.id?`/bom/${g.id}`:"/bom",onClick:()=>c(!1),className:"flex items-center px-4 py-3 text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-lg transition-all duration-200",children:[t.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),b==="ar"?" ":"My BOM",g.item_count>0&&t.jsx("span",{className:"ml-auto bg-blue-600 text-white text-xs rounded-full px-2 py-1",children:g.item_count})]}),(x==null?void 0:x.user_type)==="seller"&&t.jsxs(t.Fragment,{children:[t.jsxs(Z,{to:"/shop/dashboard",onClick:()=>c(!1),className:"flex items-center px-4 py-3 text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-lg transition-all duration-200",children:[t.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),b==="ar"?" ":"Shop Dashboard"]}),t.jsxs(Z,{to:"/rfq",onClick:()=>c(!1),className:"flex items-center px-4 py-3 text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-lg transition-all duration-200",children:[t.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),b==="ar"?" ":"RFQ Inbox",R>0&&t.jsx("span",{className:"ml-auto bg-orange-500 text-white text-xs rounded-full px-2 py-1",children:R})]})]}),t.jsxs(Z,{to:"/alerts",onClick:()=>c(!1),className:"flex items-center px-4 py-3 text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-lg transition-all duration-200",children:[t.jsx("svg",{className:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),b==="ar"?"":"Notifications",D>0&&t.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs rounded-full px-2 py-1",children:D})]}),t.jsxs(Z,{to:"/settings",onClick:()=>c(!1),className:"flex items-center px-4 py-3 text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-lg transition-all duration-200",children:[t.jsxs("svg",{className:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),b==="ar"?"":"Settings"]}),t.jsx("hr",{className:"my-2"}),t.jsxs("button",{onClick:T,className:"flex items-center w-full px-4 py-3 text-base font-medium text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200",children:[t.jsx("svg",{className:"w-5 h-5 mr-3 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),b==="ar"?" ":"Sign Out"]})]}):t.jsxs(t.Fragment,{children:[t.jsx(Z,{to:"/login",onClick:()=>c(!1),className:"block px-4 py-3 text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 rounded-lg transition-all duration-200",children:b==="ar"?" ":"Sign In"}),t.jsx(Z,{to:"/register",onClick:()=>c(!1),className:"block px-4 py-3 text-base font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-all duration-200",children:b==="ar"?" ":"Sign Up"})]})})})]})})};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Tg=(...e)=>e.filter((s,r,n)=>!!s&&n.indexOf(s)===r).join(" ");/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Iw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=u.forwardRef(({color:e="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...o},c)=>u.createElement("svg",{ref:c,...Iw,width:s,height:s,stroke:e,strokeWidth:n?Number(r)*24/Number(s):r,className:Tg("lucide",a),...o},[...l.map(([d,m])=>u.createElement(d,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=(e,s)=>{const r=u.forwardRef(({className:n,...a},i)=>u.createElement(qw,{ref:i,iconNode:s,className:Tg(`lucide-${Bw(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=ee("Accessibility",[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=ee("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=ee("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=ee("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=ee("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=ee("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=ee("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=ee("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=ee("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=ee("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=ee("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=ee("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=ee("Flashlight",[["path",{d:"M18 6c0 2-2 2-2 4v10a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4V2h12z",key:"1orkel"}],["line",{x1:"6",x2:"18",y1:"6",y2:"6",key:"1z11jq"}],["line",{x1:"12",x2:"12",y1:"12",y2:"12",key:"1f4yc1"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=ee("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=ee("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=ee("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=ee("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=ee("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=ee("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=ee("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=ee("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=ee("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=ee("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=ee("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=ee("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=ee("Package2",[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=ee("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=ee("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=ee("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=ee("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=ee("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=ee("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=ee("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=ee("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=ee("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=ee("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=ee("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=ee("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=ee("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=ee("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),hN=()=>{const e=Mr(),s=W(j=>j.authentication_state.authentication_status.is_authenticated),r=W(j=>j.authentication_state.current_user),n=W(j=>j.current_bom.item_count),a=W(j=>j.active_comparison.product_ids.length),i=W(j=>j.notification_state.rfq_messages),l=(r==null?void 0:r.user_type)||"guest",c=(()=>{const j=e.pathname;return j==="/"||j.startsWith("/search")||j.startsWith("/categories")?"search":j.startsWith("/compare")?"compare":j.startsWith("/bom")||j.startsWith("/shop/dashboard")||j.startsWith("/shop/inventory")?"bom":j.startsWith("/rfq")?"messages":j.startsWith("/profile")||j.startsWith("/shop/settings")?"profile":"search"})(),m=(()=>{const j=[{id:"search",label:"Search",icon:bs,route:s?"/search":"/",badge:null,disabled:!1,guestPrompt:!1}];return l==="seller"?[...j,{id:"messages",label:"RFQs",icon:Ks,route:"/rfq",badge:i>0?i:null,disabled:!s,guestPrompt:!s},{id:"bom",label:"Shop",icon:oN,route:"/shop/dashboard",badge:null,disabled:!s,guestPrompt:!s},{id:"profile",label:"Profile",icon:yi,route:s?"/profile":"/login",badge:null,disabled:!1,guestPrompt:!1}]:[...j,{id:"compare",label:"Compare",icon:Nh,route:"/compare",badge:a>0?a:null,disabled:!s,guestPrompt:!s},{id:"bom",label:"Projects",icon:Qw,route:"/bom",badge:n>0?n:null,disabled:!s,guestPrompt:!s},{id:"messages",label:"Messages",icon:Ks,route:"/rfq",badge:i>0?i:null,disabled:!s,guestPrompt:!s},{id:"profile",label:"Profile",icon:yi,route:s?"/profile":"/login",badge:null,disabled:!1,guestPrompt:!1}]})(),f=({count:j})=>t.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium min-w-[20px]",children:j>99?"99+":j}),x=(j,y,b)=>{y&&b&&(j.preventDefault(),window.location.href="/login")};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 md:hidden z-50",children:[t.jsx("div",{className:"grid grid-cols-4 h-16",children:m.map(j=>{const y=j.icon,b=c===j.id,w=j.disabled,g=t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"relative",children:[t.jsx(y,{size:24,className:`${b?"text-blue-600":w?"text-gray-300":"text-gray-500"} transition-colors duration-200`}),j.badge&&t.jsx(f,{count:j.badge})]}),t.jsx("span",{className:`text-xs mt-1 font-medium ${b?"text-blue-600":w?"text-gray-300":"text-gray-500"} transition-colors duration-200`,children:j.label})]});return t.jsxs("div",{className:"relative",children:[w?t.jsx("button",{onClick:h=>x(h,w,j.guestPrompt),className:`w-full h-full flex flex-col items-center justify-center space-y-1 transition-all duration-200 ${b?"bg-blue-50":"hover:bg-gray-50 active:bg-gray-100"}`,disabled:w&&!j.guestPrompt,children:g}):t.jsx(Z,{to:j.route,className:`w-full h-full flex flex-col items-center justify-center space-y-1 transition-all duration-200 ${b?"bg-blue-50":"hover:bg-gray-50 active:bg-gray-100"}`,children:g}),b&&t.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-8 h-1 bg-blue-600 rounded-b-full"}),w&&j.guestPrompt&&t.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-400 rounded-full"})]},j.id)})}),t.jsx("div",{className:"h-safe-area-inset-bottom bg-white"})]}),!s&&t.jsx("div",{className:"fixed bottom-16 left-0 right-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white px-4 py-2 md:hidden z-40",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm font-medium",children:"Sign up to access all features"}),t.jsx("p",{className:"text-xs text-blue-100",children:"Create BOMs, compare prices, and manage projects"})]}),t.jsx(Z,{to:"/register",className:"bg-white text-blue-600 px-3 py-1 rounded-md text-sm font-medium hover:bg-blue-50 transition-colors duration-200 ml-3",children:"Sign Up"})]})})]})},mN=()=>t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),xN=()=>t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),pN=()=>t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})}),fN=()=>t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})}),gN=()=>t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}),C0=()=>t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),yN=()=>{var h,p;const[e,s]=u.useState(!1),[r,n]=u.useState(!1),a=W(k=>k.current_bom),i=W(k=>k.authentication_state.auth_token),l=W(k=>k.app_preferences.currency),o=W(k=>k.authentication_state.authentication_status.is_authenticated),c=W(k=>k.create_bom),d=Xe(),{data:m,isLoading:f}=ce({queryKey:["bom-cost-analysis",a==null?void 0:a.id],queryFn:async()=>!(a!=null&&a.id)||!i?null:(await Y.get(`https://123construction-shop-finder.launchpulse.ai/api/boms/${a.id}/cost-analysis`,{headers:{Authorization:`Bearer ${i}`},params:{include_delivery:!1}})).data,enabled:!!(a!=null&&a.id)&&!!i,staleTime:3e4,refetchOnWindowFocus:!1}),x=xe({mutationFn:async()=>{if(!(a!=null&&a.id)||!i||!(a!=null&&a.items)||a.items.length===0)throw new Error("No items to remove");const k=a.items[a.items.length-1];return(await Y.delete(`https://123construction-shop-finder.launchpulse.ai/api/boms/${a.id}/items/${k.id}`,{headers:{Authorization:`Bearer ${i}`}})).data},onSuccess:k=>{if(!a)return;const E=a.items.slice(0,-1);W.setState(I=>({current_bom:{...I.current_bom,items:E,item_count:Math.max(0,I.current_bom.item_count-1),total_cost:k.updated_total_cost,last_updated:new Date(k.updated_at).toISOString()}})),d.invalidateQueries({queryKey:["bom-cost-analysis"]})}}),j=xe({mutationFn:async()=>{if(!i)throw new Error("Authentication required");await c({title:"New Project",description:"Created from quick access",is_public:!1})}});if(!o||!a)return null;const y=()=>{a!=null&&a.items&&a.items.length>0&&x.mutate()},b=()=>{j.mutate()},w=k=>new Intl.NumberFormat("en-AE",{style:"currency",currency:l,minimumFractionDigits:2}).format(k),g=((p=(h=m==null?void 0:m.optimization_suggestions)==null?void 0:h.multi_shop_optimal)==null?void 0:p.reduce((k,E)=>k+(E.savings||0),0))||null;return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col items-end space-y-2",children:[e&&t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl border border-gray-200 p-4 w-80 mb-2 transform transition-all duration-300 ease-out",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:a.title||"Current BOM"}),t.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(C0,{})})]}),t.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-3 mb-3",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Total Cost"}),t.jsx("p",{className:"text-lg font-bold text-gray-900",children:f?t.jsx("span",{className:"animate-pulse",children:"Loading..."}):w((m==null?void 0:m.total_cost)||a.total_cost)})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-gray-600",children:"Items"}),t.jsx("p",{className:"text-lg font-bold text-blue-600",children:a.item_count})]})]}),g&&g>0&&t.jsx("div",{className:"mt-2 pt-2 border-t border-blue-100",children:t.jsxs("p",{className:"text-xs text-green-600",children:["Potential savings: ",w(g)]})})]}),a.items.length>0?t.jsx("div",{className:"space-y-2 mb-3 max-h-32 overflow-y-auto",children:a.items.slice(-3).map(k=>t.jsx("div",{className:"flex items-center justify-between text-xs bg-gray-50 rounded p-2",children:t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("p",{className:"text-gray-900 truncate",children:["Item ",k.variant_id.slice(-6)]}),t.jsxs("p",{className:"text-gray-500",children:[k.quantity," ",k.unit]})]})},k.id))}):t.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No items in BOM yet"}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:y,disabled:a.items.length===0||x.isPending,className:"flex-1 flex items-center justify-center px-3 py-2 text-xs font-medium text-red-600 bg-red-50 border border-red-200 rounded-lg hover:bg-red-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:x.isPending?t.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-red-600"}):t.jsxs(t.Fragment,{children:[t.jsx(pN,{}),t.jsx("span",{className:"ml-1",children:"Remove"})]})}),t.jsx(Z,{to:`/bom/${a.id}`,className:"flex-1 flex items-center justify-center px-3 py-2 text-xs font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:"View Full"}),t.jsx("button",{onClick:()=>n(!r),className:"flex items-center justify-center px-3 py-2 text-xs font-medium text-gray-600 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 transition-colors",children:t.jsx(fN,{})})]})]}),t.jsx("div",{className:"relative",children:a.id?t.jsxs("button",{onClick:()=>s(!e),className:"bg-blue-600 hover:bg-blue-700 text-white rounded-full p-4 shadow-2xl transition-all duration-200 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-100",children:[t.jsx(mN,{}),a.item_count>0&&t.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full h-6 w-6 flex items-center justify-center animate-pulse",children:a.item_count>99?"99+":a.item_count}),t.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-1 shadow-lg",children:e?t.jsx(C0,{}):t.jsx(gN,{})})]}):t.jsx("button",{onClick:b,disabled:j.isPending,className:"bg-green-600 hover:bg-green-700 text-white rounded-full p-4 shadow-2xl transition-all duration-200 hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-100 disabled:opacity-50",children:j.isPending?t.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"}):t.jsx(xN,{})})})]})})},bN=()=>{const e=qs(),[s,r]=u.useState(""),n=W(h=>h.authentication_state.authentication_status.is_authenticated),a=W(h=>h.user_location),i=W(h=>h.app_preferences.language),l=async()=>(await Y.get("https://123construction-shop-finder.launchpulse.ai/api/product-variants",{params:{limit:8,is_active:!0,sort_by:"created_at",sort_order:"desc"}})).data,o=async()=>(await Y.get("https://123construction-shop-finder.launchpulse.ai/api/shops",{params:{verified:!0,limit:6,sort_by:"rating_average",sort_order:"desc"}})).data,c=async()=>(await Y.get("https://123construction-shop-finder.launchpulse.ai/api/categories",{params:{parent_id:null,is_active:!0,sort_by:"sort_order"}})).data,d={shop_count:1250,product_count:15e3,user_count:8500},{data:m,isLoading:f}=ce({queryKey:["featured-products"],queryFn:l,staleTime:6e4,retry:1}),{data:x,isLoading:j}=ce({queryKey:["featured-shops"],queryFn:o,staleTime:6e4,retry:1}),{data:y,isLoading:b}=ce({queryKey:["top-categories"],queryFn:c,staleTime:3e5,retry:1}),w=h=>{h.preventDefault(),s.trim()&&e(`/search?q=${encodeURIComponent(s.trim())}`)},g=["cement 25kg","steel bars 12mm","ceramic tiles","paint white","electrical wire","plumbing pipes"];return t.jsxs(t.Fragment,{children:[t.jsx("section",{className:"relative bg-gradient-to-br from-blue-50 to-indigo-100 py-20 lg:py-32",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 leading-tight mb-6",children:i==="ar"?"   ":"Smart Construction Materials Platform"}),t.jsx("p",{className:"text-xl md:text-2xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:i==="ar"?"         ":"Find the best prices, compare shops, and manage your construction projects with ease"}),t.jsx("div",{className:"max-w-2xl mx-auto mb-12",children:t.jsxs("form",{onSubmit:w,className:"relative",children:[t.jsxs("div",{className:"relative",children:[t.jsx(bs,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 size-6"}),t.jsx("input",{type:"text",value:s,onChange:h=>r(h.target.value),placeholder:i==="ar"?"   ...":"Search for construction materials...",className:"w-full pl-12 pr-32 py-4 text-lg border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all duration-200"}),t.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700 transition-all duration-200",children:i==="ar"?"":"Search"})]}),t.jsxs("div",{className:"mt-4 flex flex-wrap justify-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-500 mr-2",children:i==="ar"?" :":"Popular searches:"}),g.slice(0,4).map((h,p)=>t.jsx("button",{onClick:()=>{r(h),e(`/search?q=${encodeURIComponent(h)}`)},className:"text-sm text-blue-600 hover:text-blue-800 hover:underline transition-colors",children:h},p))]})]})}),a.coordinates&&t.jsxs("div",{className:"flex items-center justify-center text-sm text-gray-600 mb-8",children:[t.jsx(Pt,{className:"size-4 mr-2"}),t.jsx("span",{children:a.address||`${i==="ar"?" ":"Your location"}: ${a.coordinates.lat.toFixed(2)}, ${a.coordinates.lng.toFixed(2)}`})]}),n?t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsxs(Z,{to:"/search",className:"bg-blue-600 text-white px-8 py-4 rounded-xl font-semibold text-lg hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center",children:[t.jsx(bs,{className:"size-5 mr-2"}),i==="ar"?"  ":"Find Materials"]}),t.jsxs(Z,{to:"/bom",className:"bg-white text-blue-600 px-8 py-4 rounded-xl font-semibold text-lg border-2 border-blue-600 hover:bg-blue-50 shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center",children:[t.jsx(aa,{className:"size-5 mr-2"}),i==="ar"?" ":"Manage Projects"]})]}):t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx(Z,{to:"/register",className:"bg-blue-600 text-white px-8 py-4 rounded-xl font-semibold text-lg hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all duration-200",children:i==="ar"?" ":"Get Started Free"}),t.jsx(Z,{to:"/login",className:"bg-white text-blue-600 px-8 py-4 rounded-xl font-semibold text-lg border-2 border-blue-600 hover:bg-blue-50 shadow-lg hover:shadow-xl transition-all duration-200",children:i==="ar"?" ":"Sign In"})]})]})})}),t.jsx("section",{className:"py-16 lg:py-24 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:i==="ar"?"  ":"Built for Every Need"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:i==="ar"?"             ":"Whether you're a contractor, homeowner, or shop owner, we have the right solution for you"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8 hover:shadow-xl transition-all duration-200",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"bg-blue-100 rounded-full p-4 w-16 h-16 mx-auto mb-6 flex items-center justify-center",children:t.jsx(Kw,{className:"size-8 text-blue-600"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:i==="ar"?"":"Contractors"}),t.jsx("p",{className:"text-gray-600 mb-6",children:i==="ar"?"           ":"Compare prices, manage material lists, and get quotes from multiple shops"}),t.jsxs(Z,{to:"/register?user_type=buyer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium transition-colors",children:[i==="ar"?" ":"Get Started",t.jsx(gt,{className:"size-4 ml-2"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8 hover:shadow-xl transition-all duration-200",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"bg-green-100 rounded-full p-4 w-16 h-16 mx-auto mb-6 flex items-center justify-center",children:t.jsx(Yw,{className:"size-8 text-green-600"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:i==="ar"?" ":"Homeowners"}),t.jsx("p",{className:"text-gray-600 mb-6",children:i==="ar"?"          ":"Find the best deals for your home improvement projects with easy-to-use tools"}),t.jsxs(Z,{to:"/register?user_type=buyer",className:"inline-flex items-center text-green-600 hover:text-green-800 font-medium transition-colors",children:[i==="ar"?" ":"Get Started",t.jsx(gt,{className:"size-4 ml-2"})]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8 hover:shadow-xl transition-all duration-200",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"bg-purple-100 rounded-full p-4 w-16 h-16 mx-auto mb-6 flex items-center justify-center",children:t.jsx(Lg,{className:"size-8 text-purple-600"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:i==="ar"?" ":"Shop Owners"}),t.jsx("p",{className:"text-gray-600 mb-6",children:i==="ar"?"         ":"Manage inventory, receive quote requests, and connect with customers easily"}),t.jsxs(Z,{to:"/register?user_type=seller",className:"inline-flex items-center text-purple-600 hover:text-purple-800 font-medium transition-colors",children:[i==="ar"?" ":"Join as Seller",t.jsx(gt,{className:"size-4 ml-2"})]})]})})]})]})}),t.jsx("section",{className:"py-12 bg-gray-50",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"text-3xl lg:text-4xl font-bold text-blue-600 mb-2",children:[d.shop_count.toLocaleString(),"+"]}),t.jsx("div",{className:"text-gray-600 font-medium",children:i==="ar"?" ":"Verified Shops"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-3xl lg:text-4xl font-bold text-blue-600 mb-2",children:[d.product_count.toLocaleString(),"+"]}),t.jsx("div",{className:"text-gray-600 font-medium",children:i==="ar"?" ":"Products Available"})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-3xl lg:text-4xl font-bold text-blue-600 mb-2",children:[d.user_count.toLocaleString(),"+"]}),t.jsx("div",{className:"text-gray-600 font-medium",children:i==="ar"?" ":"Happy Customers"})]})]})})}),!b&&y&&t.jsx("section",{className:"py-16 lg:py-24 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:i==="ar"?"  ":"Browse by Category"}),t.jsx("p",{className:"text-xl text-gray-600",children:i==="ar"?"      ":"Find what you need from diverse categories"})]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:y.categories.slice(0,6).map(h=>t.jsxs(Z,{to:`/categories/${h.category_path}`,className:"group bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl hover:scale-105 transition-all duration-200 text-center",children:[t.jsx("div",{className:"bg-gray-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center group-hover:bg-blue-100 transition-colors",children:t.jsx(It,{className:"size-8 text-gray-600 group-hover:text-blue-600 transition-colors"})}),t.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors",children:h.name})]},h.id))})]})}),!f&&m&&t.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:i==="ar"?" ":"Featured Products"}),t.jsx("p",{className:"text-xl text-gray-600",children:i==="ar"?"     ":"Latest products from our verified suppliers"})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:m.variants.slice(0,8).map(h=>t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-200",children:[t.jsx("div",{className:"aspect-square bg-gray-100 flex items-center justify-center",children:h.image_url?t.jsx("img",{src:h.image_url,alt:`${h.brand||"Product"} ${h.grade||""}`,className:"w-full h-full object-cover"}):t.jsx("div",{className:"text-gray-400",children:t.jsx(It,{className:"size-12"})})}),t.jsxs("div",{className:"p-4",children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-2",children:[h.brand||"Product"," ",h.grade&&`- ${h.grade}`]}),t.jsxs(Z,{to:`/product/${h.product_id}?variant=${h.id}`,className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium transition-colors",children:[i==="ar"?" ":"View Details",t.jsx(gt,{className:"size-4 ml-1"})]})]})]},h.id))}),t.jsx("div",{className:"text-center mt-12",children:t.jsx(Z,{to:"/search",className:"bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:i==="ar"?"  ":"View All Products"})})]})}),!j&&x&&t.jsx("section",{className:"py-16 lg:py-24 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:i==="ar"?" ":"Trusted Suppliers"}),t.jsx("p",{className:"text-xl text-gray-600",children:i==="ar"?"    ":"Shop from our top-rated verified suppliers"})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:x.shops.map(h=>t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-200",children:[t.jsx("div",{className:"flex items-start justify-between mb-4",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mr-2",children:h.name}),h.verified&&t.jsx(rs,{className:"size-5 text-blue-600"})]}),t.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[t.jsx(Pt,{className:"size-4 mr-1"}),t.jsx("span",{className:"text-sm",children:i==="ar"?" ":"Verified Location"})]}),t.jsx("div",{className:"flex items-center",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ps,{className:"size-4 text-yellow-400 fill-current"}),t.jsx("span",{className:"text-sm text-gray-600 ml-1",children:h.rating_average.toFixed(1)})]})})]})}),t.jsxs(Z,{to:`/shops/${h.id}`,className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium transition-colors",children:[i==="ar"?" ":"Visit Shop",t.jsx(gt,{className:"size-4 ml-1"})]})]},h.id))}),t.jsx("div",{className:"text-center mt-12",children:t.jsxs(Z,{to:"/map",className:"bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center justify-center mx-auto w-fit",children:[t.jsx(Pt,{className:"size-5 mr-2"}),i==="ar"?" ":"View on Map"]})})]})}),t.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx("div",{className:"text-center mb-12",children:t.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:i==="ar"?"  ":"Why Choose Our Platform?"})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"bg-blue-100 rounded-full p-4 w-16 h-16 mx-auto mb-6 flex items-center justify-center",children:t.jsx(It,{className:"size-8 text-blue-600"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:i==="ar"?" ":"Price Comparison"}),t.jsx("p",{className:"text-gray-600",children:i==="ar"?"           ":"Compare prices from multiple shops in one place and get the best deals"})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"bg-green-100 rounded-full p-4 w-16 h-16 mx-auto mb-6 flex items-center justify-center",children:t.jsx(aa,{className:"size-8 text-green-600"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:i==="ar"?" ":"Project Management"}),t.jsx("p",{className:"text-gray-600",children:i==="ar"?"        ":"Create material lists and manage your construction projects efficiently"})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"bg-purple-100 rounded-full p-4 w-16 h-16 mx-auto mb-6 flex items-center justify-center",children:t.jsx(Fi,{className:"size-8 text-purple-600"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:i==="ar"?" ":"Verified Network"}),t.jsx("p",{className:"text-gray-600",children:i==="ar"?"        ":"Deal with verified and trusted suppliers for quality service and products"})]})})]})]})}),!n&&t.jsx("section",{className:"py-16 lg:py-24 bg-blue-600",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[t.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-white mb-6",children:i==="ar"?"   ":"Start Your Journey Today"}),t.jsx("p",{className:"text-xl text-blue-100 mb-8",children:i==="ar"?"         ":"Join thousands of users who save time and money with our platform"}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx(Z,{to:"/register",className:"bg-white text-blue-600 px-8 py-4 rounded-xl font-semibold text-lg hover:bg-gray-50 shadow-lg hover:shadow-xl transition-all duration-200",children:i==="ar"?"  ":"Create Free Account"}),t.jsx(Z,{to:"/search",className:"bg-blue-700 text-white px-8 py-4 rounded-xl font-semibold text-lg border-2 border-blue-500 hover:bg-blue-800 shadow-lg hover:shadow-xl transition-all duration-200",children:i==="ar"?" ":"Browse Products"})]})]})})]})};var Ne;(function(e){e.assertEqual=a=>{};function s(a){}e.assertIs=s;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const l of a)i[l]=l;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),l={};for(const o of i)l[o]=a[o];return e.objectValues(l)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&i.push(l);return i},e.find=(a,i)=>{for(const l of a)if(i(l))return l},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(l=>typeof l=="string"?`'${l}'`:l).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Ne||(Ne={}));var E0;(function(e){e.mergeShapes=(s,r)=>({...s,...r})})(E0||(E0={}));const ne=Ne.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ws=e=>{switch(typeof e){case"undefined":return ne.undefined;case"string":return ne.string;case"number":return Number.isNaN(e)?ne.nan:ne.number;case"boolean":return ne.boolean;case"function":return ne.function;case"bigint":return ne.bigint;case"symbol":return ne.symbol;case"object":return Array.isArray(e)?ne.array:e===null?ne.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ne.promise:typeof Map<"u"&&e instanceof Map?ne.map:typeof Set<"u"&&e instanceof Set?ne.set:typeof Date<"u"&&e instanceof Date?ne.date:ne.object;default:return ne.unknown}},X=Ne.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class vs extends Error{get errors(){return this.issues}constructor(s){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=s}format(s){const r=s||function(i){return i.message},n={_errors:[]},a=i=>{for(const l of i.issues)if(l.code==="invalid_union")l.unionErrors.map(a);else if(l.code==="invalid_return_type")a(l.returnTypeError);else if(l.code==="invalid_arguments")a(l.argumentsError);else if(l.path.length===0)n._errors.push(r(l));else{let o=n,c=0;for(;c<l.path.length;){const d=l.path[c];c===l.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(r(l))):o[d]=o[d]||{_errors:[]},o=o[d],c++}}};return a(this),n}static assert(s){if(!(s instanceof vs))throw new Error(`Not a ZodError: ${s}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ne.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(s=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(s(a))}else n.push(s(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}vs.create=e=>new vs(e);const Jd=(e,s)=>{let r;switch(e.code){case X.invalid_type:e.received===ne.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case X.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Ne.jsonStringifyReplacer)}`;break;case X.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ne.joinValues(e.keys,", ")}`;break;case X.invalid_union:r="Invalid input";break;case X.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ne.joinValues(e.options)}`;break;case X.invalid_enum_value:r=`Invalid enum value. Expected ${Ne.joinValues(e.options)}, received '${e.received}'`;break;case X.invalid_arguments:r="Invalid function arguments";break;case X.invalid_return_type:r="Invalid function return type";break;case X.invalid_date:r="Invalid date";break;case X.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Ne.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case X.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case X.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case X.custom:r="Invalid input";break;case X.invalid_intersection_types:r="Intersection results could not be merged";break;case X.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case X.not_finite:r="Number must be finite";break;default:r=s.defaultError,Ne.assertNever(e)}return{message:r}};let vN=Jd;function jN(){return vN}const wN=e=>{const{data:s,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],l={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let o="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)o=d(l,{data:s,defaultError:o}).message;return{...a,path:i,message:o}};function se(e,s){const r=jN(),n=wN({issueData:s,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Jd?void 0:Jd].filter(a=>!!a)});e.common.issues.push(n)}class Rt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(s,r){const n=[];for(const a of r){if(a.status==="aborted")return de;a.status==="dirty"&&s.dirty(),n.push(a.value)}return{status:s.value,value:n}}static async mergeObjectAsync(s,r){const n=[];for(const a of r){const i=await a.key,l=await a.value;n.push({key:i,value:l})}return Rt.mergeObjectSync(s,n)}static mergeObjectSync(s,r){const n={};for(const a of r){const{key:i,value:l}=a;if(i.status==="aborted"||l.status==="aborted")return de;i.status==="dirty"&&s.dirty(),l.status==="dirty"&&s.dirty(),i.value!=="__proto__"&&(typeof l.value<"u"||a.alwaysSet)&&(n[i.value]=l.value)}return{status:s.value,value:n}}}const de=Object.freeze({status:"aborted"}),Ba=e=>({status:"dirty",value:e}),Ht=e=>({status:"valid",value:e}),P0=e=>e.status==="aborted",A0=e=>e.status==="dirty",ia=e=>e.status==="valid",io=e=>typeof Promise<"u"&&e instanceof Promise;var ae;(function(e){e.errToObj=s=>typeof s=="string"?{message:s}:s||{},e.toString=s=>typeof s=="string"?s:s==null?void 0:s.message})(ae||(ae={}));class Sr{constructor(s,r,n,a){this._cachedPath=[],this.parent=s,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const R0=(e,s)=>{if(ia(s))return{success:!0,data:s.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new vs(e.common.issues);return this._error=r,this._error}}};function pe(e){if(!e)return{};const{errorMap:s,invalid_type_error:r,required_error:n,description:a}=e;if(s&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return s?{errorMap:s,description:a}:{errorMap:(l,o)=>{const{message:c}=e;return l.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??n??o.defaultError}:l.code!=="invalid_type"?{message:o.defaultError}:{message:c??r??o.defaultError}},description:a}}class we{get description(){return this._def.description}_getType(s){return Ws(s.data)}_getOrReturnCtx(s,r){return r||{common:s.parent.common,data:s.data,parsedType:Ws(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}_processInputParams(s){return{status:new Rt,ctx:{common:s.parent.common,data:s.data,parsedType:Ws(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}}_parseSync(s){const r=this._parse(s);if(io(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(s){const r=this._parse(s);return Promise.resolve(r)}parse(s,r){const n=this.safeParse(s,r);if(n.success)return n.data;throw n.error}safeParse(s,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Ws(s)},a=this._parseSync({data:s,path:n.path,parent:n});return R0(n,a)}"~validate"(s){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Ws(s)};if(!this["~standard"].async)try{const i=this._parseSync({data:s,path:[],parent:r});return ia(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:s,path:[],parent:r}).then(i=>ia(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(s,r){const n=await this.safeParseAsync(s,r);if(n.success)return n.data;throw n.error}async safeParseAsync(s,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Ws(s)},a=this._parse({data:s,path:n.path,parent:n}),i=await(io(a)?a:Promise.resolve(a));return R0(n,i)}refine(s,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const l=s(a),o=()=>i.addIssue({code:X.custom,...n(a)});return typeof Promise<"u"&&l instanceof Promise?l.then(c=>c?!0:(o(),!1)):l?!0:(o(),!1)})}refinement(s,r){return this._refinement((n,a)=>s(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(s){return new ca({schema:this,typeName:ue.ZodEffects,effect:{type:"refinement",refinement:s}})}superRefine(s){return this._refinement(s)}constructor(s){this.spa=this.safeParseAsync,this._def=s,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return wr.create(this,this._def)}nullable(){return da.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return gs.create(this)}promise(){return uo.create(this,this._def)}or(s){return oo.create([this,s],this._def)}and(s){return co.create(this,s,this._def)}transform(s){return new ca({...pe(this._def),schema:this,typeName:ue.ZodEffects,effect:{type:"transform",transform:s}})}default(s){const r=typeof s=="function"?s:()=>s;return new eu({...pe(this._def),innerType:this,defaultValue:r,typeName:ue.ZodDefault})}brand(){return new HN({typeName:ue.ZodBranded,type:this,...pe(this._def)})}catch(s){const r=typeof s=="function"?s:()=>s;return new tu({...pe(this._def),innerType:this,catchValue:r,typeName:ue.ZodCatch})}describe(s){const r=this.constructor;return new r({...this._def,description:s})}pipe(s){return kh.create(this,s)}readonly(){return su.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const NN=/^c[^\s-]{8,}$/i,_N=/^[0-9a-z]+$/,kN=/^[0-9A-HJKMNP-TV-Z]{26}$/i,SN=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,CN=/^[a-z0-9_-]{21}$/i,EN=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,PN=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,AN=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,RN="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let wc;const MN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,TN=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,LN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,FN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ON=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$N=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ug="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",BN=new RegExp(`^${Ug}$`);function Vg(e){let s="[0-5]\\d";e.precision?s=`${s}\\.\\d{${e.precision}}`:e.precision==null&&(s=`${s}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${s})${r}`}function IN(e){return new RegExp(`^${Vg(e)}$`)}function qN(e){let s=`${Ug}T${Vg(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),s=`${s}(${r.join("|")})`,new RegExp(`^${s}$`)}function zN(e,s){return!!((s==="v4"||!s)&&MN.test(e)||(s==="v6"||!s)&&LN.test(e))}function DN(e,s){if(!EN.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||s&&a.alg!==s)}catch{return!1}}function UN(e,s){return!!((s==="v4"||!s)&&TN.test(e)||(s==="v6"||!s)&&FN.test(e))}class or extends we{_parse(s){if(this._def.coerce&&(s.data=String(s.data)),this._getType(s)!==ne.string){const i=this._getOrReturnCtx(s);return se(i,{code:X.invalid_type,expected:ne.string,received:i.parsedType}),de}const n=new Rt;let a;for(const i of this._def.checks)if(i.kind==="min")s.data.length<i.value&&(a=this._getOrReturnCtx(s,a),se(a,{code:X.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")s.data.length>i.value&&(a=this._getOrReturnCtx(s,a),se(a,{code:X.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const l=s.data.length>i.value,o=s.data.length<i.value;(l||o)&&(a=this._getOrReturnCtx(s,a),l?se(a,{code:X.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&se(a,{code:X.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")AN.test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"email",code:X.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")wc||(wc=new RegExp(RN,"u")),wc.test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"emoji",code:X.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")SN.test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"uuid",code:X.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")CN.test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"nanoid",code:X.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")NN.test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"cuid",code:X.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")_N.test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"cuid2",code:X.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")kN.test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"ulid",code:X.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(s.data)}catch{a=this._getOrReturnCtx(s,a),se(a,{validation:"url",code:X.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"regex",code:X.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?s.data=s.data.trim():i.kind==="includes"?s.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(s,a),se(a,{code:X.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?s.data=s.data.toLowerCase():i.kind==="toUpperCase"?s.data=s.data.toUpperCase():i.kind==="startsWith"?s.data.startsWith(i.value)||(a=this._getOrReturnCtx(s,a),se(a,{code:X.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?s.data.endsWith(i.value)||(a=this._getOrReturnCtx(s,a),se(a,{code:X.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?qN(i).test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{code:X.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?BN.test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{code:X.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?IN(i).test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{code:X.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?PN.test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"duration",code:X.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?zN(s.data,i.version)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"ip",code:X.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?DN(s.data,i.alg)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"jwt",code:X.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?UN(s.data,i.version)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"cidr",code:X.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?ON.test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"base64",code:X.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?$N.test(s.data)||(a=this._getOrReturnCtx(s,a),se(a,{validation:"base64url",code:X.invalid_string,message:i.message}),n.dirty()):Ne.assertNever(i);return{status:n.value,value:s.data}}_regex(s,r,n){return this.refinement(a=>s.test(a),{validation:r,code:X.invalid_string,...ae.errToObj(n)})}_addCheck(s){return new or({...this._def,checks:[...this._def.checks,s]})}email(s){return this._addCheck({kind:"email",...ae.errToObj(s)})}url(s){return this._addCheck({kind:"url",...ae.errToObj(s)})}emoji(s){return this._addCheck({kind:"emoji",...ae.errToObj(s)})}uuid(s){return this._addCheck({kind:"uuid",...ae.errToObj(s)})}nanoid(s){return this._addCheck({kind:"nanoid",...ae.errToObj(s)})}cuid(s){return this._addCheck({kind:"cuid",...ae.errToObj(s)})}cuid2(s){return this._addCheck({kind:"cuid2",...ae.errToObj(s)})}ulid(s){return this._addCheck({kind:"ulid",...ae.errToObj(s)})}base64(s){return this._addCheck({kind:"base64",...ae.errToObj(s)})}base64url(s){return this._addCheck({kind:"base64url",...ae.errToObj(s)})}jwt(s){return this._addCheck({kind:"jwt",...ae.errToObj(s)})}ip(s){return this._addCheck({kind:"ip",...ae.errToObj(s)})}cidr(s){return this._addCheck({kind:"cidr",...ae.errToObj(s)})}datetime(s){return typeof s=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:s}):this._addCheck({kind:"datetime",precision:typeof(s==null?void 0:s.precision)>"u"?null:s==null?void 0:s.precision,offset:(s==null?void 0:s.offset)??!1,local:(s==null?void 0:s.local)??!1,...ae.errToObj(s==null?void 0:s.message)})}date(s){return this._addCheck({kind:"date",message:s})}time(s){return typeof s=="string"?this._addCheck({kind:"time",precision:null,message:s}):this._addCheck({kind:"time",precision:typeof(s==null?void 0:s.precision)>"u"?null:s==null?void 0:s.precision,...ae.errToObj(s==null?void 0:s.message)})}duration(s){return this._addCheck({kind:"duration",...ae.errToObj(s)})}regex(s,r){return this._addCheck({kind:"regex",regex:s,...ae.errToObj(r)})}includes(s,r){return this._addCheck({kind:"includes",value:s,position:r==null?void 0:r.position,...ae.errToObj(r==null?void 0:r.message)})}startsWith(s,r){return this._addCheck({kind:"startsWith",value:s,...ae.errToObj(r)})}endsWith(s,r){return this._addCheck({kind:"endsWith",value:s,...ae.errToObj(r)})}min(s,r){return this._addCheck({kind:"min",value:s,...ae.errToObj(r)})}max(s,r){return this._addCheck({kind:"max",value:s,...ae.errToObj(r)})}length(s,r){return this._addCheck({kind:"length",value:s,...ae.errToObj(r)})}nonempty(s){return this.min(1,ae.errToObj(s))}trim(){return new or({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new or({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new or({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(s=>s.kind==="datetime")}get isDate(){return!!this._def.checks.find(s=>s.kind==="date")}get isTime(){return!!this._def.checks.find(s=>s.kind==="time")}get isDuration(){return!!this._def.checks.find(s=>s.kind==="duration")}get isEmail(){return!!this._def.checks.find(s=>s.kind==="email")}get isURL(){return!!this._def.checks.find(s=>s.kind==="url")}get isEmoji(){return!!this._def.checks.find(s=>s.kind==="emoji")}get isUUID(){return!!this._def.checks.find(s=>s.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(s=>s.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(s=>s.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(s=>s.kind==="cuid2")}get isULID(){return!!this._def.checks.find(s=>s.kind==="ulid")}get isIP(){return!!this._def.checks.find(s=>s.kind==="ip")}get isCIDR(){return!!this._def.checks.find(s=>s.kind==="cidr")}get isBase64(){return!!this._def.checks.find(s=>s.kind==="base64")}get isBase64url(){return!!this._def.checks.find(s=>s.kind==="base64url")}get minLength(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxLength(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}}or.create=e=>new or({checks:[],typeName:ue.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...pe(e)});function VN(e,s){const r=(e.toString().split(".")[1]||"").length,n=(s.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),l=Number.parseInt(s.toFixed(a).replace(".",""));return i%l/10**a}class la extends we{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(s){if(this._def.coerce&&(s.data=Number(s.data)),this._getType(s)!==ne.number){const i=this._getOrReturnCtx(s);return se(i,{code:X.invalid_type,expected:ne.number,received:i.parsedType}),de}let n;const a=new Rt;for(const i of this._def.checks)i.kind==="int"?Ne.isInteger(s.data)||(n=this._getOrReturnCtx(s,n),se(n,{code:X.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?s.data<i.value:s.data<=i.value)&&(n=this._getOrReturnCtx(s,n),se(n,{code:X.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?s.data>i.value:s.data>=i.value)&&(n=this._getOrReturnCtx(s,n),se(n,{code:X.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?VN(s.data,i.value)!==0&&(n=this._getOrReturnCtx(s,n),se(n,{code:X.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(s.data)||(n=this._getOrReturnCtx(s,n),se(n,{code:X.not_finite,message:i.message}),a.dirty()):Ne.assertNever(i);return{status:a.value,value:s.data}}gte(s,r){return this.setLimit("min",s,!0,ae.toString(r))}gt(s,r){return this.setLimit("min",s,!1,ae.toString(r))}lte(s,r){return this.setLimit("max",s,!0,ae.toString(r))}lt(s,r){return this.setLimit("max",s,!1,ae.toString(r))}setLimit(s,r,n,a){return new la({...this._def,checks:[...this._def.checks,{kind:s,value:r,inclusive:n,message:ae.toString(a)}]})}_addCheck(s){return new la({...this._def,checks:[...this._def.checks,s]})}int(s){return this._addCheck({kind:"int",message:ae.toString(s)})}positive(s){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ae.toString(s)})}negative(s){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ae.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ae.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ae.toString(s)})}multipleOf(s,r){return this._addCheck({kind:"multipleOf",value:s,message:ae.toString(r)})}finite(s){return this._addCheck({kind:"finite",message:ae.toString(s)})}safe(s){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ae.toString(s)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ae.toString(s)})}get minValue(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxValue(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}get isInt(){return!!this._def.checks.find(s=>s.kind==="int"||s.kind==="multipleOf"&&Ne.isInteger(s.value))}get isFinite(){let s=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(s===null||n.value<s)&&(s=n.value)}return Number.isFinite(r)&&Number.isFinite(s)}}la.create=e=>new la({checks:[],typeName:ue.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...pe(e)});class bi extends we{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(s){if(this._def.coerce)try{s.data=BigInt(s.data)}catch{return this._getInvalidInput(s)}if(this._getType(s)!==ne.bigint)return this._getInvalidInput(s);let n;const a=new Rt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?s.data<i.value:s.data<=i.value)&&(n=this._getOrReturnCtx(s,n),se(n,{code:X.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?s.data>i.value:s.data>=i.value)&&(n=this._getOrReturnCtx(s,n),se(n,{code:X.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?s.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(s,n),se(n,{code:X.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Ne.assertNever(i);return{status:a.value,value:s.data}}_getInvalidInput(s){const r=this._getOrReturnCtx(s);return se(r,{code:X.invalid_type,expected:ne.bigint,received:r.parsedType}),de}gte(s,r){return this.setLimit("min",s,!0,ae.toString(r))}gt(s,r){return this.setLimit("min",s,!1,ae.toString(r))}lte(s,r){return this.setLimit("max",s,!0,ae.toString(r))}lt(s,r){return this.setLimit("max",s,!1,ae.toString(r))}setLimit(s,r,n,a){return new bi({...this._def,checks:[...this._def.checks,{kind:s,value:r,inclusive:n,message:ae.toString(a)}]})}_addCheck(s){return new bi({...this._def,checks:[...this._def.checks,s]})}positive(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ae.toString(s)})}negative(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ae.toString(s)})}nonpositive(s){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ae.toString(s)})}nonnegative(s){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ae.toString(s)})}multipleOf(s,r){return this._addCheck({kind:"multipleOf",value:s,message:ae.toString(r)})}get minValue(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s}get maxValue(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s}}bi.create=e=>new bi({checks:[],typeName:ue.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...pe(e)});class M0 extends we{_parse(s){if(this._def.coerce&&(s.data=!!s.data),this._getType(s)!==ne.boolean){const n=this._getOrReturnCtx(s);return se(n,{code:X.invalid_type,expected:ne.boolean,received:n.parsedType}),de}return Ht(s.data)}}M0.create=e=>new M0({typeName:ue.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...pe(e)});class lo extends we{_parse(s){if(this._def.coerce&&(s.data=new Date(s.data)),this._getType(s)!==ne.date){const i=this._getOrReturnCtx(s);return se(i,{code:X.invalid_type,expected:ne.date,received:i.parsedType}),de}if(Number.isNaN(s.data.getTime())){const i=this._getOrReturnCtx(s);return se(i,{code:X.invalid_date}),de}const n=new Rt;let a;for(const i of this._def.checks)i.kind==="min"?s.data.getTime()<i.value&&(a=this._getOrReturnCtx(s,a),se(a,{code:X.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?s.data.getTime()>i.value&&(a=this._getOrReturnCtx(s,a),se(a,{code:X.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Ne.assertNever(i);return{status:n.value,value:new Date(s.data.getTime())}}_addCheck(s){return new lo({...this._def,checks:[...this._def.checks,s]})}min(s,r){return this._addCheck({kind:"min",value:s.getTime(),message:ae.toString(r)})}max(s,r){return this._addCheck({kind:"max",value:s.getTime(),message:ae.toString(r)})}get minDate(){let s=null;for(const r of this._def.checks)r.kind==="min"&&(s===null||r.value>s)&&(s=r.value);return s!=null?new Date(s):null}get maxDate(){let s=null;for(const r of this._def.checks)r.kind==="max"&&(s===null||r.value<s)&&(s=r.value);return s!=null?new Date(s):null}}lo.create=e=>new lo({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ue.ZodDate,...pe(e)});class T0 extends we{_parse(s){if(this._getType(s)!==ne.symbol){const n=this._getOrReturnCtx(s);return se(n,{code:X.invalid_type,expected:ne.symbol,received:n.parsedType}),de}return Ht(s.data)}}T0.create=e=>new T0({typeName:ue.ZodSymbol,...pe(e)});class L0 extends we{_parse(s){if(this._getType(s)!==ne.undefined){const n=this._getOrReturnCtx(s);return se(n,{code:X.invalid_type,expected:ne.undefined,received:n.parsedType}),de}return Ht(s.data)}}L0.create=e=>new L0({typeName:ue.ZodUndefined,...pe(e)});class F0 extends we{_parse(s){if(this._getType(s)!==ne.null){const n=this._getOrReturnCtx(s);return se(n,{code:X.invalid_type,expected:ne.null,received:n.parsedType}),de}return Ht(s.data)}}F0.create=e=>new F0({typeName:ue.ZodNull,...pe(e)});class O0 extends we{constructor(){super(...arguments),this._any=!0}_parse(s){return Ht(s.data)}}O0.create=e=>new O0({typeName:ue.ZodAny,...pe(e)});class $0 extends we{constructor(){super(...arguments),this._unknown=!0}_parse(s){return Ht(s.data)}}$0.create=e=>new $0({typeName:ue.ZodUnknown,...pe(e)});class Cr extends we{_parse(s){const r=this._getOrReturnCtx(s);return se(r,{code:X.invalid_type,expected:ne.never,received:r.parsedType}),de}}Cr.create=e=>new Cr({typeName:ue.ZodNever,...pe(e)});class B0 extends we{_parse(s){if(this._getType(s)!==ne.undefined){const n=this._getOrReturnCtx(s);return se(n,{code:X.invalid_type,expected:ne.void,received:n.parsedType}),de}return Ht(s.data)}}B0.create=e=>new B0({typeName:ue.ZodVoid,...pe(e)});class gs extends we{_parse(s){const{ctx:r,status:n}=this._processInputParams(s),a=this._def;if(r.parsedType!==ne.array)return se(r,{code:X.invalid_type,expected:ne.array,received:r.parsedType}),de;if(a.exactLength!==null){const l=r.data.length>a.exactLength.value,o=r.data.length<a.exactLength.value;(l||o)&&(se(r,{code:l?X.too_big:X.too_small,minimum:o?a.exactLength.value:void 0,maximum:l?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(se(r,{code:X.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(se(r,{code:X.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((l,o)=>a.type._parseAsync(new Sr(r,l,r.path,o)))).then(l=>Rt.mergeArray(n,l));const i=[...r.data].map((l,o)=>a.type._parseSync(new Sr(r,l,r.path,o)));return Rt.mergeArray(n,i)}get element(){return this._def.type}min(s,r){return new gs({...this._def,minLength:{value:s,message:ae.toString(r)}})}max(s,r){return new gs({...this._def,maxLength:{value:s,message:ae.toString(r)}})}length(s,r){return new gs({...this._def,exactLength:{value:s,message:ae.toString(r)}})}nonempty(s){return this.min(1,s)}}gs.create=(e,s)=>new gs({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ue.ZodArray,...pe(s)});function fn(e){if(e instanceof Ie){const s={};for(const r in e.shape){const n=e.shape[r];s[r]=wr.create(fn(n))}return new Ie({...e._def,shape:()=>s})}else return e instanceof gs?new gs({...e._def,type:fn(e.element)}):e instanceof wr?wr.create(fn(e.unwrap())):e instanceof da?da.create(fn(e.unwrap())):e instanceof un?un.create(e.items.map(s=>fn(s))):e}class Ie extends we{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const s=this._def.shape(),r=Ne.objectKeys(s);return this._cached={shape:s,keys:r},this._cached}_parse(s){if(this._getType(s)!==ne.object){const d=this._getOrReturnCtx(s);return se(d,{code:X.invalid_type,expected:ne.object,received:d.parsedType}),de}const{status:n,ctx:a}=this._processInputParams(s),{shape:i,keys:l}=this._getCached(),o=[];if(!(this._def.catchall instanceof Cr&&this._def.unknownKeys==="strip"))for(const d in a.data)l.includes(d)||o.push(d);const c=[];for(const d of l){const m=i[d],f=a.data[d];c.push({key:{status:"valid",value:d},value:m._parse(new Sr(a,f,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof Cr){const d=this._def.unknownKeys;if(d==="passthrough")for(const m of o)c.push({key:{status:"valid",value:m},value:{status:"valid",value:a.data[m]}});else if(d==="strict")o.length>0&&(se(a,{code:X.unrecognized_keys,keys:o}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const m of o){const f=a.data[m];c.push({key:{status:"valid",value:m},value:d._parse(new Sr(a,f,a.path,m)),alwaysSet:m in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const m of c){const f=await m.key,x=await m.value;d.push({key:f,value:x,alwaysSet:m.alwaysSet})}return d}).then(d=>Rt.mergeObjectSync(n,d)):Rt.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(s){return ae.errToObj,new Ie({...this._def,unknownKeys:"strict",...s!==void 0?{errorMap:(r,n)=>{var i,l;const a=((l=(i=this._def).errorMap)==null?void 0:l.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:ae.errToObj(s).message??a}:{message:a}}}:{}})}strip(){return new Ie({...this._def,unknownKeys:"strip"})}passthrough(){return new Ie({...this._def,unknownKeys:"passthrough"})}extend(s){return new Ie({...this._def,shape:()=>({...this._def.shape(),...s})})}merge(s){return new Ie({unknownKeys:s._def.unknownKeys,catchall:s._def.catchall,shape:()=>({...this._def.shape(),...s._def.shape()}),typeName:ue.ZodObject})}setKey(s,r){return this.augment({[s]:r})}catchall(s){return new Ie({...this._def,catchall:s})}pick(s){const r={};for(const n of Ne.objectKeys(s))s[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Ie({...this._def,shape:()=>r})}omit(s){const r={};for(const n of Ne.objectKeys(this.shape))s[n]||(r[n]=this.shape[n]);return new Ie({...this._def,shape:()=>r})}deepPartial(){return fn(this)}partial(s){const r={};for(const n of Ne.objectKeys(this.shape)){const a=this.shape[n];s&&!s[n]?r[n]=a:r[n]=a.optional()}return new Ie({...this._def,shape:()=>r})}required(s){const r={};for(const n of Ne.objectKeys(this.shape))if(s&&!s[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof wr;)i=i._def.innerType;r[n]=i}return new Ie({...this._def,shape:()=>r})}keyof(){return Hg(Ne.objectKeys(this.shape))}}Ie.create=(e,s)=>new Ie({shape:()=>e,unknownKeys:"strip",catchall:Cr.create(),typeName:ue.ZodObject,...pe(s)});Ie.strictCreate=(e,s)=>new Ie({shape:()=>e,unknownKeys:"strict",catchall:Cr.create(),typeName:ue.ZodObject,...pe(s)});Ie.lazycreate=(e,s)=>new Ie({shape:e,unknownKeys:"strip",catchall:Cr.create(),typeName:ue.ZodObject,...pe(s)});class oo extends we{_parse(s){const{ctx:r}=this._processInputParams(s),n=this._def.options;function a(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const l=i.map(o=>new vs(o.ctx.common.issues));return se(r,{code:X.invalid_union,unionErrors:l}),de}if(r.common.async)return Promise.all(n.map(async i=>{const l={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:l}),ctx:l}})).then(a);{let i;const l=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},m=c._parseSync({data:r.data,path:r.path,parent:d});if(m.status==="valid")return m;m.status==="dirty"&&!i&&(i={result:m,ctx:d}),d.common.issues.length&&l.push(d.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=l.map(c=>new vs(c));return se(r,{code:X.invalid_union,unionErrors:o}),de}}get options(){return this._def.options}}oo.create=(e,s)=>new oo({options:e,typeName:ue.ZodUnion,...pe(s)});function Xd(e,s){const r=Ws(e),n=Ws(s);if(e===s)return{valid:!0,data:e};if(r===ne.object&&n===ne.object){const a=Ne.objectKeys(s),i=Ne.objectKeys(e).filter(o=>a.indexOf(o)!==-1),l={...e,...s};for(const o of i){const c=Xd(e[o],s[o]);if(!c.valid)return{valid:!1};l[o]=c.data}return{valid:!0,data:l}}else if(r===ne.array&&n===ne.array){if(e.length!==s.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const l=e[i],o=s[i],c=Xd(l,o);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===ne.date&&n===ne.date&&+e==+s?{valid:!0,data:e}:{valid:!1}}class co extends we{_parse(s){const{status:r,ctx:n}=this._processInputParams(s),a=(i,l)=>{if(P0(i)||P0(l))return de;const o=Xd(i.value,l.value);return o.valid?((A0(i)||A0(l))&&r.dirty(),{status:r.value,value:o.data}):(se(n,{code:X.invalid_intersection_types}),de)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,l])=>a(i,l)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}co.create=(e,s,r)=>new co({left:e,right:s,typeName:ue.ZodIntersection,...pe(r)});class un extends we{_parse(s){const{status:r,ctx:n}=this._processInputParams(s);if(n.parsedType!==ne.array)return se(n,{code:X.invalid_type,expected:ne.array,received:n.parsedType}),de;if(n.data.length<this._def.items.length)return se(n,{code:X.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),de;!this._def.rest&&n.data.length>this._def.items.length&&(se(n,{code:X.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((l,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new Sr(n,l,n.path,o)):null}).filter(l=>!!l);return n.common.async?Promise.all(i).then(l=>Rt.mergeArray(r,l)):Rt.mergeArray(r,i)}get items(){return this._def.items}rest(s){return new un({...this._def,rest:s})}}un.create=(e,s)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new un({items:e,typeName:ue.ZodTuple,rest:null,...pe(s)})};class I0 extends we{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:r,ctx:n}=this._processInputParams(s);if(n.parsedType!==ne.map)return se(n,{code:X.invalid_type,expected:ne.map,received:n.parsedType}),de;const a=this._def.keyType,i=this._def.valueType,l=[...n.data.entries()].map(([o,c],d)=>({key:a._parse(new Sr(n,o,n.path,[d,"key"])),value:i._parse(new Sr(n,c,n.path,[d,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of l){const d=await c.key,m=await c.value;if(d.status==="aborted"||m.status==="aborted")return de;(d.status==="dirty"||m.status==="dirty")&&r.dirty(),o.set(d.value,m.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of l){const d=c.key,m=c.value;if(d.status==="aborted"||m.status==="aborted")return de;(d.status==="dirty"||m.status==="dirty")&&r.dirty(),o.set(d.value,m.value)}return{status:r.value,value:o}}}}I0.create=(e,s,r)=>new I0({valueType:s,keyType:e,typeName:ue.ZodMap,...pe(r)});class vi extends we{_parse(s){const{status:r,ctx:n}=this._processInputParams(s);if(n.parsedType!==ne.set)return se(n,{code:X.invalid_type,expected:ne.set,received:n.parsedType}),de;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(se(n,{code:X.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(se(n,{code:X.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function l(c){const d=new Set;for(const m of c){if(m.status==="aborted")return de;m.status==="dirty"&&r.dirty(),d.add(m.value)}return{status:r.value,value:d}}const o=[...n.data.values()].map((c,d)=>i._parse(new Sr(n,c,n.path,d)));return n.common.async?Promise.all(o).then(c=>l(c)):l(o)}min(s,r){return new vi({...this._def,minSize:{value:s,message:ae.toString(r)}})}max(s,r){return new vi({...this._def,maxSize:{value:s,message:ae.toString(r)}})}size(s,r){return this.min(s,r).max(s,r)}nonempty(s){return this.min(1,s)}}vi.create=(e,s)=>new vi({valueType:e,minSize:null,maxSize:null,typeName:ue.ZodSet,...pe(s)});class q0 extends we{get schema(){return this._def.getter()}_parse(s){const{ctx:r}=this._processInputParams(s);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}q0.create=(e,s)=>new q0({getter:e,typeName:ue.ZodLazy,...pe(s)});class z0 extends we{_parse(s){if(s.data!==this._def.value){const r=this._getOrReturnCtx(s);return se(r,{received:r.data,code:X.invalid_literal,expected:this._def.value}),de}return{status:"valid",value:s.data}}get value(){return this._def.value}}z0.create=(e,s)=>new z0({value:e,typeName:ue.ZodLiteral,...pe(s)});function Hg(e,s){return new oa({values:e,typeName:ue.ZodEnum,...pe(s)})}class oa extends we{_parse(s){if(typeof s.data!="string"){const r=this._getOrReturnCtx(s),n=this._def.values;return se(r,{expected:Ne.joinValues(n),received:r.parsedType,code:X.invalid_type}),de}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(s.data)){const r=this._getOrReturnCtx(s),n=this._def.values;return se(r,{received:r.data,code:X.invalid_enum_value,options:n}),de}return Ht(s.data)}get options(){return this._def.values}get enum(){const s={};for(const r of this._def.values)s[r]=r;return s}get Values(){const s={};for(const r of this._def.values)s[r]=r;return s}get Enum(){const s={};for(const r of this._def.values)s[r]=r;return s}extract(s,r=this._def){return oa.create(s,{...this._def,...r})}exclude(s,r=this._def){return oa.create(this.options.filter(n=>!s.includes(n)),{...this._def,...r})}}oa.create=Hg;class D0 extends we{_parse(s){const r=Ne.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(s);if(n.parsedType!==ne.string&&n.parsedType!==ne.number){const a=Ne.objectValues(r);return se(n,{expected:Ne.joinValues(a),received:n.parsedType,code:X.invalid_type}),de}if(this._cache||(this._cache=new Set(Ne.getValidEnumValues(this._def.values))),!this._cache.has(s.data)){const a=Ne.objectValues(r);return se(n,{received:n.data,code:X.invalid_enum_value,options:a}),de}return Ht(s.data)}get enum(){return this._def.values}}D0.create=(e,s)=>new D0({values:e,typeName:ue.ZodNativeEnum,...pe(s)});class uo extends we{unwrap(){return this._def.type}_parse(s){const{ctx:r}=this._processInputParams(s);if(r.parsedType!==ne.promise&&r.common.async===!1)return se(r,{code:X.invalid_type,expected:ne.promise,received:r.parsedType}),de;const n=r.parsedType===ne.promise?r.data:Promise.resolve(r.data);return Ht(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}uo.create=(e,s)=>new uo({type:e,typeName:ue.ZodPromise,...pe(s)});class ca extends we{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ue.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(s){const{status:r,ctx:n}=this._processInputParams(s),a=this._def.effect||null,i={addIssue:l=>{se(n,l),l.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const l=a.transform(n.data,i);if(n.common.async)return Promise.resolve(l).then(async o=>{if(r.value==="aborted")return de;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?de:c.status==="dirty"||r.value==="dirty"?Ba(c.value):c});{if(r.value==="aborted")return de;const o=this._def.schema._parseSync({data:l,path:n.path,parent:n});return o.status==="aborted"?de:o.status==="dirty"||r.value==="dirty"?Ba(o.value):o}}if(a.type==="refinement"){const l=o=>{const c=a.refinement(o,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?de:(o.status==="dirty"&&r.dirty(),l(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?de:(o.status==="dirty"&&r.dirty(),l(o.value).then(()=>({status:r.value,value:o.value}))))}if(a.type==="transform")if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ia(l))return de;const o=a.transform(l.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>ia(l)?Promise.resolve(a.transform(l.value,i)).then(o=>({status:r.value,value:o})):de);Ne.assertNever(a)}}ca.create=(e,s,r)=>new ca({schema:e,typeName:ue.ZodEffects,effect:s,...pe(r)});ca.createWithPreprocess=(e,s,r)=>new ca({schema:s,effect:{type:"preprocess",transform:e},typeName:ue.ZodEffects,...pe(r)});class wr extends we{_parse(s){return this._getType(s)===ne.undefined?Ht(void 0):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}wr.create=(e,s)=>new wr({innerType:e,typeName:ue.ZodOptional,...pe(s)});class da extends we{_parse(s){return this._getType(s)===ne.null?Ht(null):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}}da.create=(e,s)=>new da({innerType:e,typeName:ue.ZodNullable,...pe(s)});class eu extends we{_parse(s){const{ctx:r}=this._processInputParams(s);let n=r.data;return r.parsedType===ne.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}eu.create=(e,s)=>new eu({innerType:e,typeName:ue.ZodDefault,defaultValue:typeof s.default=="function"?s.default:()=>s.default,...pe(s)});class tu extends we{_parse(s){const{ctx:r}=this._processInputParams(s),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return io(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new vs(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new vs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}tu.create=(e,s)=>new tu({innerType:e,typeName:ue.ZodCatch,catchValue:typeof s.catch=="function"?s.catch:()=>s.catch,...pe(s)});class U0 extends we{_parse(s){if(this._getType(s)!==ne.nan){const n=this._getOrReturnCtx(s);return se(n,{code:X.invalid_type,expected:ne.nan,received:n.parsedType}),de}return{status:"valid",value:s.data}}}U0.create=e=>new U0({typeName:ue.ZodNaN,...pe(e)});class HN extends we{_parse(s){const{ctx:r}=this._processInputParams(s),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class kh extends we{_parse(s){const{status:r,ctx:n}=this._processInputParams(s);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?de:i.status==="dirty"?(r.dirty(),Ba(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?de:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(s,r){return new kh({in:s,out:r,typeName:ue.ZodPipeline})}}class su extends we{_parse(s){const r=this._def.innerType._parse(s),n=a=>(ia(a)&&(a.value=Object.freeze(a.value)),a);return io(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}su.create=(e,s)=>new su({innerType:e,typeName:ue.ZodReadonly,...pe(s)});var ue;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ue||(ue={}));const Ra=or.create,V0=la.create;Cr.create;gs.create;const WN=Ie.create;oo.create;co.create;un.create;const QN=oa.create;uo.create;wr.create;da.create;const H0=WN({name:Ra().min(2),email:Ra().email(),password_hash:Ra().min(6),user_type:QN(["buyer","seller"]),phone:Ra().nullable().optional(),location_lat:V0().nullable().optional(),location_lng:V0().nullable().optional(),address:Ra().nullable().optional()});function ZN({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const KN=u.forwardRef(ZN);function GN({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Ka=u.forwardRef(GN);function YN({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const JN=u.forwardRef(YN);function XN({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Nc=u.forwardRef(XN);function e_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"}))}const t_=u.forwardRef(e_);function s_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z"}))}const W0=u.forwardRef(s_);function r_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"}))}const ho=u.forwardRef(r_);function n_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"}))}const a_=u.forwardRef(n_);function i_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const ru=u.forwardRef(i_);function l_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const o_=u.forwardRef(l_);function c_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const cr=u.forwardRef(c_);function d_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const u_=u.forwardRef(d_);function h_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Q0=u.forwardRef(h_);function m_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const x_=u.forwardRef(m_);function p_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const nu=u.forwardRef(p_);function f_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const Z0=u.forwardRef(f_);function g_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ga=u.forwardRef(g_);function y_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Wg=u.forwardRef(y_);function b_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const au=u.forwardRef(b_);function v_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const _c=u.forwardRef(v_);function j_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const w_=u.forwardRef(j_);function N_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"}))}const __=u.forwardRef(N_);function k_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const S_=u.forwardRef(k_);function C_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Io=u.forwardRef(C_);function E_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const P_=u.forwardRef(E_);function A_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3v1.5M3 21v-6m0 0 2.77-.693a9 9 0 0 1 6.208.682l.108.054a9 9 0 0 0 6.086.71l3.114-.732a48.524 48.524 0 0 1-.005-10.499l-3.11.732a9 9 0 0 1-6.085-.711l-.108-.054a9 9 0 0 0-6.208-.682L3 4.5M3 15V4.5"}))}const K0=u.forwardRef(A_);function R_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const kc=u.forwardRef(R_);function M_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const G0=u.forwardRef(M_);function T_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const L_=u.forwardRef(T_);function F_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Qg=u.forwardRef(F_);function O_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const $_=u.forwardRef(O_);function B_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Xr=u.forwardRef(B_);function I_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const Y0=u.forwardRef(I_);function q_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 6.75V15m6-6v8.25m.503 3.498 4.875-2.437c.381-.19.622-.58.622-1.006V4.82c0-.836-.88-1.38-1.628-1.006l-3.869 1.934c-.317.159-.69.159-1.006 0L9.503 3.252a1.125 1.125 0 0 0-1.006 0L3.622 5.689C3.24 5.88 3 6.27 3 6.695V19.18c0 .836.88 1.38 1.628 1.006l3.869-1.934c.317-.159.69-.159 1.006 0l4.994 2.497c.317.158.69.158 1.006 0Z"}))}const nl=u.forwardRef(q_);function z_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Sl=u.forwardRef(z_);function D_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const U_=u.forwardRef(D_);function V_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const H_=u.forwardRef(V_);function W_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Dt=u.forwardRef(W_);function Q_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0 0 12 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 0 1-2.031.352 5.988 5.988 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971Zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0 2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 0 1-2.031.352 5.989 5.989 0 0 1-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971Z"}))}const Z_=u.forwardRef(Q_);function K_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const mo=u.forwardRef(K_);function G_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const iu=u.forwardRef(G_);function Y_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const Zg=u.forwardRef(Y_);function J_({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const X_=u.forwardRef(J_);function e5({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const Nr=u.forwardRef(e5);function t5({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const lu=u.forwardRef(t5);function s5({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const Kg=u.forwardRef(s5);function r5({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const On=u.forwardRef(r5);function n5({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const J0=u.forwardRef(n5);function a5({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const ua=u.forwardRef(a5),i5=()=>{const[e]=at(),s=qs(),r=W(_=>_.authentication_state.authentication_status.is_authenticated),n=W(_=>_.authentication_state.authentication_status.is_loading),a=W(_=>_.authentication_state.error_message),i=W(_=>_.register_user),l=W(_=>_.clear_auth_error),[o,c]=u.useState({email:"",password:"",name:"",user_type:e.get("account_type")||"buyer",phone:"",location_lat:null,location_lng:null,address:""}),[d,m]=u.useState({}),[f,x]=u.useState({current_step:1,total_steps:4}),[j,y]=u.useState({selected_type:o.user_type,show_comparison:!1}),[b,w]=u.useState({coordinates:null,address:"",manual_entry:!1,location_loading:!1,location_error:""});u.useEffect(()=>{if(r){const _=e.get("redirect_to")||"/search";s(_,{replace:!0})}},[r,s,e]),u.useEffect(()=>{l()},[l]);const g=(_,L)=>{try{const T={[_]:!0};H0.pick(T).parse({[_]:L}),m(D=>({...D,[_]:void 0}))}catch(T){if(T instanceof vs){const q=T.errors.find(D=>D.path[0]===_);q&&m(D=>({...D,[_]:q.message}))}}},h=()=>{if(!navigator.geolocation){w(_=>({..._,location_error:"Geolocation is not supported by this browser",manual_entry:!0}));return}w(_=>({..._,location_loading:!0,location_error:""})),navigator.geolocation.getCurrentPosition(_=>{const{latitude:L,longitude:T}=_.coords;w(q=>({...q,coordinates:{lat:L,lng:T},location_loading:!1})),c(q=>({...q,location_lat:L,location_lng:T})),w(q=>({...q,address:`${L.toFixed(4)}, ${T.toFixed(4)}`}))},_=>{let L="Unable to retrieve location";switch(_.code){case _.PERMISSION_DENIED:L="Location access denied. You can enter your address manually.";break;case _.POSITION_UNAVAILABLE:L="Location information unavailable.";break;case _.TIMEOUT:L="Location request timed out.";break}w(T=>({...T,location_loading:!1,location_error:L,manual_entry:!0}))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},p=async()=>{l();try{H0.parse({email:o.email,password_hash:o.password,name:o.name,user_type:o.user_type,phone:o.phone||null,location_lat:o.location_lat,location_lng:o.location_lng,address:o.address||null}),await i({email:o.email,password:o.password,name:o.name,user_type:o.user_type,phone:o.phone||void 0,location_lat:o.location_lat||void 0,location_lng:o.location_lng||void 0,address:o.address||void 0})}catch(_){console.error("Registration error:",_)}},k=()=>{f.current_step<f.total_steps&&x(_=>({..._,current_step:_.current_step+1}))},E=()=>{f.current_step>1&&x(_=>({..._,current_step:_.current_step-1}))},I=_=>{switch(_){case 1:return j.selected_type==="buyer"||j.selected_type==="seller";case 2:return!!o.email&&!!o.password&&!!o.name&&!d.email&&!d.password&&!d.name;case 3:return!0;case 4:return!0;default:return!1}};return t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Join ConstructHub"}),t.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:"Connect with suppliers and streamline your construction material procurement"})]}),t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Step ",f.current_step," of ",f.total_steps]}),t.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(f.current_step/f.total_steps*100),"% Complete"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300 ease-in-out",style:{width:`${f.current_step/f.total_steps*100}%`}})})]}),t.jsx("div",{className:"bg-white shadow-xl shadow-gray-200/50 rounded-xl border border-gray-100 overflow-hidden",children:t.jsxs("div",{className:"p-6 lg:p-8",children:[a&&t.jsxs("div",{className:"mb-6 bg-red-50 border-2 border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start space-x-3",children:[t.jsx(Io,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),t.jsx("p",{className:"text-sm",children:a})]}),f.current_step===1&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Choose Your Account Type"}),t.jsx("p",{className:"text-gray-600",children:"Select the option that best describes your needs"})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsx("button",{type:"button",onClick:()=>{y({selected_type:"buyer",show_comparison:!1}),c(_=>({..._,user_type:"buyer"}))},className:`p-6 rounded-xl border-2 transition-all duration-200 text-left hover:shadow-lg ${j.selected_type==="buyer"?"border-blue-500 bg-blue-50 ring-4 ring-blue-100":"border-gray-200 hover:border-gray-300"}`,children:t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:`p-3 rounded-lg ${j.selected_type==="buyer"?"bg-blue-100":"bg-gray-100"}`,children:t.jsx(On,{className:`w-6 h-6 ${j.selected_type==="buyer"?"text-blue-600":"text-gray-600"}`})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Buyer / Contractor"}),t.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Find materials, compare prices, and manage projects"}),t.jsxs("ul",{className:"text-xs text-gray-500 space-y-1",children:[t.jsx("li",{children:" Search and compare products"}),t.jsx("li",{children:" Create Bills of Materials"}),t.jsx("li",{children:" Request quotes from suppliers"}),t.jsx("li",{children:" Track project costs"})]})]})]})}),t.jsx("button",{type:"button",onClick:()=>{y({selected_type:"seller",show_comparison:!1}),c(_=>({..._,user_type:"seller"}))},className:`p-6 rounded-xl border-2 transition-all duration-200 text-left hover:shadow-lg ${j.selected_type==="seller"?"border-blue-500 bg-blue-50 ring-4 ring-blue-100":"border-gray-200 hover:border-gray-300"}`,children:t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:`p-3 rounded-lg ${j.selected_type==="seller"?"bg-blue-100":"bg-gray-100"}`,children:t.jsx(ho,{className:`w-6 h-6 ${j.selected_type==="seller"?"text-blue-600":"text-gray-600"}`})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Shop Owner / Supplier"}),t.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"List your products and connect with buyers"}),t.jsxs("ul",{className:"text-xs text-gray-500 space-y-1",children:[t.jsx("li",{children:" Manage inventory and pricing"}),t.jsx("li",{children:" Respond to quote requests"}),t.jsx("li",{children:" Analytics and insights"}),t.jsx("li",{children:" Customer management"})]})]})]})})]})]}),f.current_step===2&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Basic Information"}),t.jsx("p",{className:"text-gray-600",children:"Tell us about yourself"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),t.jsxs("div",{className:"relative",children:[t.jsx(On,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),t.jsx("input",{id:"name",type:"text",required:!0,value:o.name,onChange:_=>{c(L=>({...L,name:_.target.value})),m(L=>({...L,name:void 0})),g("name",_.target.value)},className:`w-full pl-10 pr-4 py-3 border-2 rounded-lg focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all duration-200 ${d.name?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"Enter your full name"})]}),d.name&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.name})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),t.jsxs("div",{className:"relative",children:[t.jsx(S_,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),t.jsx("input",{id:"email",type:"email",required:!0,value:o.email,onChange:_=>{c(L=>({...L,email:_.target.value})),m(L=>({...L,email:void 0})),g("email",_.target.value)},className:`w-full pl-10 pr-4 py-3 border-2 rounded-lg focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all duration-200 ${d.email?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"Enter your email address"})]}),d.email&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.email})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),t.jsxs("div",{className:"relative",children:[t.jsx($_,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),t.jsx("input",{id:"password",type:"password",required:!0,value:o.password,onChange:_=>{c(L=>({...L,password:_.target.value})),m(L=>({...L,password:void 0})),g("password_hash",_.target.value)},className:`w-full pl-10 pr-4 py-3 border-2 rounded-lg focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all duration-200 ${d.password?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"Create a secure password"})]}),d.password&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.password}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Minimum 6 characters required"})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone Number ",o.user_type==="seller"?"*":"(Optional)"]}),t.jsxs("div",{className:"relative",children:[t.jsx(U_,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),t.jsx("input",{id:"phone",type:"tel",required:o.user_type==="seller",value:o.phone,onChange:_=>{c(L=>({...L,phone:_.target.value})),m(L=>({...L,phone:void 0})),_.target.value&&g("phone",_.target.value)},className:`w-full pl-10 pr-4 py-3 border-2 rounded-lg focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all duration-200 ${d.phone?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"+971 50 123 4567"})]}),d.phone&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.phone})]})]})]}),f.current_step===3&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Location Setup"}),t.jsx("p",{className:"text-gray-600",children:"Help us find suppliers near you (optional)"})]}),t.jsxs("div",{className:"space-y-4",children:[!b.manual_entry&&!b.coordinates&&t.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-lg",children:[t.jsx(Y0,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Detect Your Location"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Allow location access to find nearby suppliers and get accurate delivery estimates"}),t.jsx("button",{type:"button",onClick:h,disabled:b.location_loading,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:b.location_loading?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Detecting Location..."]}):t.jsxs(t.Fragment,{children:[t.jsx(L_,{className:"w-4 h-4 mr-2"}),"Use My Location"]})}),t.jsx("button",{type:"button",onClick:()=>w(_=>({..._,manual_entry:!0})),className:"block mx-auto mt-3 text-sm text-gray-500 hover:text-gray-700 transition-colors duration-200",children:"Enter address manually instead"})]}),b.location_error&&t.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 text-yellow-700 px-4 py-3 rounded-lg",children:t.jsx("p",{className:"text-sm",children:b.location_error})}),b.coordinates&&t.jsxs("div",{className:"bg-green-50 border-2 border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-center space-x-3",children:[t.jsx(cr,{className:"w-5 h-5 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Location detected successfully!"}),t.jsx("p",{className:"text-xs text-green-600",children:b.address||`${b.coordinates.lat.toFixed(4)}, ${b.coordinates.lng.toFixed(4)}`})]})]}),(b.manual_entry||b.coordinates)&&t.jsxs("div",{children:[t.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Address (Optional)"}),t.jsxs("div",{className:"relative",children:[t.jsx(Y0,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),t.jsx("input",{id:"address",type:"text",value:o.address,onChange:_=>{c(L=>({...L,address:_.target.value}))},className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:ring-4 focus:ring-blue-100 focus:border-blue-500 focus:outline-none transition-all duration-200",placeholder:"Enter your address"})]}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"This helps us show you nearby suppliers and calculate delivery costs"})]})]})]}),f.current_step===4&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Review & Complete"}),t.jsx("p",{className:"text-gray-600",children:"Confirm your information and create your account"})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Account Type:"}),t.jsxs("span",{className:"text-sm text-gray-900 capitalize flex items-center",children:[o.user_type==="buyer"?t.jsx(On,{className:"w-4 h-4 mr-1"}):t.jsx(ho,{className:"w-4 h-4 mr-1"}),o.user_type==="buyer"?"Buyer / Contractor":"Shop Owner / Supplier"]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Name:"}),t.jsx("span",{className:"text-sm text-gray-900",children:o.name})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Email:"}),t.jsx("span",{className:"text-sm text-gray-900",children:o.email})]}),o.phone&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Phone:"}),t.jsx("span",{className:"text-sm text-gray-900",children:o.phone})]}),o.address&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Address:"}),t.jsx("span",{className:"text-sm text-gray-900",children:o.address})]})]}),t.jsx("div",{className:"text-center",children:t.jsxs("p",{className:"text-xs text-gray-500",children:["By creating an account, you agree to our"," ",t.jsx(Z,{to:"/terms",className:"text-blue-600 hover:text-blue-700 underline",children:"Terms of Service"})," ","and"," ",t.jsx(Z,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 underline",children:"Privacy Policy"})]})})]}),t.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-100",children:[t.jsxs("button",{type:"button",onClick:E,disabled:f.current_step===1,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:[t.jsx(x_,{className:"w-4 h-4 mr-1"}),"Back"]}),f.current_step<f.total_steps?t.jsxs("button",{type:"button",onClick:k,disabled:!I(f.current_step),className:"inline-flex items-center px-6 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:["Continue",t.jsx(nu,{className:"w-4 h-4 ml-1"})]}):t.jsx("button",{type:"button",onClick:p,disabled:n||!I(f.current_step),className:"inline-flex items-center px-6 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:n?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):"Create Account"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",t.jsx(Z,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-medium transition-colors duration-200",children:"Sign in here"})]})})]})})]})})})},l5=()=>{var U,P,C,S,z,O;const e=qs(),[s]=at(),r=s.get("redirect_to"),n=s.get("reset_token"),[a,i]=u.useState({email:"",password:"",remember_me:!1}),[l,o]=u.useState({}),[c,d]=u.useState({email:"",reset_sent:!1,loading:!1}),[m,f]=u.useState({google_loading:!1,facebook_loading:!1}),[x,j]=u.useState(!1),[y,b]=u.useState(!1),[w,g]=u.useState({password:"",confirmPassword:""}),h=W(N=>N.authentication_state.current_user),p=W(N=>N.authentication_state.authentication_status.is_authenticated),k=W(N=>N.authentication_state.authentication_status.is_loading),E=W(N=>N.authentication_state.error_message),I=W(N=>N.login_user),_=W(N=>N.clear_auth_error);u.useEffect(()=>{if(p&&h){const N=r||(h.user_type==="seller"?"/shop/dashboard":"/search");e(N,{replace:!0})}},[p,h,r,e]),u.useEffect(()=>{E&&_(),o({})},[a.email,a.password,E,_]);const L=xe({mutationFn:async N=>(await Y.post("https://123construction-shop-finder.launchpulse.ai/api/auth/forgot-password",N)).data,onSuccess:()=>{d(N=>({...N,reset_sent:!0,loading:!1}))},onError:()=>{d(N=>({...N,loading:!1}))}}),T=xe({mutationFn:async N=>(await Y.post("https://123construction-shop-finder.launchpulse.ai/api/auth/reset-password",N)).data,onSuccess:()=>{e("/login?reset=success",{replace:!0})}}),q=()=>{const N={};return a.email?/\S+@\S+\.\S+/.test(a.email)||(N.email="Please enter a valid email address"):N.email="Email is required",a.password?a.password.length<6&&(N.password="Password must be at least 6 characters"):N.password="Password is required",o(N),Object.keys(N).length===0},D=async N=>{if(N.preventDefault(),_(),!!q())try{await I(a.email,a.password)}catch(A){console.error("Login error:",A)}},R=async N=>{N.preventDefault(),c.email&&(d(A=>({...A,loading:!0})),L.mutate({email:c.email}))},B=async N=>{N.preventDefault(),!(!n||!w.password)&&w.password===w.confirmPassword&&(w.password.length<6||T.mutate({token:n,password:w.password}))},G=N=>{f(A=>({...A,[`${N}_loading`]:!0})),setTimeout(()=>{f(A=>({...A,[`${N}_loading`]:!1})),console.log(`${N} login would redirect to OAuth provider`)},1e3)};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[t.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-3xl font-bold text-blue-600 mb-2",children:"ConstructHub"}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n?"Reset Your Password":y?"Reset Password":"Welcome Back"}),t.jsx("p",{className:"mt-2 text-sm text-gray-600",children:n?"Enter your new password below":y?"Enter your email to receive reset instructions":"Sign in to access your construction materials hub"})]})}),t.jsxs("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:[t.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg shadow-gray-200/50 sm:rounded-xl sm:px-10 border border-gray-100",children:[n&&t.jsxs("form",{className:"space-y-6",onSubmit:B,children:[T.error&&t.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[t.jsx(ts,{className:"h-5 w-5 flex-shrink-0"}),t.jsx("p",{className:"text-sm",children:((C=(P=(U=T.error)==null?void 0:U.response)==null?void 0:P.data)==null?void 0:C.message)||"Password reset failed. Please try again."})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{id:"password",name:"password",type:x?"text":"password",required:!0,value:w.password,onChange:N=>g(A=>({...A,password:N.target.value})),className:"block w-full px-4 py-3 pl-12 pr-12 border border-gray-200 rounded-lg focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all duration-200",placeholder:"Enter new password"}),t.jsx(Za,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),t.jsx("button",{type:"button",onClick:()=>j(!x),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:x?t.jsx(Zd,{className:"h-5 w-5"}):t.jsx(cn,{className:"h-5 w-5"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:w.confirmPassword,onChange:N=>g(A=>({...A,confirmPassword:N.target.value})),className:"block w-full px-4 py-3 pl-12 border border-gray-200 rounded-lg focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all duration-200",placeholder:"Confirm new password"}),t.jsx(Za,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]}),w.password&&w.confirmPassword&&w.password!==w.confirmPassword&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:"Passwords do not match"})]}),t.jsx("button",{type:"submit",disabled:T.isPending||!w.password||!w.confirmPassword||w.password!==w.confirmPassword||w.password.length<6,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:T.isPending?t.jsxs(t.Fragment,{children:[t.jsx(St,{className:"animate-spin h-4 w-4 mr-2"}),"Resetting Password..."]}):t.jsxs(t.Fragment,{children:["Reset Password",t.jsx(gt,{className:"ml-2 h-4 w-4"})]})})]}),!n&&y&&t.jsx("form",{className:"space-y-6",onSubmit:R,children:c.reset_sent?t.jsxs("div",{className:"text-center space-y-4",children:[t.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[t.jsx(rs,{className:"h-5 w-5 flex-shrink-0"}),t.jsx("p",{className:"text-sm",children:"Password reset instructions have been sent to your email address."})]}),t.jsx("button",{type:"button",onClick:()=>{b(!1),d({email:"",reset_sent:!1,loading:!1})},className:"text-blue-600 hover:text-blue-500 text-sm font-medium",children:"Back to Sign In"})]}):t.jsxs(t.Fragment,{children:[L.error&&t.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[t.jsx(ts,{className:"h-5 w-5 flex-shrink-0"}),t.jsx("p",{className:"text-sm",children:((O=(z=(S=L.error)==null?void 0:S.response)==null?void 0:z.data)==null?void 0:O.message)||"Failed to send reset email. Please try again."})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"resetEmail",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{id:"resetEmail",name:"resetEmail",type:"email",required:!0,value:c.email,onChange:N=>d(A=>({...A,email:N.target.value})),className:"block w-full px-4 py-3 pl-12 border border-gray-200 rounded-lg focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all duration-200",placeholder:"Enter your email address"}),t.jsx(no,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]})]}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsx("button",{type:"button",onClick:()=>b(!1),className:"flex-1 py-3 px-4 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-4 focus:ring-gray-100 transition-all duration-200",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:L.isPending||!c.email,className:"flex-1 flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:L.isPending?t.jsxs(t.Fragment,{children:[t.jsx(St,{className:"animate-spin h-4 w-4 mr-2"}),"Sending..."]}):"Send Reset Email"})]})]})}),!n&&!y&&t.jsxs(t.Fragment,{children:[t.jsxs("form",{className:"space-y-6",onSubmit:D,children:[(E||l.general)&&t.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[t.jsx(ts,{className:"h-5 w-5 flex-shrink-0"}),t.jsx("p",{className:"text-sm",children:E||l.general})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:a.email,onChange:N=>{i(A=>({...A,email:N.target.value})),l.email&&o(A=>({...A,email:void 0}))},className:`block w-full px-4 py-3 pl-12 border rounded-lg focus:ring-4 focus:ring-blue-100 transition-all duration-200 ${l.email?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"Enter your email"}),t.jsx(no,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]}),l.email&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.email})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{id:"password",name:"password",type:x?"text":"password",autoComplete:"current-password",required:!0,value:a.password,onChange:N=>{i(A=>({...A,password:N.target.value})),l.password&&o(A=>({...A,password:void 0}))},className:`block w-full px-4 py-3 pl-12 pr-12 border rounded-lg focus:ring-4 focus:ring-blue-100 transition-all duration-200 ${l.password?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"Enter your password"}),t.jsx(Za,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),t.jsx("button",{type:"button",onClick:()=>j(!x),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:x?t.jsx(Zd,{className:"h-5 w-5"}):t.jsx(cn,{className:"h-5 w-5"})})]}),l.password&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.password})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:a.remember_me,onChange:N=>i(A=>({...A,remember_me:N.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),t.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),t.jsx("button",{type:"button",onClick:()=>b(!0),className:"text-sm text-blue-600 hover:text-blue-500 font-medium transition-colors",children:"Forgot password?"})]}),t.jsx("button",{type:"submit",disabled:k,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:k?t.jsxs(t.Fragment,{children:[t.jsx(St,{className:"animate-spin h-4 w-4 mr-2"}),"Signing in..."]}):t.jsxs(t.Fragment,{children:["Sign In",t.jsx(gt,{className:"ml-2 h-4 w-4"})]})})]}),t.jsxs("div",{className:"mt-6",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("div",{className:"w-full border-t border-gray-200"})}),t.jsx("div",{className:"relative flex justify-center text-sm",children:t.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[t.jsxs("button",{type:"button",onClick:()=>G("google"),disabled:m.google_loading,className:"w-full inline-flex justify-center py-3 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 focus:outline-none focus:ring-4 focus:ring-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[m.google_loading?t.jsx(St,{className:"h-5 w-5 animate-spin"}):t.jsx(Uw,{className:"h-5 w-5"}),t.jsx("span",{className:"ml-2",children:"Google"})]}),t.jsxs("button",{type:"button",onClick:()=>G("facebook"),disabled:m.facebook_loading,className:"w-full inline-flex justify-center py-3 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 focus:outline-none focus:ring-4 focus:ring-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[m.facebook_loading?t.jsx(St,{className:"h-5 w-5 animate-spin"}):t.jsx("div",{className:"h-5 w-5 bg-blue-600 rounded"}),t.jsx("span",{className:"ml-2",children:"Facebook"})]})]})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",t.jsx(Z,{to:`/register${r?`?redirect_to=${encodeURIComponent(r)}`:""}`,className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Create one now"})]})})]})]}),!n&&!y&&t.jsxs("div",{className:"mt-6 text-center",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Want to explore first?"}),t.jsxs(Z,{to:"/",className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-500 transition-colors",children:["Continue as Guest",t.jsx(gt,{className:"ml-1 h-4 w-4"})]})]})]}),s.get("reset")==="success"&&t.jsxs("div",{className:"fixed top-4 right-4 bg-green-50 border border-green-200 text-green-700 px-6 py-4 rounded-lg shadow-lg flex items-center space-x-2 max-w-md",children:[t.jsx(rs,{className:"h-5 w-5 flex-shrink-0"}),t.jsx("p",{className:"text-sm font-medium",children:"Password reset successful! You can now sign in with your new password."})]})]})})},o5=()=>{var P,C,S,z,O,N;const[e,s]=at(),[r,n]=u.useState("grid"),[a,i]=u.useState(!1),[l,o]=u.useState({}),[c,d]=u.useState(""),m=W(A=>A.authentication_state.authentication_status.is_authenticated),f=W(A=>A.user_location),x=W(A=>A.app_preferences.currency),j=W(A=>A.active_comparison.product_ids),y=W(A=>A.current_bom),b=W(A=>A.add_to_comparison),w=W(A=>A.remove_from_comparison),g=W(A=>A.add_bom_item),h=u.useMemo(()=>{var M,Q;const A=e.get("brand");return{query:e.get("q")||"",category:e.get("category")||"",brand:A?A.split(","):[],price_min:e.get("price_min")?Number(e.get("price_min")):null,price_max:e.get("price_max")?Number(e.get("price_max")):null,location_lat:e.get("location_lat")?Number(e.get("location_lat")):((M=f.coordinates)==null?void 0:M.lat)||null,location_lng:e.get("location_lng")?Number(e.get("location_lng")):((Q=f.coordinates)==null?void 0:Q.lng)||null,radius:Number(e.get("radius")||"10"),in_stock:e.get("in_stock")==="true"?!0:e.get("in_stock")==="false"?!1:null,sort:e.get("sort")||"relevance"}},[e,f.coordinates]);u.useEffect(()=>{d(h.query)},[h.query]);const p=ce({queryKey:["searchProducts",h],queryFn:async()=>{const A=new URLSearchParams;return h.query&&A.append("query",h.query),h.brand.length>0&&A.append("brand",h.brand.join(",")),A.append("is_active","true"),A.append("limit","20"),A.append("offset","0"),h.sort==="price_asc"?(A.append("sort_by","price"),A.append("sort_order","asc")):h.sort==="price_desc"?(A.append("sort_by","price"),A.append("sort_order","desc")):(A.append("sort_by","brand"),A.append("sort_order","asc")),(await Y.get(`https://123construction-shop-finder.launchpulse.ai/api/product-variants?${A.toString()}`)).data},enabled:!0,staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),k=ce({queryKey:["searchPrices",(P=p.data)==null?void 0:P.variants],queryFn:async()=>{var v,$;if(!(($=(v=p.data)==null?void 0:v.variants)!=null&&$.length))return{prices:[]};const A=p.data.variants.map(K=>K.id),M=new URLSearchParams;return A.forEach(K=>M.append("variant_id",K)),M.append("verified","true"),M.append("sort_by","price"),M.append("sort_order","asc"),M.append("limit","100"),(await Y.get(`https://123construction-shop-finder.launchpulse.ai/api/prices?${M.toString()}`)).data},enabled:!!((S=(C=p.data)==null?void 0:C.variants)!=null&&S.length),staleTime:3e5,refetchOnWindowFocus:!1,retry:1}),E=u.useMemo(()=>{var A;return(A=k.data)!=null&&A.prices?k.data.prices.reduce((M,Q)=>(M[Q.variant_id]||(M[Q.variant_id]=[]),M[Q.variant_id].push(Q),M),{}):{}},[(z=k.data)==null?void 0:z.prices]),I=u.useCallback(A=>{const M=new URLSearchParams(e);Object.entries(A).forEach(([Q,v])=>{v==null||v===""||Array.isArray(v)&&v.length===0?M.delete(Q):Array.isArray(v)?M.set(Q,v.join(",")):M.set(Q,String(v))}),s(M)},[e,s]),_=u.useCallback(A=>{A.preventDefault(),I({query:c.trim()})},[c,I]),L=u.useCallback((A,M)=>{I({[A]:M})},[I]),T=u.useCallback(A=>{if(j.includes(A))w(A);else{if(j.length>=10){alert("Maximum 10 products can be compared at once");return}b(A)}},[j,b,w]),q=u.useCallback(async A=>{if(!m){alert("Please login to add items to BOM");return}if(!y.id){alert("Please create a BOM first");return}const M=l[A]||1;try{await g({variant_id:A,quantity:M,unit:"piece",waste_factor:0}),o(Q=>({...Q,[A]:1})),alert("Item added to BOM successfully")}catch(Q){console.error("Failed to add item to BOM:",Q),alert("Failed to add item to BOM")}},[m,y.id,l,g]),D=u.useCallback((A,M)=>{o(Q=>({...Q,[A]:Math.max(1,(Q[A]||1)+M)}))},[]),R=u.useCallback(A=>{const M=E[A];return!M||M.length===0?null:M.reduce((Q,v)=>v.price_per_base_unit<Q.price_per_base_unit?v:Q)},[E]),B=u.useCallback(A=>{var M;return((M=E[A])==null?void 0:M.length)||0},[E]),G=u.useCallback(A=>{const M=E[A];return M?M.some(Q=>{var v;return(v=Q.shop)==null?void 0:v.verified}):!1},[E]),U=({variant:A,isGridView:M})=>{var fe,ve,_t,H,le,Ae,as,Sh;const Q=R(A.id),v=B(A.id),$=G(A.id),K=j.includes(A.id),ie=l[A.id]||1;return M?t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-lg transition-all duration-200 group",children:[t.jsxs("div",{className:"relative aspect-square bg-gray-100 overflow-hidden",children:[A.image_url?t.jsx("img",{src:A.image_url,alt:(le=A.product)==null?void 0:le.canonical_name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:qo=>{qo.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0ibTMgNiAzIDEgMTQgMCAzLTF2MTBsLTMgMUg2bC0zLTFWNloiIGZpbGw9IiNmM2Y0ZjYiLz4KPHBhdGggZD0ibTkgOSAyIDRoMmwyLTQtMy0xLTMgMVoiIGZpbGw9IiNkMWQ1ZGIiLz4KPC9zdmc+"}}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:t.jsx(jr,{className:"w-16 h-16"})}),t.jsx("div",{className:"absolute top-3 left-3",children:t.jsx("button",{onClick:()=>T(A.id),className:`w-6 h-6 rounded border-2 transition-all duration-200 ${K?"bg-blue-600 border-blue-600 text-white":"bg-white border-gray-300 hover:border-blue-500"}`,title:"Add to comparison",children:K&&t.jsx("span",{className:"block w-full text-center text-xs",children:""})})}),t.jsx("div",{className:"absolute top-3 right-3",children:t.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${$?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:$?"In Stock":"Out of Stock"})})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 min-h-[2.5rem]",children:t.jsx(Z,{to:`/product/${A.product_id}?variant=${A.id}`,className:"hover:text-blue-600 transition-colors",children:((Ae=A.product)==null?void 0:Ae.canonical_name)||"Unknown Product"})}),t.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[A.brand&&t.jsx("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-xs",children:A.brand}),A.grade&&t.jsx("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded text-xs",children:A.grade})]}),Q?t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[Q.price.toFixed(2)," ",x]}),t.jsxs("div",{className:"text-sm text-gray-500",children:["per ",((as=A.product)==null?void 0:as.base_unit)||"unit"]}),t.jsxs("div",{className:"flex items-center justify-between mt-1",children:[t.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[t.jsx(Pt,{className:"w-3 h-3"}),t.jsxs("span",{children:[v," shops"]})]}),((Sh=Q.shop)==null?void 0:Sh.verified)&&t.jsxs("div",{className:"flex items-center",children:[t.jsx(Ps,{className:"w-3 h-3 text-yellow-400 fill-current"}),t.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"Verified"})]})]})]}):t.jsx("div",{className:"text-gray-500 mb-4",children:"Price not available"}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"flex items-center justify-center",children:t.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[t.jsx("button",{onClick:()=>D(A.id,-1),className:"p-2 hover:bg-gray-100 transition-colors rounded-l-lg",disabled:ie<=1,children:t.jsx(Kd,{className:"w-4 h-4"})}),t.jsx("span",{className:"px-4 py-2 text-sm font-medium min-w-[3rem] text-center border-x border-gray-300",children:ie}),t.jsx("button",{onClick:()=>D(A.id,1),className:"p-2 hover:bg-gray-100 transition-colors rounded-r-lg",children:t.jsx(fs,{className:"w-4 h-4"})})]})}),t.jsxs("div",{className:"flex space-x-2",children:[m&&y.id&&t.jsxs("button",{onClick:()=>q(A.id),className:"flex-1 bg-green-600 text-white px-3 py-2 rounded-lg text-sm font-medium hover:bg-green-700 transition-colors flex items-center justify-center space-x-1",children:[t.jsx(aa,{className:"w-4 h-4"}),t.jsx("span",{children:"Add to BOM"})]}),t.jsx(Z,{to:`/product/${A.product_id}?variant=${A.id}`,className:"flex-1 bg-blue-600 text-white px-3 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors text-center",children:"View Details"})]})]})]})]}):t.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200",children:t.jsxs("div",{className:"flex items-center space-x-6",children:[t.jsx("div",{className:"flex-shrink-0 w-24 h-24 bg-gray-100 rounded-lg overflow-hidden",children:A.image_url?t.jsx("img",{src:A.image_url,alt:(fe=A.product)==null?void 0:fe.canonical_name,className:"w-full h-full object-cover",onError:qo=>{qo.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0ibTMgNiAzIDEgMTQgMCAzLTF2MTBsLTMgMUg2bC0zLTFWNloiIGZpbGw9IiNmM2Y0ZjYiLz4KPHBhdGggZD0ibTkgOSAyIDRoMmwyLTQtMy0xLTMgMVoiIGZpbGw9IiNkMWQ1ZGIiLz4KPC9zdmc+"}}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:t.jsx(jr,{className:"w-8 h-8"})})}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:t.jsx(Z,{to:`/product/${A.product_id}?variant=${A.id}`,className:"hover:text-blue-600 transition-colors",children:((ve=A.product)==null?void 0:ve.canonical_name)||"Unknown Product"})}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 mb-3",children:[A.brand&&t.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:A.brand}),A.grade&&t.jsxs("span",{className:"text-gray-500",children:["Grade: ",A.grade]}),A.size&&t.jsxs("span",{className:"text-gray-500",children:["Size: ",A.size]})]}),t.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(Pt,{className:"w-4 h-4 text-gray-400"}),t.jsxs("span",{className:"text-gray-600",children:[v," shops"]})]}),t.jsxs("div",{className:`flex items-center space-x-1 ${$?"text-green-600":"text-red-500"}`,children:[t.jsx("div",{className:`w-2 h-2 rounded-full ${$?"bg-green-500":"bg-red-500"}`}),t.jsx("span",{className:"text-xs font-medium",children:$?"In Stock":"Out of Stock"})]})]})]}),t.jsxs("div",{className:"flex-shrink-0 text-right ml-6",children:[Q?t.jsxs("div",{className:"mb-3",children:[t.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[Q.price.toFixed(2)," ",x]}),t.jsxs("div",{className:"text-sm text-gray-500",children:["per ",((_t=A.product)==null?void 0:_t.base_unit)||"unit"]}),((H=Q.shop)==null?void 0:H.verified)&&t.jsxs("div",{className:"flex items-center justify-end mt-1",children:[t.jsx(Ps,{className:"w-3 h-3 text-yellow-400 fill-current"}),t.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"Verified"})]})]}):t.jsx("div",{className:"text-gray-500 mb-3",children:"Price not available"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("div",{className:"flex items-center border border-gray-300 rounded",children:[t.jsx("button",{onClick:()=>D(A.id,-1),className:"p-1 hover:bg-gray-100 transition-colors",disabled:ie<=1,children:t.jsx(Kd,{className:"w-3 h-3"})}),t.jsx("span",{className:"px-2 py-1 text-sm font-medium min-w-[2rem] text-center",children:ie}),t.jsx("button",{onClick:()=>D(A.id,1),className:"p-1 hover:bg-gray-100 transition-colors",children:t.jsx(fs,{className:"w-3 h-3"})})]}),t.jsx("button",{onClick:()=>T(A.id),className:`p-2 rounded-lg border transition-all duration-200 ${K?"bg-blue-600 text-white border-blue-600":"border-gray-300 text-gray-600 hover:border-blue-500 hover:text-blue-600"}`,title:"Add to comparison",children:t.jsx(to,{className:"w-4 h-4"})}),m&&y.id&&t.jsx("button",{onClick:()=>q(A.id),className:"p-2 rounded-lg border border-green-300 text-green-600 hover:bg-green-50 transition-colors",title:"Add to BOM",children:t.jsx(aa,{className:"w-4 h-4"})}),t.jsx(Z,{to:`/product/${A.product_id}?variant=${A.id}`,className:"p-2 rounded-lg border border-gray-300 text-gray-600 hover:border-blue-500 hover:text-blue-600 transition-colors",title:"View details",children:t.jsx(cn,{className:"w-4 h-4"})})]})]})]})})]})})};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-16 z-10",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("form",{onSubmit:_,className:"flex-1 max-w-2xl",children:t.jsxs("div",{className:"relative",children:[t.jsx(bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t.jsx("input",{type:"text",value:c,onChange:A=>d(A.target.value),placeholder:"Search construction materials...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"}),c&&t.jsx("button",{type:"button",onClick:()=>d(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:t.jsx(dt,{className:"w-5 h-5"})})]})}),t.jsx("button",{onClick:()=>i(!a),className:`px-4 py-3 rounded-lg border transition-colors ${a?"bg-blue-600 text-white border-blue-600":"border-gray-300 text-gray-700 hover:border-blue-500"}`,children:t.jsx(wh,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[t.jsx("button",{onClick:()=>n("grid"),className:`p-3 transition-colors ${r==="grid"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:t.jsx(Zw,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>n("list"),className:`p-3 transition-colors ${r==="list"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:t.jsx(Xw,{className:"w-5 h-5"})})]})]}),(h.query||h.brand.length>0||h.category||h.price_min||h.price_max||h.in_stock!==null)&&t.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-4",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Filters:"}),h.query&&t.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:['Search: "',h.query,'"',t.jsx("button",{onClick:()=>L("query",""),className:"ml-2 hover:text-blue-900",children:t.jsx(dt,{className:"w-3 h-3"})})]}),h.brand.map(A=>t.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800",children:["Brand: ",A,t.jsx("button",{onClick:()=>L("brand",h.brand.filter(M=>M!==A)),className:"ml-2 hover:text-green-900",children:t.jsx(dt,{className:"w-3 h-3"})})]},A)),h.category&&t.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800",children:["Category: ",h.category,t.jsx("button",{onClick:()=>L("category",""),className:"ml-2 hover:text-purple-900",children:t.jsx(dt,{className:"w-3 h-3"})})]}),(h.price_min||h.price_max)&&t.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-yellow-100 text-yellow-800",children:["Price: ",h.price_min||0," - ",h.price_max||""," ",x,t.jsx("button",{onClick:()=>{L("price_min",null),L("price_max",null)},className:"ml-2 hover:text-yellow-900",children:t.jsx(dt,{className:"w-3 h-3"})})]}),h.in_stock!==null&&t.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-red-100 text-red-800",children:[h.in_stock?"In Stock Only":"Include Out of Stock",t.jsx("button",{onClick:()=>L("in_stock",null),className:"ml-2 hover:text-red-900",children:t.jsx(dt,{className:"w-3 h-3"})})]}),t.jsx("button",{onClick:()=>{s({}),d("")},className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Clear all"})]})]})}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:t.jsxs("div",{className:"flex gap-6",children:[a&&t.jsx("div",{className:"w-80 flex-shrink-0",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 sticky top-32",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filters"}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),t.jsxs("select",{value:h.category,onChange:A=>L("category",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"All Categories"}),t.jsx("option",{value:"cement",children:"Cement"}),t.jsx("option",{value:"steel",children:"Steel"}),t.jsx("option",{value:"concrete",children:"Concrete"}),t.jsx("option",{value:"bricks",children:"Bricks"}),t.jsx("option",{value:"paint",children:"Paint"}),t.jsx("option",{value:"tiles",children:"Tiles"})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Price Range (",x,")"]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("input",{type:"number",placeholder:"Min",value:h.price_min||"",onChange:A=>L("price_min",A.target.value?Number(A.target.value):null),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("input",{type:"number",placeholder:"Max",value:h.price_max||"",onChange:A=>L("price_max",A.target.value?Number(A.target.value):null),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Availability"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"radio",name:"stock",checked:h.in_stock===null,onChange:()=>L("in_stock",null),className:"mr-2"}),t.jsx("span",{className:"text-sm text-gray-700",children:"All products"})]}),t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"radio",name:"stock",checked:h.in_stock===!0,onChange:()=>L("in_stock",!0),className:"mr-2"}),t.jsx("span",{className:"text-sm text-gray-700",children:"In stock only"})]})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort by"}),t.jsxs("select",{value:h.sort,onChange:A=>L("sort",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"relevance",children:"Relevance"}),t.jsx("option",{value:"price_asc",children:"Price: Low to High"}),t.jsx("option",{value:"price_desc",children:"Price: High to Low"}),t.jsx("option",{value:"rating",children:"Customer Rating"}),t.jsx("option",{value:"distance",children:"Distance"})]})]}),f.coordinates&&t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Radius (km)"}),t.jsx("input",{type:"range",min:"1",max:"50",value:h.radius,onChange:A=>L("radius",Number(A.target.value)),className:"w-full"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[t.jsx("span",{children:"1 km"}),t.jsxs("span",{children:[h.radius," km"]}),t.jsx("span",{children:"50 km"})]})]})]})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:h.query?`Search Results for "${h.query}"`:"All Products"}),p.data&&t.jsxs("span",{className:"text-gray-500",children:["(",p.data.total||0," products)"]})]}),j.length>0&&t.jsxs(Z,{to:"/compare",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[t.jsx(to,{className:"w-4 h-4"}),t.jsxs("span",{children:["Compare (",j.length,")"]})]})]}),p.isLoading&&t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsxs("div",{className:"flex items-center space-x-3 text-gray-600",children:[t.jsx(St,{className:"w-6 h-6 animate-spin"}),t.jsx("span",{children:"Searching products..."})]})}),p.isError&&t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[t.jsx(ts,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"Search Failed"}),t.jsx("p",{className:"text-red-700 mb-4",children:"We couldn't load the search results. Please try again."}),t.jsx("button",{onClick:()=>p.refetch(),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]}),p.data&&(!p.data.variants||p.data.variants.length===0)&&t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-12 text-center",children:[t.jsx(bs,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No products found"}),t.jsx("p",{className:"text-gray-600 mb-6",children:h.query?`No products match your search for "${h.query}"`:"No products match your current filters"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Try:"}),t.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[t.jsx("li",{children:" Checking your spelling"}),t.jsx("li",{children:" Using fewer or different keywords"}),t.jsx("li",{children:" Removing some filters"}),t.jsx("li",{children:" Browsing categories instead"})]})]}),t.jsx(Z,{to:"/categories",className:"inline-block mt-6 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Categories"})]}),((O=p.data)==null?void 0:O.variants)&&p.data.variants.length>0&&t.jsx("div",{className:r==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:p.data.variants.map(A=>t.jsx(U,{variant:A,isGridView:r==="grid"},A.id))}),((N=p.data)==null?void 0:N.variants)&&p.data.variants.length>0&&t.jsx("div",{className:"mt-12 text-center",children:t.jsx("button",{className:"bg-gray-100 text-gray-700 px-8 py-3 rounded-lg hover:bg-gray-200 transition-colors",children:"Load More Products"})})]})]})})]})})},c5=()=>{var A,M,Q;const{product_id:e}=lh(),[s]=at(),r=s.get("quantity"),n=s.get("shop_id"),[a,i]=u.useState(r?parseInt(r):1),[l,o]=u.useState(""),[c,d]=u.useState(0),[m,f]=u.useState("overview"),x=W(v=>v.authentication_state.authentication_status.is_authenticated),j=W(v=>v.current_bom),y=W(v=>v.active_comparison),b=W(v=>v.user_location),w=W(v=>v.app_preferences.currency),g=W(v=>v.add_bom_item),h=W(v=>v.create_bom),p=W(v=>v.add_to_comparison),k="https://123construction-shop-finder.launchpulse.ai",{data:E,isLoading:I,error:_}=ce({queryKey:["product",e,a,b==null?void 0:b.coordinates],queryFn:async()=>{if(!e)throw new Error("Product ID is required");const v=new URLSearchParams({quantity:a.toString(),radius:"10"});return b!=null&&b.coordinates&&(v.append("location_lat",b.coordinates.lat.toString()),v.append("location_lng",b.coordinates.lng.toString())),n&&v.append("shop_id",n),(await Y.get(`${k}/api/products/${e}?${v.toString()}`)).data},enabled:!!e,staleTime:5*60*1e3,select:v=>({...v,variants:v.variants.map($=>{var K;return{...$,prices:((K=$.prices)==null?void 0:K.map(ie=>({...ie,price:Number(ie.price||0),price_per_base_unit:Number(ie.price_per_base_unit||0)})))||[]}})})}),{data:L,isLoading:T}=ce({queryKey:["reviews",l],queryFn:async()=>l?(await Y.get(`${k}/api/reviews?variant_id=${l}&limit=20&sort_by=created_at&sort_order=desc`)).data:{reviews:[],rating_summary:{}},enabled:!!l,staleTime:2*60*1e3});u.useEffect(()=>{var v;(v=E==null?void 0:E.variants)!=null&&v.length&&!l&&o(E.variants[0].id)},[E==null?void 0:E.variants,l]);const q=async()=>{if(!(!l||!x))try{j.id||await h({title:`Project with ${E==null?void 0:E.canonical_name}`,description:"Auto-created from product details"}),await g({variant_id:l,quantity:a,unit:(E==null?void 0:E.base_unit)||"piece",waste_factor:(E==null?void 0:E.waste_factor_percentage)||0})}catch(v){console.error("Failed to add to BOM:",v)}},D=()=>{l&&p(l)},R=(A=E==null?void 0:E.variants)==null?void 0:A.find(v=>v.id===l),G=[...(R==null?void 0:R.prices)||[]].filter(v=>v.shop).sort((v,$)=>{var K,ie,fe,ve;return(K=v.inventory)!=null&&K.in_stock&&!((ie=$.inventory)!=null&&ie.in_stock)?-1:!((fe=v.inventory)!=null&&fe.in_stock)&&((ve=$.inventory)!=null&&ve.in_stock)?1:v.price_per_base_unit-$.price_per_base_unit}),U=G[0],P=U?U.price_per_base_unit*a:0,C=Math.max(...G.map(v=>v.price_per_base_unit)),S=U&&C>U.price_per_base_unit?(C-U.price_per_base_unit)*a:0,z=["","",...G.slice(0,3).map(()=>"").filter(Boolean)||[]].filter(Boolean),O=()=>{d(v=>(v+1)%z.length)},N=()=>{d(v=>(v-1+z.length)%z.length)};return I?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-6 bg-gray-300 rounded w-1/3 mb-4"}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[t.jsx("div",{className:"aspect-square bg-gray-300 rounded-lg"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"h-8 bg-gray-300 rounded w-3/4"}),t.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"}),t.jsx("div",{className:"h-6 bg-gray-300 rounded w-1/4"})]})]})]})})})}):_||!E?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"text-center",children:[t.jsx(ts,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Product Not Found"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"The product you're looking for doesn't exist or has been removed."}),t.jsx(Z,{to:"/search",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Back to Search"})]})})})}):t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white border-b border-gray-200",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:t.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[t.jsx(Z,{to:"/",className:"hover:text-gray-700",children:"Home"}),t.jsx("span",{children:"/"}),t.jsx(Z,{to:"/categories",className:"hover:text-gray-700",children:"Categories"}),t.jsx("span",{children:"/"}),t.jsx(Z,{to:`/categories/${E.category_id}`,className:"hover:text-gray-700",children:E.subcategory||"Products"}),t.jsx("span",{children:"/"}),t.jsx("span",{className:"text-gray-900 font-medium",children:E.canonical_name})]})})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"relative aspect-square bg-white rounded-xl shadow-lg overflow-hidden",children:z.length>0?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:z[c],alt:E.canonical_name,className:"w-full h-full object-cover"}),z.length>1&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:N,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/90 hover:bg-white p-2 rounded-full shadow-lg transition-all duration-200",children:t.jsx(Og,{className:"w-5 h-5 text-gray-700"})}),t.jsx("button",{onClick:O,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/90 hover:bg-white p-2 rounded-full shadow-lg transition-all duration-200",children:t.jsx(jh,{className:"w-5 h-5 text-gray-700"})})]})]}):t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:t.jsx("span",{className:"text-gray-400",children:"No Image Available"})})}),z.length>1&&t.jsx("div",{className:"grid grid-cols-4 gap-2",children:z.slice(0,4).map((v,$)=>t.jsx("button",{onClick:()=>d($),className:`aspect-square rounded-lg overflow-hidden border-2 transition-all duration-200 ${c===$?"border-blue-500 ring-2 ring-blue-100":"border-gray-200 hover:border-gray-300"}`,children:t.jsx("img",{src:v,alt:`${E.canonical_name} ${$+1}`,className:"w-full h-full object-cover"})},$))})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 leading-tight mb-2",children:E.canonical_name}),(R==null?void 0:R.brand)&&t.jsxs("p",{className:"text-lg text-gray-600 mb-2",children:["Brand: ",t.jsx("span",{className:"font-semibold",children:R.brand})]}),(R==null?void 0:R.grade)&&t.jsxs("p",{className:"text-base text-gray-500",children:["Grade: ",R.grade]})]}),E.variants.length>1&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Variants"}),t.jsx("select",{value:l,onChange:v=>o(v.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-4 focus:ring-blue-100 focus:border-blue-500",children:E.variants.map(v=>t.jsxs("option",{value:v.id,children:[[v.brand,v.grade,v.size].filter(Boolean).join(" - "),v.pack_quantity&&` (${v.pack_quantity} ${v.pack_unit})`]},v.id))})]}),U&&t.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-xl p-6 border border-blue-100",children:[t.jsxs("div",{className:"flex items-baseline space-x-2 mb-2",children:[t.jsxs("span",{className:"text-3xl font-bold text-blue-700",children:[U.price_per_base_unit.toFixed(2)," ",w]}),t.jsxs("span",{className:"text-lg text-gray-600",children:["per ",E.base_unit]})]}),U.promotional_price&&t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsxs("span",{className:"text-lg text-gray-500 line-through",children:[U.price.toFixed(2)," ",w]}),t.jsx("span",{className:"bg-red-100 text-red-700 text-xs px-2 py-1 rounded-full font-medium",children:"SALE"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(rs,{className:"w-4 h-4 text-green-600"}),t.jsxs("span",{className:"text-sm text-green-700 font-medium",children:["Best Price from ",U.shop.name]})]}),S>0&&t.jsxs("span",{className:"text-sm text-green-600 font-medium",children:["Save ",S.toFixed(2)," ",w]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Quantity Needed"}),t.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[t.jsx("button",{onClick:()=>i(Math.max(1,a-1)),className:"w-10 h-10 rounded-lg border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors",children:"-"}),t.jsx("input",{type:"number",min:"1",value:a,onChange:v=>i(Math.max(1,parseInt(v.target.value)||1)),className:"w-20 text-center py-2 border border-gray-300 rounded-lg focus:ring-4 focus:ring-blue-100 focus:border-blue-500"}),t.jsx("button",{onClick:()=>i(a+1),className:"w-10 h-10 rounded-lg border border-gray-300 flex items-center justify-center hover:bg-gray-50 transition-colors",children:"+"}),t.jsxs("span",{className:"text-gray-600",children:[E.base_unit,"(s)"]})]}),E.waste_factor_percentage>0&&t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Yd,{className:"w-4 h-4 text-yellow-600"}),t.jsxs("span",{className:"text-sm text-yellow-800",children:["Includes ",E.waste_factor_percentage,"% waste factor"]})]}),t.jsxs("p",{className:"text-xs text-yellow-700 mt-1",children:["Total needed: ",(a*(1+E.waste_factor_percentage/100)).toFixed(2)," ",E.base_unit,"(s)"]})]}),P>0&&t.jsx("div",{className:"border-t border-gray-200 pt-4",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total Estimated Cost:"}),t.jsxs("span",{className:"text-2xl font-bold text-blue-700",children:[P.toFixed(2)," ",w]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("button",{onClick:q,disabled:!x||!l,className:"flex items-center justify-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[t.jsx(fs,{className:"w-5 h-5"}),t.jsx("span",{children:"Add to BOM"}),j.item_count>0&&t.jsx("span",{className:"bg-blue-500 text-white text-xs px-2 py-1 rounded-full",children:j.item_count})]}),t.jsxs("button",{onClick:D,disabled:!l,className:"flex items-center justify-center space-x-2 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 focus:ring-4 focus:ring-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[t.jsx(Dw,{className:"w-5 h-5"}),t.jsx("span",{children:"Compare"}),y.product_ids.length>0&&t.jsx("span",{className:"bg-gray-500 text-white text-xs px-2 py-1 rounded-full",children:y.product_ids.length})]})]}),x&&t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs(Z,{to:`/rfq?product_id=${e}&variant_id=${l}&quantity=${a}`,className:"flex items-center justify-center space-x-2 px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 focus:ring-4 focus:ring-green-100 transition-all duration-200",children:[t.jsx(Ks,{className:"w-5 h-5"}),t.jsx("span",{children:"Request Quote"})]}),t.jsxs("button",{className:"flex items-center justify-center space-x-2 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 focus:ring-4 focus:ring-gray-100 transition-all duration-200",children:[t.jsx(qg,{className:"w-5 h-5"}),t.jsx("span",{children:"Save"})]})]})]})]}),t.jsx("div",{className:"mb-8",children:t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[{id:"overview",name:"Overview & Pricing",icon:aa},{id:"specifications",name:"Specifications",icon:ts},{id:"reviews",name:"Reviews & Ratings",icon:Ps}].map(v=>t.jsxs("button",{onClick:()=>f(v.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${m===v.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[t.jsx(v.icon,{className:"w-4 h-4"}),t.jsx("span",{children:v.name})]},v.id))})})}),m==="overview"&&t.jsx("div",{className:"space-y-8",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[t.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:t.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Shop Comparison (",G.length," shops available)"]})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shop"}),t.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:["Price per ",E.base_unit]}),t.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:["Total (",a," ",E.base_unit,"s)"]}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Distance"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:G.map((v,$)=>{var K,ie,fe;return t.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${$===0?"bg-blue-50 border-l-4 border-blue-500":""} ${n===v.shop.id?"bg-yellow-50 border-l-4 border-yellow-500":""}`,children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsx("div",{className:"flex items-center space-x-3",children:t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-sm font-medium text-gray-900",children:v.shop.name}),v.shop.verified&&t.jsx(rs,{className:"w-4 h-4 text-green-500"}),$===0&&t.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full font-medium",children:"Best Price"})]}),t.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[t.jsx("div",{className:"flex items-center",children:[...Array(5)].map((ve,_t)=>t.jsx(Ps,{className:`w-3 h-3 ${_t<Math.floor(v.shop.rating_average)?"text-yellow-400 fill-current":"text-gray-300"}`},_t))}),t.jsxs("span",{className:"text-xs text-gray-500",children:["(",v.shop.rating_average.toFixed(1),")"]})]})]})})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[v.price_per_base_unit.toFixed(2)," ",w]}),v.promotional_price&&t.jsxs("div",{className:"text-xs text-green-600",children:["Sale: ",v.promotional_price.toFixed(2)," ",w]})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[(v.price_per_base_unit*a).toFixed(2)," ",w]})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${(K=v.inventory)!=null&&K.in_stock?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:(ie=v.inventory)!=null&&ie.in_stock?"In Stock":"Out of Stock"}),((fe=v.inventory)==null?void 0:fe.lead_time_days)&&v.inventory.lead_time_days>0&&t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Lead time: ",v.inventory.lead_time_days," days"]})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.distance_km?t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(Pt,{className:"w-3 h-3 text-gray-400"}),t.jsxs("span",{className:"text-sm text-gray-600",children:[v.distance_km.toFixed(1)," km"]})]}):t.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[v.shop.phones.length>0&&t.jsx("a",{href:`tel:${v.shop.phones[0]}`,className:"text-blue-600 hover:text-blue-700 p-1 rounded transition-colors",title:"Call shop",children:t.jsx(zg,{className:"w-4 h-4"})}),t.jsx(Z,{to:`/map?shop_id=${v.shop.id}&lat=${v.shop.location_lat}&lng=${v.shop.location_lng}`,className:"text-gray-600 hover:text-gray-700 p-1 rounded transition-colors",title:"View on map",children:t.jsx(Pt,{className:"w-4 h-4"})}),t.jsx(Z,{to:`/shops/${v.shop.id}`,className:"text-gray-600 hover:text-gray-700 p-1 rounded transition-colors",title:"Shop details",children:t.jsx(Ww,{className:"w-4 h-4"})})]})})]},v.id)})})]})}),G.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(ts,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Prices Available"}),t.jsx("p",{className:"text-gray-500",children:"No shops have pricing information for this product yet."})]})]})}),m==="specifications"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Technical Specifications"}),E.description&&t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Description"}),t.jsx("p",{className:"text-gray-600 leading-relaxed",children:E.description})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-4",children:"Product Details"}),t.jsxs("dl",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[t.jsx("dt",{className:"text-sm text-gray-600",children:"Base Unit"}),t.jsx("dd",{className:"text-sm font-medium text-gray-900",children:E.base_unit})]}),(R==null?void 0:R.brand)&&t.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[t.jsx("dt",{className:"text-sm text-gray-600",children:"Brand"}),t.jsx("dd",{className:"text-sm font-medium text-gray-900",children:R.brand})]}),(R==null?void 0:R.grade)&&t.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[t.jsx("dt",{className:"text-sm text-gray-600",children:"Grade"}),t.jsx("dd",{className:"text-sm font-medium text-gray-900",children:R.grade})]}),(R==null?void 0:R.size)&&t.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[t.jsx("dt",{className:"text-sm text-gray-600",children:"Size"}),t.jsx("dd",{className:"text-sm font-medium text-gray-900",children:R.size})]}),(R==null?void 0:R.pack_quantity)&&t.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[t.jsx("dt",{className:"text-sm text-gray-600",children:"Pack Size"}),t.jsxs("dd",{className:"text-sm font-medium text-gray-900",children:[R.pack_quantity," ",R.pack_unit]})]}),E.waste_factor_percentage>0&&t.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[t.jsx("dt",{className:"text-sm text-gray-600",children:"Waste Factor"}),t.jsxs("dd",{className:"text-sm font-medium text-gray-900",children:[E.waste_factor_percentage,"%"]})]})]})]}),(E.specifications||(R==null?void 0:R.specifications))&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-4",children:"Technical Specifications"}),t.jsx("dl",{className:"space-y-3",children:Object.entries({...E.specifications||{},...(R==null?void 0:R.specifications)||{}}).map(([v,$])=>t.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[t.jsx("dt",{className:"text-sm text-gray-600 capitalize",children:v.replace(/_/g," ")}),t.jsx("dd",{className:"text-sm font-medium text-gray-900",children:typeof $=="string"?$:JSON.stringify($)})]},v))})]})]}),(R==null?void 0:R.sku)&&t.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"SKU"}),t.jsx("span",{className:"text-sm font-mono text-gray-900 bg-gray-100 px-2 py-1 rounded",children:R.sku})]})})]}),m==="reviews"&&t.jsxs("div",{className:"space-y-8",children:[(L==null?void 0:L.rating_summary)&&t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Customer Reviews"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:((M=L.rating_summary.average_rating)==null?void 0:M.toFixed(1))||"0.0"}),t.jsx("div",{className:"flex items-center justify-center mb-2",children:[...Array(5)].map((v,$)=>t.jsx(Ps,{className:`w-5 h-5 ${$<Math.floor(L.rating_summary.average_rating||0)?"text-yellow-400 fill-current":"text-gray-300"}`},$))}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Based on ",L.rating_summary.total_reviews||0," reviews"]})]}),t.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(v=>{var $,K;return t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("span",{className:"text-sm text-gray-600 w-8",children:[v,""]}),t.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${((($=L.rating_summary.rating_distribution)==null?void 0:$[v])||0)/(L.rating_summary.total_reviews||1)*100}%`}})}),t.jsx("span",{className:"text-sm text-gray-600 w-8",children:((K=L.rating_summary.rating_distribution)==null?void 0:K[v])||0})]},v)})})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200",children:[t.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:t.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"All Reviews"})}),T?t.jsx("div",{className:"p-6",children:t.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(3)].map((v,$)=>t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/4"}),t.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),t.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]},$))})}):((Q=L==null?void 0:L.reviews)==null?void 0:Q.length)>0?t.jsx("div",{className:"divide-y divide-gray-200",children:L.reviews.map(v=>{var $,K,ie;return t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-sm font-medium text-gray-600",children:((K=($=v.user)==null?void 0:$.name)==null?void 0:K.charAt(0).toUpperCase())||"U"})})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("h5",{className:"text-sm font-medium text-gray-900",children:((ie=v.user)==null?void 0:ie.name)||"Anonymous User"}),v.verified_purchase&&t.jsx("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Verified Purchase"}),t.jsx("span",{className:"text-xs text-gray-500",children:new Date(v.created_at).toLocaleDateString()})]}),t.jsx("div",{className:"flex items-center mb-2",children:[...Array(5)].map((fe,ve)=>t.jsx(Ps,{className:`w-4 h-4 ${ve<v.rating?"text-yellow-400 fill-current":"text-gray-300"}`},ve))}),v.review_text&&t.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:v.review_text}),t.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[t.jsxs("button",{className:"hover:text-gray-700",children:["Helpful (",v.helpful_votes,")"]}),t.jsx("span",{children:""}),t.jsx("button",{className:"hover:text-gray-700",children:"Report"})]})]})]})},v.id)})}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Ps,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Reviews Yet"}),t.jsx("p",{className:"text-gray-500",children:"Be the first to review this product and help other buyers make informed decisions."})]})]})]}),!x&&t.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-xl p-8 text-center text-white",children:[t.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Get Full Access"}),t.jsx("p",{className:"text-blue-100 mb-6 max-w-2xl mx-auto",children:"Create an account to add products to your BOM, request quotes from suppliers, and access advanced comparison tools."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsx(Z,{to:"/register?redirect_to=/product",className:"px-8 py-3 bg-white text-blue-600 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"Create Account"}),t.jsx(Z,{to:"/login?redirect_to=/product",className:"px-8 py-3 border border-white text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Sign In"})]})]})]})]})})};function d5({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{d:"M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z"}))}const u5=u.forwardRef(d5);function h5({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const m5=u.forwardRef(h5);function x5({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const X0=u.forwardRef(x5);function p5({title:e,titleId:s,...r},n){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),e?u.createElement("title",{id:s},e):null,u.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const Fr=u.forwardRef(p5),f5=()=>{const[e]=at(),s=Xe(),r=W(P=>P.authentication_state.current_user),n=W(P=>P.authentication_state.auth_token),a=W(P=>P.current_bom),i=W(P=>P.user_location),[l,o]=u.useState([]),[c,d]=u.useState([]),[m,f]=u.useState({}),[x,j]=u.useState(!1),[y,b]=u.useState({}),[w,g]=u.useState(!1);u.useEffect(()=>{const P=e.get("product_ids"),C=e.get("shop_ids"),S=e.get("quantity"),z=e.get("include_delivery"),O=e.get("waste_factor");if(P){const N=P.split(",").filter(Boolean);o(N);const A=S?parseFloat(S):1,M={};if(N.forEach(Q=>{M[Q]=A}),f(M),O){const Q=parseFloat(O),v={};N.forEach($=>{v[$]=Q}),b(v)}}C&&d(C.split(",").filter(Boolean)),j(z==="true")},[e]);const{data:h,isLoading:p,error:k,refetch:E}=ce({queryKey:["comparison",l,c,m,x,y,i==null?void 0:i.coordinates],queryFn:async()=>{if(l.length===0)return{comparison:[],optimization:{cheapest_single_shop:null,optimized_multi_shop:[],total_savings:0}};const P=new URLSearchParams;P.append("variant_ids",l.join(",")),c.length>0&&P.append("shop_ids",c.join(","));const C=Object.values(m)[0]||1;P.append("quantity",C.toString()),P.append("include_delivery",x.toString());const S=Object.values(y)[0]||0;return S>0&&P.append("waste_factor",S.toString()),i!=null&&i.coordinates&&(P.append("location_lat",i.coordinates.lat.toString()),P.append("location_lng",i.coordinates.lng.toString())),(await Y.get(`https://123construction-shop-finder.launchpulse.ai/api/prices/compare?${P}`,n?{headers:{Authorization:`Bearer ${n}`}}:{})).data},enabled:l.length>0,staleTime:5*60*1e3,refetchOnWindowFocus:!1,retry:1}),I=xe({mutationFn:async({variantId:P,quantity:C,unit:S,wasteFactor:z})=>{if(!a.id||!n)throw new Error("No active BOM or authentication required");return(await Y.post(`https://123construction-shop-finder.launchpulse.ai/api/boms/${a.id}/items`,{variant_id:P,quantity:C,unit:S,waste_factor:z},{headers:{Authorization:`Bearer ${n}`}})).data},onSuccess:()=>{s.invalidateQueries({queryKey:["bom",a.id]})}}),_=xe({mutationFn:async({title:P,description:C,priority:S})=>{if(!a.id||!n)throw new Error("No active BOM or authentication required");return(await Y.post("https://123construction-shop-finder.launchpulse.ai/api/rfqs",{bom_id:a.id,title:P,description:C,priority:S},{headers:{Authorization:`Bearer ${n}`}})).data},onSuccess:()=>{s.invalidateQueries({queryKey:["rfqs"]})}}),L=u.useCallback((P,C)=>{f(S=>({...S,[P]:Math.max(1,C)}))},[]),T=u.useCallback((P,C)=>{b(S=>({...S,[P]:Math.max(0,Math.min(100,C))}))},[]),q=u.useCallback(P=>{d(C=>C.includes(P)?C.filter(S=>S!==P):[...C,P])},[]),D=u.useMemo(()=>{if(!(h!=null&&h.comparison))return[];const P=new Map;return h.comparison.forEach(C=>{C.shop_prices.forEach(S=>{P.set(S.shop.id,S.shop)})}),Array.from(P.values()).sort((C,S)=>C.name.localeCompare(S.name))},[h]),R=u.useMemo(()=>{if(!(h!=null&&h.comparison))return new Map;const P=new Map;return h.comparison.forEach(C=>{const S=C.variant.id,z=C.shop_prices.filter(O=>O.inventory.in_stock).map(O=>O.total_price);z.length>0&&P.set(S,Math.min(...z))}),P},[h]),B=async P=>{var C;try{const S=(C=h==null?void 0:h.comparison.find(z=>z.variant.id===P))==null?void 0:C.variant;if(!S)return;await I.mutateAsync({variantId:P,quantity:m[P]||1,unit:S.pack_unit||"piece",wasteFactor:y[P]||0})}catch(S){console.error("Failed to add to BOM:",S)}},G=async()=>{try{await _.mutateAsync({title:`RFQ for Comparison Items - ${new Date().toLocaleDateString()}`,description:`Request for quote including ${l.length} products from comparison table.`,priority:"medium"})}catch(P){console.error("Failed to send RFQ:",P)}},U=(P,C,S)=>{if(!S)return"bg-red-50 text-red-900 border-red-200";const z=R.get(P);return z&&C===z?"bg-green-50 text-green-900 border-green-200":z&&C>z*1.2?"bg-amber-50 text-amber-900 border-amber-200":"bg-white text-gray-900 border-gray-200"};return l.length===0?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"max-w-md mx-auto text-center",children:[t.jsx(ru,{className:"mx-auto h-12 w-12 text-gray-400"}),t.jsx("h3",{className:"mt-2 text-sm font-semibold text-gray-900",children:"No products to compare"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start by adding products to your comparison from the search results."}),t.jsx("div",{className:"mt-6",children:t.jsxs(Z,{to:"/search",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[t.jsx(iu,{className:"-ml-1 mr-2 h-5 w-5"}),"Browse Products"]})})]})})}):t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white shadow",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex justify-between items-center py-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Price Comparison"}),t.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Comparing ",l.length," products across ",D.length," shops"]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("button",{onClick:()=>g(!w),className:`inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium ${w?"text-blue-700 bg-blue-100 hover:bg-blue-200":"text-gray-700 bg-white hover:bg-gray-50"} border-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500`,children:[w?t.jsx(u5,{className:"h-5 w-5 mr-2"}):t.jsx(ru,{className:"h-5 w-5 mr-2"}),"Optimization"]}),t.jsxs("button",{onClick:()=>E(),disabled:p,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[t.jsx(Ka,{className:`h-5 w-5 mr-2 ${p?"animate-spin":""}`}),"Refresh"]})]})]})})}),t.jsx("div",{className:"bg-white border-b border-gray-200",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(Kg,{className:"h-5 w-5 text-gray-400 mr-2"}),t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",checked:x,onChange:P=>j(P.target.checked),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),t.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Include delivery costs"})]})]}),a.id&&t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(_c,{className:"h-5 w-5 text-gray-400"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Active BOM:"}),t.jsx("span",{className:"text-sm font-medium text-blue-600",children:a.title})]}),r&&t.jsx("div",{className:"flex items-center space-x-2",children:t.jsxs("button",{onClick:G,disabled:_.isPending||!a.id,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[t.jsx(Wg,{className:"h-4 w-4 mr-1"}),"Send RFQ"]})})]})})}),w&&(h==null?void 0:h.optimization)&&t.jsx("div",{className:"bg-blue-50 border-b border-blue-200",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[t.jsx("h3",{className:"text-lg font-medium text-blue-900 mb-4",children:"Purchase Optimization"}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.optimization.cheapest_single_shop&&t.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Cheapest Single Shop"}),t.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[h.optimization.cheapest_single_shop.total_cost.toFixed(2)," AED"]}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Shop ID: ",h.optimization.cheapest_single_shop.shop_id]})]}),h.optimization.total_savings>0&&t.jsxs("div",{className:"bg-white rounded-lg p-4 border border-blue-200",children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Multi-Shop Savings"}),t.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[h.optimization.total_savings.toFixed(2)," AED"]}),t.jsx("p",{className:"text-sm text-gray-600",children:"Potential savings with multi-shop strategy"})]})]})]})}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:p?t.jsxs("div",{className:"flex items-center justify-center py-12",children:[t.jsx(Ka,{className:"h-8 w-8 animate-spin text-blue-600"}),t.jsx("span",{className:"ml-2 text-gray-600",children:"Loading comparison data..."})]}):k?t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:t.jsxs("div",{className:"flex",children:[t.jsx(Io,{className:"h-5 w-5 text-red-400"}),t.jsxs("div",{className:"ml-3",children:[t.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading comparison data"}),t.jsx("div",{className:"mt-2 text-sm text-red-700",children:k instanceof Error?k.message:"An unexpected error occurred"})]})]})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden lg:block",children:t.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"sticky left-0 z-10 bg-gray-50 px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider border-r border-gray-200",children:"Product"}),t.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),t.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Waste %"}),D.map(P=>t.jsx("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[160px]",children:t.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[t.jsx("button",{onClick:()=>q(P.id),className:`p-1 rounded ${c.includes(P.id)?"text-blue-600 hover:text-blue-700":"text-gray-400 hover:text-gray-600"}`,children:c.includes(P.id)?t.jsx("span",{className:"h-4 w-4",children:""}):t.jsx("span",{className:"h-4 w-4"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:P.name}),t.jsxs("div",{className:"flex items-center justify-center text-xs text-gray-500",children:[P.verified&&t.jsx(cr,{className:"h-3 w-3 text-green-500 mr-1"})," ",P.rating_average.toFixed(1)]})]})]})},P.id)),t.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h==null?void 0:h.comparison.map(P=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"sticky left-0 z-10 bg-white px-6 py-4 border-r border-gray-200",children:t.jsxs("div",{className:"flex items-center",children:[P.variant.image_url&&t.jsx("img",{className:"h-10 w-10 rounded-lg object-cover mr-3",src:P.variant.image_url,alt:P.product.canonical_name}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.product.canonical_name}),t.jsxs("div",{className:"text-sm text-gray-500",children:[P.variant.brand&&`${P.variant.brand}  `,P.variant.grade&&`${P.variant.grade}  `,P.variant.size]}),P.variant.pack_quantity&&t.jsxs("div",{className:"text-xs text-gray-400",children:[P.variant.pack_quantity," ",P.variant.pack_unit]})]})]})}),t.jsx("td",{className:"px-3 py-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"number",min:"1",step:"1",value:m[P.variant.id]||1,onChange:C=>L(P.variant.id,parseFloat(C.target.value)||1),className:"w-20 px-2 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("span",{className:"text-xs text-gray-500",children:P.variant.pack_unit||"pcs"})]})}),t.jsx("td",{className:"px-3 py-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"number",min:"0",max:"100",step:"1",value:y[P.variant.id]||0,onChange:C=>T(P.variant.id,parseFloat(C.target.value)||0),className:"w-16 px-2 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx(Z_,{className:"h-4 w-4 text-gray-400"})]})}),D.map(C=>{const S=P.shop_prices.find(N=>N.shop.id===C.id);if(!S)return t.jsx("td",{className:"px-3 py-4 text-center",children:t.jsx("div",{className:"text-sm text-gray-400",children:"Not available"})},C.id);const z=(m[P.variant.id]||1)*(1+(y[P.variant.id]||0)/100),O=S.price.price_per_base_unit*z+(x?S.delivery_fee:0);return t.jsx("td",{className:"px-3 py-4",children:t.jsxs("div",{className:`p-3 rounded-lg border ${U(P.variant.id,O,S.inventory.in_stock)}`,children:[t.jsxs("div",{className:"text-lg font-semibold",children:[O.toFixed(2)," AED"]}),t.jsxs("div",{className:"text-xs text-gray-600",children:[S.price.price_per_base_unit.toFixed(2)," AED/unit"]}),x&&S.delivery_fee>0&&t.jsxs("div",{className:"text-xs text-gray-500",children:["+",S.delivery_fee.toFixed(2)," delivery"]}),t.jsx("div",{className:"mt-1 flex items-center justify-center",children:S.inventory.in_stock?t.jsxs("div",{className:"flex items-center text-green-600",children:[t.jsx(cr,{className:"h-3 w-3 mr-1"}),t.jsx("span",{className:"text-xs",children:"In Stock"})]}):t.jsxs("div",{className:"flex items-center text-red-600",children:[t.jsx(J0,{className:"h-3 w-3 mr-1"}),t.jsx("span",{className:"text-xs",children:"Out of Stock"})]})}),S.inventory.lead_time_days>0&&t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[S.inventory.lead_time_days," days lead time"]}),S.price.promotional_price&&t.jsxs("div",{className:"text-xs text-orange-600 mt-1",children:["Promotion: ",S.price.promotional_price.toFixed(2)," AED"]})]})},C.id)}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex flex-col space-y-2",children:[a.id&&t.jsxs("button",{onClick:()=>B(P.variant.id),disabled:I.isPending,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:[t.jsx(_c,{className:"h-3 w-3 mr-1"}),"Add to BOM"]}),t.jsx(Z,{to:`/product/${P.variant.product_id}`,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"View Details"})]})})]},P.variant.id))})]})})}),t.jsx("div",{className:"lg:hidden space-y-6",children:h==null?void 0:h.comparison.map(P=>t.jsxs("div",{className:"bg-white rounded-lg shadow",children:[t.jsxs("div",{className:"px-4 py-4 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center",children:[P.variant.image_url&&t.jsx("img",{className:"h-12 w-12 rounded-lg object-cover mr-3",src:P.variant.image_url,alt:P.product.canonical_name}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:P.product.canonical_name}),t.jsxs("p",{className:"text-sm text-gray-500",children:[P.variant.brand&&`${P.variant.brand}  `,P.variant.grade&&`${P.variant.grade}  `,P.variant.size]})]})]}),t.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"number",min:"1",step:"1",value:m[P.variant.id]||1,onChange:C=>L(P.variant.id,parseFloat(C.target.value)||1),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("span",{className:"text-sm text-gray-500",children:P.variant.pack_unit||"pcs"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Waste %"}),t.jsx("input",{type:"number",min:"0",max:"100",step:"1",value:y[P.variant.id]||0,onChange:C=>T(P.variant.id,parseFloat(C.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),t.jsx("div",{className:"p-4",children:t.jsx("div",{className:"space-y-3",children:P.shop_prices.map(C=>{const S=(m[P.variant.id]||1)*(1+(y[P.variant.id]||0)/100),z=C.price.price_per_base_unit*S+(x?C.delivery_fee:0);return t.jsxs("div",{className:`p-3 rounded-lg border ${U(P.variant.id,z,C.inventory.in_stock)}`,children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"font-medium text-gray-900",children:C.shop.name}),C.shop.verified&&t.jsx(cr,{className:"h-4 w-4 text-green-500 ml-1"}),t.jsx("button",{onClick:()=>q(C.shop.id),className:`ml-2 p-1 rounded ${c.includes(C.shop.id)?"text-blue-600 hover:text-blue-700":"text-gray-400 hover:text-gray-600"}`,children:c.includes(C.shop.id)?t.jsx("span",{className:"h-4 w-4",children:""}):t.jsx("span",{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"text-sm text-gray-500",children:[" ",C.shop.rating_average.toFixed(1),C.distance_km&&`  ${C.distance_km.toFixed(1)} km`]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[z.toFixed(2)," AED"]}),t.jsxs("div",{className:"text-sm text-gray-600",children:[C.price.price_per_base_unit.toFixed(2)," AED/unit"]})]})]}),t.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[C.inventory.in_stock?t.jsxs("div",{className:"flex items-center text-green-600",children:[t.jsx(cr,{className:"h-4 w-4 mr-1"}),t.jsx("span",{className:"text-sm",children:"In Stock"})]}):t.jsxs("div",{className:"flex items-center text-red-600",children:[t.jsx(J0,{className:"h-4 w-4 mr-1"}),t.jsx("span",{className:"text-sm",children:"Out of Stock"})]}),C.inventory.lead_time_days>0&&t.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:[C.inventory.lead_time_days," days"]})]}),x&&C.delivery_fee>0&&t.jsxs("span",{className:"text-sm text-gray-500",children:["+",C.delivery_fee.toFixed(2)," delivery"]})]})]},C.shop.id)})})}),t.jsx("div",{className:"px-4 py-3 bg-gray-50 rounded-b-lg",children:t.jsxs("div",{className:"flex space-x-2",children:[a.id&&t.jsxs("button",{onClick:()=>B(P.variant.id),disabled:I.isPending,className:"flex-1 inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:[t.jsx(_c,{className:"h-4 w-4 mr-2"}),"Add to BOM"]}),t.jsx(Z,{to:`/product/${P.variant.product_id}`,className:"flex-1 inline-flex items-center justify-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"View Details"})]})})]},P.variant.id))})]})})]})})},g5=()=>{const{bom_id:e}=lh(),[s]=at(),r=Xe(),n=W(R=>R.authentication_state.auth_token),a=W(R=>R.user_location),[i,l]=u.useState(!1),[o,c]=u.useState(""),[d,m]=u.useState(!1),[f,x]=u.useState(!1),[j,y]=u.useState(!0),b=s.get("template"),w=s.get("duplicate"),g="https://123construction-shop-finder.launchpulse.ai",{data:h,isLoading:p,error:k}=ce({queryKey:["bom",e],queryFn:async()=>{if(!e){const B={title:b?`${b} Project`:"New Project",description:"",project_type:b||null,template:b||null,duplicate_source_id:w||null,is_public:!1};return(await Y.post(`${g}/api/boms`,B,{headers:{Authorization:`Bearer ${n}`}})).data}return(await Y.get(`${g}/api/boms/${e}`,{headers:{Authorization:`Bearer ${n}`}})).data},enabled:!!n,staleTime:5*60*1e3}),{data:E,isLoading:I}=ce({queryKey:["bom-cost-analysis",h==null?void 0:h.id],queryFn:async()=>{if(!(h!=null&&h.id))return{total_cost:0,item_count:0,shop_breakdown:[],optimization_suggestions:{cheapest_single_shop:null,multi_shop_optimal:[]},missing_items:[]};const R=new URLSearchParams;return a.coordinates&&(R.append("location_lat",a.coordinates.lat.toString()),R.append("location_lng",a.coordinates.lng.toString())),R.append("include_delivery","true"),(await Y.get(`${g}/api/boms/${h.id}/cost-analysis?${R}`,{headers:{Authorization:`Bearer ${n}`}})).data},enabled:!!(h!=null&&h.id)&&!!n,staleTime:2*60*1e3}),_=xe({mutationFn:async R=>{if(!(h!=null&&h.id))throw new Error("No BOM selected");return(await Y.put(`${g}/api/boms/${h.id}`,R,{headers:{Authorization:`Bearer ${n}`}})).data},onSuccess:()=>{r.invalidateQueries({queryKey:["bom",e]})}}),L=xe({mutationFn:async R=>{if(!(h!=null&&h.id))throw new Error("No BOM selected");await Y.delete(`${g}/api/boms/${h.id}/items/${R}`,{headers:{Authorization:`Bearer ${n}`}})},onSuccess:()=>{r.invalidateQueries({queryKey:["bom",e]}),r.invalidateQueries({queryKey:["bom-cost-analysis",h==null?void 0:h.id]})}}),T=xe({mutationFn:async R=>{if(!(h!=null&&h.id))throw new Error("No BOM selected");return(await Y.post(`${g}/api/boms/${h.id}/share`,R,{headers:{Authorization:`Bearer ${n}`}})).data},onSuccess:()=>{r.invalidateQueries({queryKey:["bom",e]}),x(!1)}}),q=async()=>{i&&o.trim()&&o!==(h==null?void 0:h.title)&&await _.mutateAsync({title:o.trim()}),l(!1)},D=async R=>{window.confirm("Are you sure you want to remove this item?")&&await L.mutateAsync(R)};return u.useEffect(()=>{h!=null&&h.title&&c(h.title)},[h==null?void 0:h.title]),p?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading BOM..."})]})})}):k?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Io,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error Loading BOM"}),t.jsx("p",{className:"text-gray-600 mb-4",children:k instanceof Error?k.message:"Failed to load BOM"}),t.jsx(Z,{to:"/bom-library",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Back to BOM Library"})]})})}):h?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white shadow",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[i?t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("input",{type:"text",value:o,onChange:R=>c(R.target.value),onBlur:q,onKeyDown:R=>{R.key==="Enter"&&q(),R.key==="Escape"&&(c(h.title),l(!1))},className:"text-2xl font-bold text-gray-900 bg-transparent border-b-2 border-blue-500 focus:outline-none min-w-0 flex-1",autoFocus:!0}),t.jsx("button",{onClick:q,className:"text-green-600 hover:text-green-700",children:t.jsx(u_,{className:"h-5 w-5"})})]}):t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 truncate",children:h.title}),t.jsx("button",{onClick:()=>l(!0),className:"text-gray-400 hover:text-gray-600",children:t.jsx(Sl,{className:"h-5 w-5"})})]}),t.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-sm text-gray-500",children:[t.jsxs("span",{children:[h.item_count," ",h.item_count===1?"item":"items"]}),t.jsx("span",{children:""}),t.jsx("span",{children:E?`${E.total_cost.toFixed(2)} AED`:"Calculating..."}),t.jsx("span",{children:""}),t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${h.status==="draft"?"bg-gray-100 text-gray-800":h.status==="active"?"bg-blue-100 text-blue-800":h.status==="completed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:h.status})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("button",{onClick:()=>x(!0),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[t.jsx(mo,{className:"h-4 w-4 mr-2"}),"Share"]}),t.jsxs(Z,{to:`/compare?bom_id=${h.id}`,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[t.jsx(ru,{className:"h-4 w-4 mr-2"}),"Compare"]}),t.jsxs(Z,{to:`/trip?bom_id=${h.id}`,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[t.jsx(Kg,{className:"h-4 w-4 mr-2"}),"Plan Trip"]}),t.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[t.jsx(Dt,{className:"h-4 w-4 mr-2"}),"Add Item"]})]})]})})}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsx("div",{className:"lg:col-span-2",children:t.jsxs("div",{className:"bg-white shadow rounded-lg",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Materials List"})}),h.items&&h.items.length>0?t.jsx("div",{className:"divide-y divide-gray-200",children:h.items.map(R=>{var B;return t.jsxs("div",{className:"p-6 hover:bg-gray-50",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:((B=R.product)==null?void 0:B.canonical_name)||"Unknown Product"}),R.variant&&t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:[R.variant.brand,R.variant.grade,R.variant.size].filter(Boolean).join("  ")}),t.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm text-gray-500",children:[t.jsxs("span",{children:["Qty: ",R.quantity," ",R.unit]}),R.waste_factor>0&&t.jsxs("span",{children:["Waste: ",(R.waste_factor*100).toFixed(1),"%"]}),t.jsxs("span",{children:["Total: ",R.total_quantity_needed," ",R.unit]})]}),R.notes&&t.jsx("p",{className:"mt-2 text-sm text-gray-600 italic",children:R.notes})]}),t.jsxs("div",{className:"ml-4 flex items-center space-x-2",children:[t.jsxs("div",{className:"text-right",children:[R.estimated_price_per_unit&&t.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[R.estimated_price_per_unit.toFixed(2)," AED/",R.unit]}),R.total_estimated_cost&&t.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[R.total_estimated_cost.toFixed(2)," AED"]})]}),t.jsx("button",{onClick:()=>D(R.id),className:"text-red-400 hover:text-red-600",children:t.jsx(lu,{className:"h-5 w-5"})})]})]}),R.best_prices&&R.best_prices.length>0&&t.jsxs("div",{className:"mt-4 bg-gray-50 rounded-md p-3",children:[t.jsx("h5",{className:"text-xs font-medium text-gray-700 uppercase tracking-wide mb-2",children:"Best Prices"}),t.jsx("div",{className:"space-y-2",children:R.best_prices.slice(0,3).map((G,U)=>t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-gray-900",children:G.shop_name}),G.verified&&t.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:"Verified"})]}),t.jsxs("span",{className:"font-medium text-gray-900",children:[G.price.toFixed(2)," AED"]})]},U))})]})]},R.id)})}):t.jsxs("div",{className:"p-12 text-center",children:[t.jsx(ho,{className:"mx-auto h-12 w-12 text-gray-400"}),t.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No items yet"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding your first material."}),t.jsx("div",{className:"mt-6",children:t.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[t.jsx(Dt,{className:"h-4 w-4 mr-2"}),"Add First Item"]})})]})]})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Cost Analysis"}),t.jsx("button",{onClick:()=>y(!j),className:"text-gray-400 hover:text-gray-600",children:t.jsx(a_,{className:"h-5 w-5"})})]}),I?t.jsxs("div",{className:"text-center py-4",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Calculating costs..."})]}):E?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"text-3xl font-bold text-gray-900",children:[E.total_cost.toFixed(2)," AED"]}),t.jsx("p",{className:"text-sm text-gray-500",children:"Total estimated cost"})]}),E.shop_breakdown.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Shop Breakdown"}),t.jsx("div",{className:"space-y-2",children:E.shop_breakdown.slice(0,3).map((R,B)=>t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-900",children:R.shop.name}),t.jsxs("span",{className:"text-gray-500 ml-1",children:["(",R.available_items,"/",E.item_count," items)"]})]}),t.jsxs("span",{className:"font-medium",children:[R.total_cost.toFixed(2)," AED"]})]},B))})]}),E.optimization_suggestions.cheapest_single_shop&&t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-md p-3",children:[t.jsx("h4",{className:"text-sm font-medium text-green-800 mb-1",children:"Cheapest Single Shop"}),t.jsxs("p",{className:"text-sm text-green-700",children:["Save time by buying everything from one shop for"," ",E.optimization_suggestions.cheapest_single_shop.total_cost.toFixed(2)," AED"]})]}),E.missing_items.length>0&&t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3",children:[t.jsx("h4",{className:"text-sm font-medium text-yellow-800 mb-1",children:"Missing Items"}),t.jsxs("p",{className:"text-sm text-yellow-700",children:[E.missing_items.length," items not available in nearby shops"]})]})]}):t.jsx("p",{className:"text-sm text-gray-500",children:"Cost analysis unavailable"})]}),t.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Actions"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(Z,{to:`/rfq?bom_id=${h.id}`,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[t.jsx(au,{className:"h-4 w-4 mr-2"}),"Request Quotes"]}),t.jsxs("button",{onClick:()=>x(!0),className:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[t.jsx(mo,{className:"h-4 w-4 mr-2"}),"Share BOM"]}),t.jsxs("button",{onClick:()=>{alert("Export functionality coming soon!")},className:"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[t.jsx(KN,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]})]})]})}),d&&t.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:t.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add Item to BOM"}),t.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:t.jsx(ua,{className:"h-6 w-6"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search for products"}),t.jsxs("div",{className:"relative",children:[t.jsx(Xr,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search for materials...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]}),t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx("p",{children:"Search integration would go here"}),t.jsx("p",{className:"text-sm mt-2",children:"This would connect to the product search API"})]}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:()=>{m(!1)},className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:"Add Item"})]})]})]})}),f&&t.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:t.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Share BOM"}),t.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:t.jsx(ua,{className:"h-6 w-6"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),t.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Make public"})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Anyone with the link can view this BOM"})]}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:()=>{T.mutate({is_public:!0})},disabled:T.isPending,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:T.isPending?"Sharing...":"Create Share Link"})]})]})]})})]})}):t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsx("div",{className:"text-center",children:t.jsx("p",{className:"text-gray-600",children:"No BOM data available"})})})})},y5=()=>{const e=W(p=>p.authentication_state.current_user),s=W(p=>p.authentication_state.auth_token),r=Xe(),n=(p,k,E,I)=>{const L=(E-p)*Math.PI/180,T=(I-k)*Math.PI/180,q=Math.sin(L/2)*Math.sin(L/2)+Math.cos(p*Math.PI/180)*Math.cos(E*Math.PI/180)*Math.sin(T/2)*Math.sin(T/2);return 6371*(2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q)))},{data:a,isLoading:i,error:l}=ce({queryKey:["shop-profile",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id)||!s)throw new Error("Authentication required");const p=await Y.get("https://123construction-shop-finder.launchpulse.ai/api/shops",{headers:{Authorization:`Bearer ${s}`},params:{user_id:e.id,limit:1}});if(!p.data.shops||p.data.shops.length===0)throw new Error("No shop found for user");const k=p.data.shops[0].id;return(await Y.get(`https://123construction-shop-finder.launchpulse.ai/api/shops/${k}`,{headers:{Authorization:`Bearer ${s}`}})).data},enabled:!!(e!=null&&e.id)&&!!s,staleTime:30*60*1e3,retry:1}),{data:o=[],isLoading:c}=ce({queryKey:["pending-rfqs",a==null?void 0:a.id],queryFn:async()=>{var k;return!a||!s?[]:((k=(await Y.get("https://123construction-shop-finder.launchpulse.ai/api/rfqs",{headers:{Authorization:`Bearer ${s}`},params:{status:"pending",limit:10,sort_by:"deadline",sort_order:"asc"}})).data.rfqs)==null?void 0:k.filter(E=>!E.delivery_location_lat||!E.delivery_location_lng||!a.delivery_radius?!0:n(E.delivery_location_lat,E.delivery_location_lng,a.location_lat,a.location_lng)<=a.delivery_radius))||[]},enabled:!!(a!=null&&a.id)&&!!s,staleTime:5*60*1e3,retry:1}),{data:d=[],isLoading:m}=ce({queryKey:["inventory-alerts",a==null?void 0:a.id],queryFn:async()=>{var k;return!a||!s?[]:((k=(await Y.get("https://123construction-shop-finder.launchpulse.ai/api/inventory",{headers:{Authorization:`Bearer ${s}`},params:{shop_id:a.id,low_stock_only:!0,limit:20}})).data.inventory)==null?void 0:k.map(E=>{var I,_;return{variant_id:E.variant_id,product_name:((_=(I=E.variant)==null?void 0:I.product)==null?void 0:_.canonical_name)||"Unknown Product",current_stock:E.stock_quantity||0,low_stock_threshold:E.low_stock_threshold||0,alert_type:E.stock_quantity===0?"out_of_stock":"low_stock",severity:E.stock_quantity===0?"critical":"warning"}}))||[]},enabled:!!(a!=null&&a.id)&&!!s,staleTime:5*60*1e3,retry:1}),{data:f=[],isLoading:x}=ce({queryKey:["customer-messages",o],queryFn:async()=>{if(!o.length||!s)return[];const p=o.slice(0,5).map(async E=>{var I;try{return((I=(await Y.get(`https://123construction-shop-finder.launchpulse.ai/api/rfqs/${E.id}/messages`,{headers:{Authorization:`Bearer ${s}`},params:{limit:50,offset:0}})).data.messages)==null?void 0:I.filter(L=>!L.read_at&&L.sender_id!==(e==null?void 0:e.id)).map(L=>{var T;return{message_id:L.id,rfq_id:L.rfq_id,customer_name:((T=L.sender)==null?void 0:T.name)||"Unknown Customer",message_preview:L.message.substring(0,100),created_at:L.created_at,is_urgent:E.priority==="urgent"||E.priority==="high"}}))||[]}catch(_){return console.warn(`Failed to fetch messages for RFQ ${E.id}:`,_),[]}});return(await Promise.all(p)).flat()},enabled:!!o.length&&!!s,staleTime:2*60*1e3,retry:1}),j={revenue:{monthly:35890.25},customers:{new_count:15,repeat_count:45},sales:{total_orders:128,conversion_rate:.68}},y=()=>{r.invalidateQueries({queryKey:["shop-profile"]}),r.invalidateQueries({queryKey:["pending-rfqs"]}),r.invalidateQueries({queryKey:["inventory-alerts"]}),r.invalidateQueries({queryKey:["customer-messages"]})},b=p=>new Intl.NumberFormat("en-AE",{style:"currency",currency:"AED",minimumFractionDigits:2}).format(p),w=p=>new Date(p).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),g=p=>{switch(p){case"urgent":return"text-red-600 bg-red-100";case"high":return"text-orange-600 bg-orange-100";case"medium":return"text-yellow-600 bg-yellow-100";case"low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},h=p=>{switch(p){case"critical":return"text-red-600 bg-red-100 border-red-200";case"warning":return"text-yellow-600 bg-yellow-100 border-yellow-200";default:return"text-gray-600 bg-gray-100 border-gray-200"}};return i?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(pn,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading shop dashboard..."})]})})}):l||!a?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Vw,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Shop Not Found"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Unable to load shop information. Please ensure you have a shop profile."}),t.jsx(Z,{to:"/shop/settings",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Shop Profile"})]})})}):t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx("div",{className:"mb-8",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Shop Dashboard"}),t.jsxs("p",{className:"mt-1 text-gray-600",children:["Welcome back, ",a.name,a.verified&&t.jsx(rs,{className:"inline-block h-5 w-5 text-green-500 ml-2"})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("button",{onClick:y,className:"flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:[t.jsx(pn,{className:"h-4 w-4 mr-2"}),"Refresh"]}),t.jsxs(Z,{to:"/shop/settings",className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[t.jsx(gi,{className:"h-4 w-4 mr-2"}),"Settings"]})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Monthly Revenue"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b(j.revenue.monthly)}),t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsx(It,{className:"h-4 w-4 text-green-500 mr-1"}),t.jsx("span",{className:"text-sm text-green-600",children:"+12.5% from last month"})]})]}),t.jsx(ro,{className:"h-12 w-12 text-blue-600 bg-blue-100 p-3 rounded-full"})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.sales.total_orders}),t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsx(It,{className:"h-4 w-4 text-green-500 mr-1"}),t.jsx("span",{className:"text-sm text-green-600",children:"+8.2% this month"})]})]}),t.jsx(aa,{className:"h-12 w-12 text-green-600 bg-green-100 p-3 rounded-full"})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Customers"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.customers.new_count+j.customers.repeat_count}),t.jsx("div",{className:"flex items-center mt-2",children:t.jsxs("span",{className:"text-sm text-gray-600",children:[j.customers.new_count," new, ",j.customers.repeat_count," returning"]})})]}),t.jsx(Fi,{className:"h-12 w-12 text-purple-600 bg-purple-100 p-3 rounded-full"})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Conversion Rate"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(j.sales.conversion_rate*100).toFixed(1),"%"]}),t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsx(It,{className:"h-4 w-4 text-green-500 mr-1"}),t.jsx("span",{className:"text-sm text-green-600",children:"Above average"})]})]}),t.jsx(It,{className:"h-12 w-12 text-orange-600 bg-orange-100 p-3 rounded-full"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Pending RFQs"}),t.jsxs(Z,{to:"/rfq",className:"flex items-center text-blue-600 hover:text-blue-700 text-sm font-medium",children:["View All",t.jsx(gt,{className:"h-4 w-4 ml-1"})]})]})}),t.jsx("div",{className:"p-6",children:c?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(pn,{className:"h-6 w-6 animate-spin text-blue-600 mx-auto mb-2"}),t.jsx("p",{className:"text-gray-500",children:"Loading RFQs..."})]}):o.length>0?t.jsx("div",{className:"space-y-4",children:o.slice(0,5).map(p=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-medium text-gray-900",children:p.title}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:p.delivery_address||"No delivery address specified"}),t.jsxs("div",{className:"flex items-center mt-2 space-x-4",children:[t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${g(p.priority)}`,children:p.priority}),p.deadline&&t.jsxs("span",{className:"flex items-center text-xs text-gray-500",children:[t.jsx(ra,{className:"h-3 w-3 mr-1"}),"Due ",w(p.deadline)]})]})]}),t.jsx(Z,{to:`/rfq?rfq_id=${p.id}`,className:"ml-4 px-3 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:"Respond"})]},p.id))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(kl,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-500",children:"No pending RFQs"})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Inventory Alerts"}),t.jsxs(Z,{to:"/shop/inventory?low_stock=true",className:"flex items-center text-blue-600 hover:text-blue-700 text-sm font-medium",children:["Manage Inventory",t.jsx(gt,{className:"h-4 w-4 ml-1"})]})]})}),t.jsx("div",{className:"p-6",children:m?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(pn,{className:"h-6 w-6 animate-spin text-blue-600 mx-auto mb-2"}),t.jsx("p",{className:"text-gray-500",children:"Loading alerts..."})]}):d.length>0?t.jsx("div",{className:"space-y-3",children:d.slice(0,8).map(p=>t.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${h(p.severity)}`,children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(dn,{className:"h-5 w-5 mr-3"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:p.product_name}),t.jsxs("p",{className:"text-sm opacity-75",children:["Stock: ",p.current_stock," / Threshold: ",p.low_stock_threshold]})]})]}),t.jsx("span",{className:"text-xs font-medium uppercase tracking-wider",children:p.alert_type.replace("_"," ")})]},p.variant_id))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(jr,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-500",children:"No inventory alerts"})]})})]})]}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Messages"})}),t.jsx("div",{className:"p-6",children:x?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(pn,{className:"h-6 w-6 animate-spin text-blue-600 mx-auto mb-2"}),t.jsx("p",{className:"text-gray-500",children:"Loading messages..."})]}):f.length>0?t.jsx("div",{className:"space-y-4",children:f.slice(0,5).map(p=>t.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-gray-900",children:p.customer_name}),t.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:p.message_preview}),t.jsx("p",{className:"text-xs text-gray-500 mt-2",children:w(p.created_at)})]}),p.is_urgent&&t.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-1 bg-red-100 text-red-600 text-xs font-medium rounded-full",children:"Urgent"})]})},p.message_id))}):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(kl,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-500",children:"No recent messages"})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Quick Actions"})}),t.jsxs("div",{className:"p-6 space-y-3",children:[t.jsxs(Z,{to:"/shop/inventory",className:"flex items-center w-full p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[t.jsx(jr,{className:"h-5 w-5 text-gray-600 mr-3"}),t.jsx("span",{className:"font-medium text-gray-900",children:"Manage Inventory"}),t.jsx(gt,{className:"h-4 w-4 text-gray-400 ml-auto"})]}),t.jsxs(Z,{to:"/rfq",className:"flex items-center w-full p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[t.jsx(kl,{className:"h-5 w-5 text-gray-600 mr-3"}),t.jsx("span",{className:"font-medium text-gray-900",children:"View All RFQs"}),t.jsx(gt,{className:"h-4 w-4 text-gray-400 ml-auto"})]}),t.jsxs(Z,{to:"/shop/analytics",className:"flex items-center w-full p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[t.jsx(It,{className:"h-5 w-5 text-gray-600 mr-3"}),t.jsx("span",{className:"font-medium text-gray-900",children:"View Analytics"}),t.jsx(gt,{className:"h-4 w-4 text-gray-400 ml-auto"})]}),t.jsxs(Z,{to:"/shop/settings",className:"flex items-center w-full p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[t.jsx(gi,{className:"h-5 w-5 text-gray-600 mr-3"}),t.jsx("span",{className:"font-medium text-gray-900",children:"Shop Settings"}),t.jsx(gt,{className:"h-4 w-4 text-gray-400 ml-auto"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Shop Status"})}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Verification Status"}),t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.verified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:a.verified?"Verified":"Pending"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Rating"}),t.jsxs("span",{className:"font-medium text-gray-900",children:[a.rating_average.toFixed(1),"/5.0 (",a.rating_count," reviews)"]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Response Time"}),t.jsx("span",{className:"font-medium text-gray-900",children:a.response_time_hours?`${a.response_time_hours}h`:"N/A"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Stock Accuracy"}),t.jsxs("span",{className:"font-medium text-gray-900",children:[a.stock_accuracy_score,"%"]})]})]})]})]})]})]})})})},b5=()=>{const[e,s]=at(),r=W($=>$.authentication_state.current_user),n=W($=>$.authentication_state.auth_token),[a,i]=u.useState(e.get("search")||""),[l,o]=u.useState(e.get("category")||""),[c,d]=u.useState(e.get("low_stock")==="true"),[m,f]=u.useState([]),[x,j]=u.useState(!1),[y,b]=u.useState(null),[w,g]=u.useState(null),[h,p]=u.useState(""),[k,E]=u.useState(""),I=Xe(),_=(r==null?void 0:r.id)||"";u.useEffect(()=>{const $=new URLSearchParams;a&&$.set("search",a),l&&$.set("category",l),c&&$.set("low_stock","true"),s($)},[a,l,c,s]),u.useEffect(()=>{const $=setTimeout(()=>{I.invalidateQueries({queryKey:["shop-inventory",_]})},300);return()=>clearTimeout($)},[a,I,_]);const{data:L,isLoading:T,error:q,refetch:D}=ce({queryKey:["shop-inventory",_,l,c,a],queryFn:async()=>{const $=new URLSearchParams({shop_id:_,limit:"100",sort_by:"updated_at",sort_order:"desc"});return a&&$.append("search",a),l&&$.append("category",l),c&&$.append("low_stock_only","true"),(await Y.get(`https://123construction-shop-finder.launchpulse.ai/api/inventory?${$}`,{headers:{Authorization:`Bearer ${n}`}})).data},enabled:!!_&&!!n,staleTime:5*60*1e3}),{data:R,isLoading:B}=ce({queryKey:["price-competition",_],queryFn:async()=>{var fe,ve;if(!(L!=null&&L.inventory.length))return{comparison:[]};const $=L.inventory.map(_t=>_t.variant_id).join(","),K=new URLSearchParams({variant_ids:$,location_lat:((fe=r==null?void 0:r.location_lat)==null?void 0:fe.toString())||"25.2048",location_lng:((ve=r==null?void 0:r.location_lng)==null?void 0:ve.toString())||"55.2708"});return(await Y.get(`https://123construction-shop-finder.launchpulse.ai/api/prices/compare?${K}`,{headers:{Authorization:`Bearer ${n}`}})).data},enabled:!!_&&!!n&&!!(L!=null&&L.inventory.length)&&x,staleTime:15*60*1e3}),G=xe({mutationFn:async({variantId:$,data:K})=>(await Y.put(`https://123construction-shop-finder.launchpulse.ai/api/inventory/${_}/${$}`,K,{headers:{Authorization:`Bearer ${n}`}})).data,onSuccess:()=>{I.invalidateQueries({queryKey:["shop-inventory",_]}),g(null),E("")}}),U=xe({mutationFn:async({priceId:$,data:K})=>(await Y.put(`https://123construction-shop-finder.launchpulse.ai/api/prices/${$}`,K,{headers:{Authorization:`Bearer ${n}`}})).data,onSuccess:()=>{I.invalidateQueries({queryKey:["shop-inventory",_]}),I.invalidateQueries({queryKey:["price-competition",_]}),b(null),p("")}}),P=xe({mutationFn:async $=>{await Y.delete(`https://123construction-shop-finder.launchpulse.ai/api/inventory/${_}/${$}`,{headers:{Authorization:`Bearer ${n}`}})},onSuccess:()=>{I.invalidateQueries({queryKey:["shop-inventory",_]}),f($=>$.filter(K=>!$.includes(K)))}}),C=u.useMemo(()=>L!=null&&L.inventory?L.inventory.map($=>({...$,product_catalog:$.variant,inventory_status:{shop_id:$.shop_id,variant_id:$.variant_id,in_stock:$.in_stock,stock_quantity:$.stock_quantity,low_stock_threshold:$.low_stock_threshold,lead_time_days:$.lead_time_days,minimum_order_quantity:$.minimum_order_quantity,maximum_order_quantity:$.maximum_order_quantity,updated_at:$.updated_at},pricing_data:$.price})):[],[L]),S=u.useMemo(()=>{if(!(R!=null&&R.comparison))return new Map;const $=new Map;return R.comparison.forEach(K=>{$.set(K.variant_id,K)}),$},[R]),z=u.useCallback($=>{f(K=>K.includes($)?K.filter(ie=>ie!==$):[...K,$])},[]),O=u.useCallback(()=>{const $=C.map(K=>K.variant_id);f(K=>K.length===$.length?[]:$)},[C]),N=u.useCallback(($,K,ie)=>{G.mutate({variantId:$,data:{stock_quantity:K,in_stock:ie}})},[G]),A=u.useCallback(($,K,ie)=>{U.mutate({priceId:$,data:{price:K,price_per_base_unit:K/ie}})},[U]),M=u.useCallback($=>{window.confirm("Are you sure you want to remove this item from your inventory?")&&P.mutate($)},[P]),Q=u.useCallback(()=>{m.length!==0&&window.confirm(`Are you sure you want to remove ${m.length} items from your inventory?`)&&m.forEach($=>{P.mutate($)})},[m,P]),v=u.useMemo(()=>{const $=C.length,K=C.filter(ve=>ve.in_stock).length,ie=C.filter(ve=>ve.stock_quantity!==null&&ve.low_stock_threshold!==null&&ve.stock_quantity<=ve.low_stock_threshold).length,fe=C.filter(ve=>!ve.in_stock).length;return{totalItems:$,inStockItems:K,lowStockItems:ie,outOfStockItems:fe}},[C]);return T?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):q?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx(dn,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error Loading Inventory"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Failed to load your inventory data."}),t.jsx("button",{onClick:()=>D(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"})]})})}):t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white shadow",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex justify-between items-center py-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Inventory Manager"}),t.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your product catalog, stock levels, and pricing"})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("button",{onClick:()=>j(!x),className:`flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-colors ${x?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[t.jsx(to,{className:"h-4 w-4 mr-2"}),"Competition Analysis"]}),t.jsxs("button",{className:"flex items-center bg-gray-100 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors",children:[t.jsx(uN,{className:"h-4 w-4 mr-2"}),"Import CSV"]}),t.jsxs("button",{className:"flex items-center bg-gray-100 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors",children:[t.jsx(Bo,{className:"h-4 w-4 mr-2"}),"Export"]}),t.jsxs(Z,{to:"/shop/inventory/add",className:"flex items-center bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:[t.jsx(fs,{className:"h-4 w-4 mr-2"}),"Add Product"]})]})]})})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(jr,{className:"h-8 w-8 text-blue-600"}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Products"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.totalItems})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx($g,{className:"h-8 w-8 text-green-600"}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-500",children:"In Stock"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.inStockItems})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(dn,{className:"h-8 w-8 text-yellow-600"}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Low Stock"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.lowStockItems})]})]})}),t.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(dt,{className:"h-8 w-8 text-red-600"}),t.jsxs("div",{className:"ml-4",children:[t.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Out of Stock"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.outOfStockItems})]})]})})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[t.jsx("div",{className:"flex-1 max-w-lg",children:t.jsxs("div",{className:"relative",children:[t.jsx(bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search products by name, SKU, or barcode...",value:a,onChange:$=>i($.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),t.jsxs("div",{className:"flex items-center space-x-4 mt-4 md:mt-0",children:[t.jsxs("select",{value:l,onChange:$=>o($.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"All Categories"}),t.jsx("option",{value:"cement",children:"Cement"}),t.jsx("option",{value:"steel",children:"Steel"}),t.jsx("option",{value:"concrete",children:"Concrete"}),t.jsx("option",{value:"tools",children:"Tools"})]}),t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",checked:c,onChange:$=>d($.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),t.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Low Stock Only"})]}),t.jsxs("button",{onClick:()=>D(),className:"flex items-center text-gray-600 hover:text-gray-900",children:[t.jsx(pn,{className:"h-4 w-4 mr-1"}),"Refresh"]})]})]})}),m.length>0&&t.jsx("div",{className:"px-6 py-3 bg-blue-50 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"text-sm text-blue-700",children:[m.length," item",m.length!==1?"s":""," selected"]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("button",{onClick:Q,className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Delete Selected"}),t.jsx("button",{onClick:()=>f([]),className:"text-gray-600 hover:text-gray-700 text-sm font-medium",children:"Clear Selection"})]})]})})]}),t.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left",children:t.jsx("input",{type:"checkbox",checked:m.length===C.length&&C.length>0,onChange:O,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),x&&t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Competition"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map($=>{const K=$.product_catalog,ie=$.inventory_status,fe=$.pricing_data,ve=S.get(K.id),_t=m.includes(K.id),H=ie.stock_quantity!==null&&ie.low_stock_threshold!==null&&ie.stock_quantity<=ie.low_stock_threshold;return t.jsxs("tr",{className:_t?"bg-blue-50":"",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsx("input",{type:"checkbox",checked:_t,onChange:()=>z(K.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"h-12 w-12 bg-gray-200 rounded-lg mr-4 flex items-center justify-center",children:K.image_url?t.jsx("img",{src:K.image_url,alt:K.brand||"Product",className:"h-12 w-12 rounded-lg object-cover"}):t.jsx(jr,{className:"h-6 w-6 text-gray-400"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[K.brand," ",K.grade," ",K.size]}),t.jsxs("div",{className:"text-sm text-gray-500",children:["SKU: ",K.sku||"N/A"]}),K.pack_quantity&&t.jsxs("div",{className:"text-xs text-gray-400",children:[K.pack_quantity," ",K.pack_unit]})]})]})}),t.jsxs("td",{className:"px-6 py-4",children:[w===K.id?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"number",value:k,onChange:le=>E(le.target.value),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm",autoFocus:!0}),t.jsx("button",{onClick:()=>{const le=parseInt(k);isNaN(le)||N(K.id,le,le>0)},className:"text-green-600 hover:text-green-700",children:t.jsx(so,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>{g(null),E("")},className:"text-gray-400 hover:text-gray-600",children:t.jsx(dt,{className:"h-4 w-4"})})]}):t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:`text-sm ${H?"text-red-600":"text-gray-900"}`,children:ie.stock_quantity||0}),t.jsx("button",{onClick:()=>{g(K.id),E((ie.stock_quantity||0).toString())},className:"text-gray-400 hover:text-gray-600",children:t.jsx(ao,{className:"h-3 w-3"})})]}),H&&t.jsx("div",{className:"text-xs text-red-500 mt-1",children:"Low Stock"})]}),t.jsx("td",{className:"px-6 py-4",children:fe?y===fe.id?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"number",step:"0.01",value:h,onChange:le=>p(le.target.value),className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm",autoFocus:!0}),t.jsx("button",{onClick:()=>{const le=parseFloat(h);isNaN(le)||A(fe.id,le,K.unit_to_base_factor)},className:"text-green-600 hover:text-green-700",children:t.jsx(so,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>{b(null),p("")},className:"text-gray-400 hover:text-gray-600",children:t.jsx(dt,{className:"h-4 w-4"})})]}):t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("span",{className:"text-sm text-gray-900",children:[fe.currency," ",fe.price.toFixed(2)]}),t.jsx("button",{onClick:()=>{b(fe.id),p(fe.price.toString())},className:"text-gray-400 hover:text-gray-600",children:t.jsx(ao,{className:"h-3 w-3"})})]}):t.jsx("span",{className:"text-sm text-gray-500",children:"No price set"})}),x&&t.jsx("td",{className:"px-6 py-4",children:ve?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${ve.price_ranking<=2?"bg-green-100 text-green-800":ve.price_ranking<=4?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:["Rank #",ve.price_ranking]}),t.jsxs("span",{className:"text-xs text-gray-500",children:["Suggested: ",fe==null?void 0:fe.currency," ",ve.suggested_price.toFixed(2)]})]}):B?t.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-600 rounded-full"}):t.jsx("span",{className:"text-xs text-gray-400",children:"No data"})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ie.in_stock?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:ie.in_stock?"In Stock":"Out of Stock"})}),t.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:t.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[t.jsx("button",{onClick:()=>{},className:"text-blue-600 hover:text-blue-700",children:t.jsx(cn,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>{},className:"text-gray-600 hover:text-gray-700",children:t.jsx(gi,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>M(K.id),className:"text-red-600 hover:text-red-700",children:t.jsx(_h,{className:"h-4 w-4"})})]})})]},K.id)})})]})}),C.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(jr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),t.jsx("p",{className:"text-gray-500 mb-4",children:a||l||c?"Try adjusting your search filters.":"Start by adding products to your inventory."}),t.jsxs(Z,{to:"/shop/inventory/add",className:"inline-flex items-center bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:[t.jsx(fs,{className:"h-4 w-4 mr-2"}),"Add First Product"]})]})]})]})]})})},v5=()=>{var N,A;const[e,s]=at(),r=Xe(),n=u.useRef(null),a=W(M=>M.authentication_state.current_user),i=W(M=>M.authentication_state.auth_token),[l,o]=u.useState(null),[c,d]=u.useState(""),[m,f]=u.useState(!1),[x,j]=u.useState({total_price:0,delivery_fee:0,delivery_days:0,notes:"",terms_conditions:"",valid_until:null,line_items:[]}),[y,b]=u.useState(!1),w=e.get("status")||"",g=e.get("priority")||"",h=e.get("shop_id")||"",p="https://123construction-shop-finder.launchpulse.ai",{data:k,isLoading:E,error:I}=ce({queryKey:["rfqs",w,g,h,a==null?void 0:a.id],queryFn:async()=>{if(!i||!a)throw new Error("Authentication required");const M=new URLSearchParams;w&&M.append("status",w),g&&M.append("priority",g),h&&M.append("shop_id",h),M.append("limit","50"),M.append("sort_by","created_at"),M.append("sort_order","desc");let v=(await Y.get(`${p}/api/rfqs?${M.toString()}`,{headers:{Authorization:`Bearer ${i}`}})).data.rfqs;return a.user_type==="buyer"?v=v.filter($=>$.user_id===a.id):a.user_type,{rfqs:v,total:v.length}},enabled:!!i&&!!a,staleTime:3e4,refetchOnWindowFocus:!1}),{data:_,isLoading:L}=ce({queryKey:["rfq-detail",l],queryFn:async()=>{if(!i||!l)throw new Error("Authentication and RFQ ID required");return(await Y.get(`${p}/api/rfqs/${l}`,{headers:{Authorization:`Bearer ${i}`}})).data},enabled:!!i&&!!l,staleTime:1e4}),{data:T,isLoading:q}=ce({queryKey:["rfq-messages",l],queryFn:async()=>{if(!i||!l)throw new Error("Authentication and RFQ ID required");return(await Y.get(`${p}/api/rfqs/${l}/messages?limit=100&offset=0`,{headers:{Authorization:`Bearer ${i}`}})).data.messages.map(Q=>({...Q,sender_name:Q.sender.name,is_from_current_user:(Q==null?void 0:Q.sender_id)===(a==null?void 0:a.id)}))},enabled:!!i&&!!l,refetchInterval:5e3}),{data:D}=ce({queryKey:["shop-inventory",l,a==null?void 0:a.id],queryFn:async()=>{var $;if(!i||!l||(a==null?void 0:a.user_type)!=="seller")return{};if(!(($=_==null?void 0:_.bom)!=null&&$.items))return{};const M=_.bom.items.map(K=>K.variant_id),Q=new URLSearchParams;return Q.append("shop_id",a.id),M.forEach(K=>Q.append("variant_id",K)),(await Y.get(`${p}/api/inventory?${Q.toString()}`,{headers:{Authorization:`Bearer ${i}`}})).data.inventory.reduce((K,ie)=>{var fe;return{...K,[ie.variant_id]:{in_stock:ie.in_stock,available_quantity:ie.stock_quantity,lead_time_days:ie.lead_time_days,unit_price:((fe=ie.price)==null?void 0:fe.price)||0}}},{})},enabled:!!i&&!!l&&!!_&&(a==null?void 0:a.user_type)==="seller"}),R=xe({mutationFn:async({rfqId:M,message:Q,messageType:v="text",attachments:$=[]})=>{if(!i)throw new Error("Authentication required");return(await Y.post(`${p}/api/rfqs/${M}/messages`,{message:Q,message_type:v,attachments:$},{headers:{Authorization:`Bearer ${i}`}})).data},onSuccess:()=>{r.invalidateQueries({queryKey:["rfq-messages",l]}),d("")}}),B=xe({mutationFn:async M=>{if(!i||!l)throw new Error("Authentication and RFQ ID required");return(await Y.post(`${p}/api/rfqs/${l}/replies`,M,{headers:{Authorization:`Bearer ${i}`}})).data},onSuccess:()=>{r.invalidateQueries({queryKey:["rfq-detail",l]}),r.invalidateQueries({queryKey:["rfqs"]}),f(!1),j({total_price:0,delivery_fee:0,delivery_days:0,notes:"",terms_conditions:"",valid_until:null,line_items:[]})}});u.useEffect(()=>{var M;if((M=_==null?void 0:_.bom)!=null&&M.items&&(a==null?void 0:a.user_type)==="seller"&&m){const Q=_.bom.items.map(v=>{var $;return{variant_id:v.variant_id,quantity:v.quantity,unit_price:(($=D==null?void 0:D[v.variant_id])==null?void 0:$.unit_price)||0,total_price:0,notes:null}});j(v=>({...v,line_items:Q}))}},[_,D,m,a==null?void 0:a.user_type]),u.useEffect(()=>{if(x.line_items.length>0){const M=x.line_items.reduce((Q,v)=>{const $=v.quantity*v.unit_price;return Q+$},0);j(Q=>({...Q,total_price:M+Q.delivery_fee,line_items:Q.line_items.map(v=>({...v,total_price:v.quantity*v.unit_price}))}))}},[x.line_items,x.delivery_fee]),u.useEffect(()=>{var M;(M=n.current)==null||M.scrollIntoView({behavior:"smooth"})},[T]);const G=M=>{o(M),b(!0),f(!1)},U=M=>{M.preventDefault(),!(!c.trim()||!l)&&R.mutate({rfqId:l,message:c.trim()})},P=()=>{!l||x.line_items.length===0||B.mutate(x)},C=M=>new Intl.NumberFormat("en-AE",{style:"currency",currency:"AED"}).format(M),S=M=>new Date(M).toLocaleDateString("en-AE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),z=M=>{switch(M){case"urgent":return"text-red-600 bg-red-100";case"high":return"text-orange-600 bg-orange-100";case"medium":return"text-yellow-600 bg-yellow-100";case"low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},O=M=>{switch(M){case"pending":return"text-blue-600 bg-blue-100";case"active":return"text-green-600 bg-green-100";case"closed":return"text-gray-600 bg-gray-100";case"cancelled":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return a?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[t.jsx("div",{className:"md:hidden fixed top-4 left-4 z-10",children:y&&t.jsx("button",{onClick:()=>b(!1),className:"bg-white rounded-full p-2 shadow-lg hover:bg-gray-50 transition-colors",children:t.jsx(Og,{className:"w-5 h-5 text-gray-600"})})}),t.jsxs("div",{className:`${y?"hidden":"block"} md:block w-full md:w-1/3 lg:w-1/4 bg-white border-r border-gray-200 flex flex-col`,children:[t.jsxs("div",{className:"p-6 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:a.user_type==="buyer"?"My Requests":"Quote Requests"}),t.jsx(Ks,{className:"w-6 h-6 text-blue-600"})]}),t.jsx("div",{className:"space-y-3",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("select",{value:w,onChange:M=>{const Q=new URLSearchParams(e);M.target.value?Q.set("status",M.target.value):Q.delete("status"),s(Q)},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"closed",children:"Closed"}),t.jsx("option",{value:"cancelled",children:"Cancelled"})]}),t.jsxs("select",{value:g,onChange:M=>{const Q=new URLSearchParams(e);M.target.value?Q.set("priority",M.target.value):Q.delete("priority"),s(Q)},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"All Priority"}),t.jsx("option",{value:"urgent",children:"Urgent"}),t.jsx("option",{value:"high",children:"High"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"low",children:"Low"})]})]})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:E?t.jsx("div",{className:"p-6",children:t.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(M=>t.jsx("div",{className:"bg-gray-200 h-24 rounded-lg"},M))})}):I?t.jsxs("div",{className:"p-6 text-center",children:[t.jsx(dn,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),t.jsx("p",{className:"text-red-600 font-medium",children:"Failed to load RFQs"}),t.jsx("p",{className:"text-gray-500 text-sm",children:"Please try again later"})]}):(N=k==null?void 0:k.rfqs)!=null&&N.length?t.jsx("div",{className:"divide-y divide-gray-200",children:k.rfqs.map(M=>t.jsxs("div",{onClick:()=>G(M.id),className:`p-4 cursor-pointer hover:bg-gray-50 transition-colors ${l===M.id?"bg-blue-50 border-r-2 border-blue-500":""}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("h3",{className:"font-medium text-gray-900 truncate flex-1 mr-2",children:M.title}),t.jsx("div",{className:"flex items-center space-x-1",children:t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${z(M.priority)}`,children:M.priority})})]}),t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${O(M.status)}`,children:M.status}),t.jsxs("span",{className:"text-xs text-gray-500",children:[M.responses_count," response",M.responses_count!==1?"s":""]})]}),M.bom&&t.jsxs("div",{className:"flex items-center text-xs text-gray-500 mb-2",children:[t.jsx(k0,{className:"w-3 h-3 mr-1"}),M.bom.title," (",M.bom.item_count," items)"]}),M.deadline&&t.jsxs("div",{className:"flex items-center text-xs text-gray-500 mb-2",children:[t.jsx(ra,{className:"w-3 h-3 mr-1"}),"Due: ",S(M.deadline)]}),M.budget_limit&&t.jsxs("div",{className:"flex items-center text-xs text-gray-500 mb-2",children:[t.jsx(ro,{className:"w-3 h-3 mr-1"}),"Budget: ",C(M.budget_limit)]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-gray-400",children:S(M.created_at)}),t.jsx(jh,{className:"w-4 h-4 text-gray-400"})]})]},M.id))}):t.jsxs("div",{className:"p-6 text-center",children:[t.jsx(Ks,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No RFQs found"}),t.jsx("p",{className:"text-gray-500 text-sm",children:a.user_type==="buyer"?"You haven't sent any quote requests yet.":"No quote requests match your current filters."})]})})]}),t.jsx("div",{className:`${y?"block":"hidden"} md:block flex-1 flex flex-col bg-white`,children:l?L?t.jsx("div",{className:"flex-1 flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):_?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-6 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:_.title}),t.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${O(_.status)}`,children:_.status}),t.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${z(_.priority)}`,children:[_.priority," priority"]}),t.jsxs("span",{children:["Created ",S(_.created_at)]})]})]}),a.user_type==="seller"&&_.status==="pending"&&t.jsx("button",{onClick:()=>f(!m),className:`px-4 py-2 rounded-lg font-medium transition-colors ${m?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-blue-600 text-white hover:bg-blue-700"}`,children:m?t.jsxs(t.Fragment,{children:[t.jsx(dt,{className:"w-4 h-4 inline mr-2"}),"Cancel Quote"]}):t.jsxs(t.Fragment,{children:[t.jsx(Gd,{className:"w-4 h-4 inline mr-2"}),"Prepare Quote"]})})]}),_.description&&t.jsx("p",{className:"text-gray-600 mb-4",children:_.description}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[_.deadline&&t.jsxs("div",{className:"flex items-center",children:[t.jsx(vh,{className:"w-4 h-4 text-gray-400 mr-2"}),t.jsxs("span",{children:["Deadline: ",S(_.deadline)]})]}),_.budget_limit&&t.jsxs("div",{className:"flex items-center",children:[t.jsx(ro,{className:"w-4 h-4 text-gray-400 mr-2"}),t.jsxs("span",{children:["Budget: ",C(_.budget_limit)]})]}),_.delivery_address&&t.jsxs("div",{className:"flex items-center",children:[t.jsx(Pt,{className:"w-4 h-4 text-gray-400 mr-2"}),t.jsx("span",{className:"truncate",children:_.delivery_address})]})]}),_.special_requirements&&t.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 rounded-lg",children:[t.jsx("h4",{className:"font-medium text-yellow-800 mb-1",children:"Special Requirements:"}),t.jsx("p",{className:"text-yellow-700 text-sm",children:_.special_requirements})]})]}),m&&a.user_type==="seller"&&t.jsxs("div",{className:"p-6 bg-blue-50 border-b border-blue-200",children:[t.jsxs("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:[t.jsx(Gd,{className:"w-5 h-5 inline mr-2"}),"Prepare Quote"]}),((A=_.bom)==null?void 0:A.items)&&t.jsxs("div",{className:"space-y-4 mb-6",children:[t.jsx("h4",{className:"font-medium text-blue-800",children:"Items Required:"}),t.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[t.jsxs("div",{className:"grid grid-cols-6 gap-4 p-3 bg-gray-50 text-sm font-medium text-gray-700",children:[t.jsx("div",{className:"col-span-2",children:"Product"}),t.jsx("div",{children:"Quantity"}),t.jsx("div",{children:"Unit Price"}),t.jsx("div",{children:"Total"}),t.jsx("div",{children:"Stock"})]}),_.bom.items.map(M=>{const Q=x.line_items.find($=>$.variant_id===M.variant_id),v=D==null?void 0:D[M.variant_id];return t.jsxs("div",{className:"grid grid-cols-6 gap-4 p-3 border-t border-gray-200",children:[t.jsxs("div",{className:"col-span-2",children:[t.jsx("div",{className:"font-medium text-gray-900",children:M.product.canonical_name}),t.jsxs("div",{className:"text-sm text-gray-500",children:[M.variant.brand," ",M.variant.grade," ",M.variant.size]})]}),t.jsxs("div",{className:"text-sm",children:[M.quantity," ",M.unit]}),t.jsx("div",{children:t.jsx("input",{type:"number",step:"0.01",value:(Q==null?void 0:Q.unit_price)||0,onChange:$=>{const K=parseFloat($.target.value)||0;j(ie=>({...ie,line_items:ie.line_items.map(fe=>fe.variant_id===M.variant_id?{...fe,unit_price:K}:fe)}))},className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"0.00"})}),t.jsx("div",{className:"font-medium",children:C((Q==null?void 0:Q.total_price)||0)}),t.jsx("div",{children:v?t.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${v.in_stock?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.in_stock?"In Stock":"Out of Stock"}):t.jsx("span",{className:"text-xs text-gray-400",children:"Checking..."})})]},M.id)})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-blue-800 mb-1",children:"Delivery Fee"}),t.jsx("input",{type:"number",step:"0.01",value:x.delivery_fee,onChange:M=>j(Q=>({...Q,delivery_fee:parseFloat(M.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-blue-800 mb-1",children:"Delivery Days"}),t.jsx("input",{type:"number",value:x.delivery_days,onChange:M=>j(Q=>({...Q,delivery_days:parseInt(M.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-blue-800 mb-1",children:"Notes"}),t.jsx("textarea",{value:x.notes,onChange:M=>j(Q=>({...Q,notes:M.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Additional notes..."})]}),t.jsxs("div",{className:"bg-white p-4 rounded-lg border border-blue-200",children:[t.jsxs("div",{className:"text-lg font-semibold text-blue-900",children:["Total Quote: ",C(x.total_price)]}),t.jsxs("div",{className:"text-sm text-blue-700 mt-1",children:["Items: ",C(x.total_price-x.delivery_fee)," + Delivery: ",C(x.delivery_fee)]})]})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[t.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:P,disabled:B.isPending||x.line_items.length===0,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:B.isPending?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white inline mr-2"}),"Submitting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(S0,{className:"w-4 h-4 inline mr-2"}),"Submit Quote"]})})]})]}),_.bom&&!m&&t.jsxs("div",{className:"p-6 border-b border-gray-200",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:[t.jsx(k0,{className:"w-5 h-5 inline mr-2"}),"Bill of Materials: ",_.bom.title]}),_.bom.items&&t.jsxs("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:[t.jsxs("div",{className:"grid grid-cols-4 gap-4 p-3 bg-gray-100 text-sm font-medium text-gray-700",children:[t.jsx("div",{className:"col-span-2",children:"Product"}),t.jsx("div",{children:"Quantity"}),t.jsx("div",{children:"Notes"})]}),_.bom.items.map(M=>t.jsxs("div",{className:"grid grid-cols-4 gap-4 p-3 border-t border-gray-200",children:[t.jsxs("div",{className:"col-span-2",children:[t.jsx("div",{className:"font-medium text-gray-900",children:M.product.canonical_name}),t.jsxs("div",{className:"text-sm text-gray-500",children:[M.variant.brand," ",M.variant.grade," ",M.variant.size]})]}),t.jsxs("div",{className:"text-sm",children:[M.quantity," ",M.unit,M.waste_factor>0&&t.jsxs("div",{className:"text-xs text-gray-400",children:["+",M.waste_factor,"% waste"]})]}),t.jsx("div",{className:"text-sm text-gray-600",children:M.notes||"-"})]},M.id))]})]}),_.replies&&_.replies.length>0&&t.jsxs("div",{className:"p-6 border-b border-gray-200",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:[t.jsx(Bg,{className:"w-5 h-5 inline mr-2"}),"Quotes Received (",_.replies.length,")"]}),t.jsx("div",{className:"space-y-4",children:_.replies.map(M=>t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium text-gray-900 flex items-center",children:[M.shop.name,M.shop.verified&&t.jsx($g,{className:"w-4 h-4 text-green-500 ml-2"})]}),t.jsxs("div",{className:"flex items-center text-sm text-gray-500 mt-1",children:[t.jsx(Ps,{className:"w-3 h-3 text-yellow-400 mr-1"}),M.shop.rating_average.toFixed(1),t.jsx("span",{className:"mx-2",children:""}),S(M.created_at)]})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-xl font-bold text-gray-900",children:C(M.total_price)}),t.jsxs("div",{className:"text-sm text-gray-500",children:[M.delivery_days," day delivery"]})]})]}),M.notes&&t.jsx("p",{className:"text-gray-600 text-sm mb-3",children:M.notes}),t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("span",{className:"text-gray-500",children:[t.jsx(dN,{className:"w-4 h-4 inline mr-1"}),"Delivery: ",C(M.delivery_fee)]}),M.valid_until&&t.jsxs("span",{className:"text-gray-500",children:[t.jsx(ra,{className:"w-4 h-4 inline mr-1"}),"Valid until: ",S(M.valid_until)]})]}),a.user_type==="buyer"&&M.status==="pending"&&t.jsxs("div",{className:"space-x-2",children:[t.jsx("button",{className:"px-3 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:"Accept"}),t.jsx("button",{className:"px-3 py-1 text-xs border border-gray-300 text-gray-700 rounded hover:bg-gray-50 transition-colors",children:"Negotiate"})]})]})]},M.id))})]}),t.jsxs("div",{className:"flex-1 flex flex-col",children:[t.jsx("div",{className:"p-4 border-b border-gray-200",children:t.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[t.jsx(Ks,{className:"w-5 h-5 inline mr-2"}),"Messages"]})}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[q?t.jsx("div",{className:"text-center py-8",children:t.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"})}):T!=null&&T.length?T.map(M=>t.jsx("div",{className:`flex ${(M==null?void 0:M.sender_id)===(a==null?void 0:a.id)?"justify-end":"justify-start"}`,children:t.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${(M==null?void 0:M.sender_id)===(a==null?void 0:a.id)?"bg-blue-600 text-white":"bg-gray-200 text-gray-900"}`,children:[(M==null?void 0:M.sender_id)!==(a==null?void 0:a.id)&&t.jsxs("div",{className:"text-xs opacity-75 mb-1",children:[M.sender.name,M.sender.shop_name&&` (${M.sender.shop_name})`]}),t.jsx("div",{className:"text-sm",children:M.message}),t.jsx("div",{className:`text-xs mt-1 ${(M==null?void 0:M.sender_id)===(a==null?void 0:a.id)?"text-blue-100":"text-gray-500"}`,children:S(M.created_at)})]})},M.id)):t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Ks,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),t.jsx("p",{className:"text-gray-500",children:"No messages yet. Start the conversation!"})]}),t.jsx("div",{ref:n})]}),t.jsx("div",{className:"p-4 border-t border-gray-200",children:t.jsxs("form",{onSubmit:U,className:"flex space-x-2",children:[t.jsx("input",{type:"text",value:c,onChange:M=>d(M.target.value),placeholder:"Type your message...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:R.isPending}),t.jsx("button",{type:"button",className:"px-3 py-2 text-gray-500 hover:text-gray-700 transition-colors",children:t.jsx(rN,{className:"w-5 h-5"})}),t.jsx("button",{type:"submit",disabled:!c.trim()||R.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:R.isPending?t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):t.jsx(S0,{className:"w-4 h-4"})})]})})]})]}):t.jsx("div",{className:"flex-1 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(dn,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),t.jsx("p",{className:"text-red-600 font-medium",children:"Failed to load RFQ details"})]})}):t.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Ks,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select an RFQ"}),t.jsx("p",{className:"text-gray-500",children:"Choose an RFQ from the list to view details and manage communication."})]})})})]})}):t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Authentication Required"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Please log in to access the RFQ inbox."}),t.jsx(Z,{to:"/login",className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Sign In"})]})})})},j5=()=>{var A,M,Q;const[e,s]=at(),r=Xe(),n=W(v=>v.authentication_state.current_user),a=W(v=>v.authentication_state.auth_token),i=W(v=>v.update_user_profile),l=W(v=>v.app_preferences.language),o=W(v=>v.app_preferences.currency),c=W(v=>v.update_language),d=W(v=>v.update_currency),[m,f]=u.useState(e.get("tab")||"personal"),[x,j]=u.useState(null),[y,b]=u.useState({}),[w,g]=u.useState({current_password:"",new_password:"",confirm_password:""}),[h,p]=u.useState(!1),[k,E]=u.useState(null),[I,_]=u.useState(null);u.useEffect(()=>{const v=e.get("tab")||"personal";v!==m&&f(v)},[e,m]);const{data:L,isLoading:T}=ce({queryKey:["userProfile"],queryFn:async()=>(await Y.get("https://123construction-shop-finder.launchpulse.ai/api/auth/me",{headers:{Authorization:`Bearer ${a}`}})).data,enabled:!!a,staleTime:5*60*1e3}),q=xe({mutationFn:async v=>{if(!(n!=null&&n.id))throw new Error("User ID required");return(await Y.put(`https://123construction-shop-finder.launchpulse.ai/api/users/${n.id}`,v,{headers:{Authorization:`Bearer ${a}`}})).data},onSuccess:v=>{i(v),r.setQueryData(["userProfile"],v),j(null),b({})}}),D=xe({mutationFn:async v=>(await Y.post("https://123construction-shop-finder.launchpulse.ai/api/auth/change-password",v,{headers:{Authorization:`Bearer ${a}`}})).data,onSuccess:()=>{g({current_password:"",new_password:"",confirm_password:""}),j(null)}}),R=xe({mutationFn:async v=>{if(!(n!=null&&n.id))throw new Error("User ID required");const $=new FormData;return $.append("avatar",v),(await Y.post(`https://123construction-shop-finder.launchpulse.ai/api/users/${n.id}/avatar`,$,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"multipart/form-data"}})).data},onSuccess:v=>{i(v),E(null),_(null)}}),B=v=>{f(v),s({tab:v}),j(null)},G=v=>{x===v?(j(null),b({})):(j(v),v==="personal"&&L&&b({name:L.name,phone:L.phone,address:L.address}))},U=(v,$)=>{b(K=>({...K,[v]:$}))},P=()=>{Object.keys(y).length>0&&q.mutate(y)},C=()=>{w.new_password===w.confirm_password&&D.mutate({current_password:w.current_password,new_password:w.new_password})},S=v=>{var K;const $=(K=v.target.files)==null?void 0:K[0];if($){E($);const ie=new FileReader;ie.onload=fe=>{var ve;return _((ve=fe.target)==null?void 0:ve.result)},ie.readAsDataURL($)}},z=()=>{k&&R.mutate(k)},O=(v,$,K)=>{U("location_lat",v),U("location_lng",$),U("address",K),p(!1)},N=L||n;return T?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden mb-8",children:t.jsx("div",{className:"px-6 py-8",children:t.jsxs("div",{className:"flex items-center space-x-6",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden",children:I?t.jsx("img",{src:I,alt:"Profile preview",className:"w-full h-full object-cover"}):N!=null&&N.name?t.jsx("span",{className:"text-2xl font-bold text-gray-600",children:N.name.charAt(0).toUpperCase()}):t.jsx(yi,{className:"w-12 h-12 text-gray-400"})}),t.jsxs("label",{className:"absolute bottom-0 right-0 bg-blue-600 text-white p-2 rounded-full cursor-pointer hover:bg-blue-700 transition-colors",children:[t.jsx(Fg,{className:"w-4 h-4"}),t.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"hidden"})]})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:N==null?void 0:N.name}),t.jsx("p",{className:"text-gray-600 mt-1",children:N==null?void 0:N.email}),t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N!=null&&N.is_verified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:N!=null&&N.is_verified?"Verified":"Unverified"}),t.jsx("span",{className:"ml-3 text-sm text-gray-500 capitalize",children:N==null?void 0:N.user_type})]})]}),k&&t.jsx("button",{onClick:z,disabled:R.isPending,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:R.isPending?"Uploading...":"Save Photo"})]})})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{className:"flex",children:[{id:"personal",label:"Personal Info",icon:yi},{id:"preferences",label:"Preferences",icon:gi},{id:"security",label:"Security",icon:na},...(N==null?void 0:N.user_type)==="buyer"?[{id:"business",label:"Business",icon:Es}]:[]].map(v=>{const $=v.icon;return t.jsxs("button",{onClick:()=>B(v.id),className:`flex items-center px-6 py-4 text-sm font-medium transition-colors ${m===v.id?"border-b-2 border-blue-600 text-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[t.jsx($,{className:"w-5 h-5 mr-2"}),v.label]},v.id)})})}),t.jsxs("div",{className:"p-6",children:[m==="personal"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Personal Information"}),t.jsxs("button",{onClick:()=>G("personal"),className:"flex items-center px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors",children:[x==="personal"?t.jsx(dt,{className:"w-4 h-4 mr-2"}):t.jsx(ao,{className:"w-4 h-4 mr-2"}),x==="personal"?"Cancel":"Edit"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),x==="personal"?t.jsx("input",{type:"text",value:y.name||"",onChange:v=>U("name",v.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}):t.jsx("p",{className:"px-4 py-3 bg-gray-50 rounded-lg text-gray-900",children:N==null?void 0:N.name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),t.jsxs("p",{className:"px-4 py-3 bg-gray-50 rounded-lg text-gray-500",children:[N==null?void 0:N.email," (Cannot be changed)"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),x==="personal"?t.jsx("input",{type:"tel",value:y.phone||"",onChange:v=>U("phone",v.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter phone number"}):t.jsx("p",{className:"px-4 py-3 bg-gray-50 rounded-lg text-gray-900",children:(N==null?void 0:N.phone)||"Not provided"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),x==="personal"?t.jsxs("div",{className:"space-y-2",children:[t.jsx("input",{type:"text",value:y.address||"",onChange:v=>U("address",v.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter address"}),t.jsxs("button",{onClick:()=>p(!h),className:"flex items-center text-sm text-blue-600 hover:text-blue-700",children:[t.jsx(Pt,{className:"w-4 h-4 mr-1"}),h?"Hide Map":"Select on Map"]})]}):t.jsx("p",{className:"px-4 py-3 bg-gray-50 rounded-lg text-gray-900",children:(N==null?void 0:N.address)||"Not provided"})]})]}),h&&x==="personal"&&t.jsxs("div",{className:"bg-gray-100 rounded-lg p-4",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Map integration would go here"}),t.jsx("button",{onClick:()=>O(25.2048,55.2708,"Dubai Marina, Dubai, UAE"),className:"text-sm bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700",children:"Use Sample Location"})]}),x==="personal"&&t.jsx("div",{className:"flex justify-end",children:t.jsxs("button",{onClick:P,disabled:q.isPending,className:"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[t.jsx(Hs,{className:"w-4 h-4 mr-2"}),q.isPending?"Saving...":"Save Changes"]})})]}),m==="preferences"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Account Preferences"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),t.jsxs("select",{value:l,onChange:v=>c(v.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"en",children:"English"}),t.jsx("option",{value:"ar",children:" (Arabic)"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),t.jsxs("select",{value:o,onChange:v=>d(v.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"AED",children:"AED (UAE Dirham)"}),t.jsx("option",{value:"USD",children:"USD (US Dollar)"}),t.jsx("option",{value:"EUR",children:"EUR (Euro)"}),t.jsx("option",{value:"SAR",children:"SAR (Saudi Riyal)"})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Communication Preferences"}),t.jsx("div",{className:"space-y-3",children:[{id:"email_alerts",label:"Email Alerts",description:"Receive price and stock alerts via email"},{id:"sms_notifications",label:"SMS Notifications",description:"Receive important updates via SMS"},{id:"push_notifications",label:"Push Notifications",description:"Receive real-time notifications in browser"},{id:"marketing_emails",label:"Marketing Emails",description:"Receive promotional offers and updates"}].map(v=>t.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:v.label}),t.jsx("p",{className:"text-sm text-gray-500",children:v.description})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},v.id))})]})]}),m==="security"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Security Settings"}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Change Password"}),t.jsxs("button",{onClick:()=>G("password"),className:"flex items-center px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors",children:[x==="password"?t.jsx(dt,{className:"w-4 h-4 mr-2"}):t.jsx(ao,{className:"w-4 h-4 mr-2"}),x==="password"?"Cancel":"Change Password"]})]}),x==="password"&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("input",{type:"password",placeholder:"Current Password",value:w.current_password,onChange:v=>g($=>({...$,current_password:v.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("input",{type:"password",placeholder:"New Password",value:w.new_password,onChange:v=>g($=>({...$,new_password:v.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("input",{type:"password",placeholder:"Confirm New Password",value:w.confirm_password,onChange:v=>g($=>({...$,confirm_password:v.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsxs("button",{onClick:C,disabled:D.isPending||w.new_password!==w.confirm_password,className:"flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[t.jsx(Hs,{className:"w-4 h-4 mr-2"}),D.isPending?"Updating...":"Update Password"]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Activity"}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsxs("p",{className:"text-sm text-gray-600",children:["Last login: ",N!=null&&N.last_login?new Date(N.last_login).toLocaleString():"Never"]}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Account created: ",N!=null&&N.created_at?new Date(N.created_at).toLocaleString():"Unknown"]})]})]})]}),m==="business"&&(N==null?void 0:N.user_type)==="buyer"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Business Features"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Quick Access"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Z,{to:"/alerts",className:"block text-blue-600 hover:text-blue-700 text-sm",children:"Manage Price Alerts"}),t.jsx(Z,{to:"/saved-searches",className:"block text-blue-600 hover:text-blue-700 text-sm",children:"Saved Searches"}),t.jsx(Z,{to:"/bom-library",className:"block text-blue-600 hover:text-blue-700 text-sm",children:"BOM Library"}),t.jsx(Z,{to:"/orders",className:"block text-blue-600 hover:text-blue-700 text-sm",children:"Order History"})]})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Account Statistics"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Active BOMs: 3"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Price Alerts: 12"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Saved Searches: 8"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Orders Placed: 23"})]})]})]})]})]})]}),(q.error||D.error||R.error)&&t.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:t.jsx("p",{className:"text-sm",children:((A=q.error)==null?void 0:A.message)||((M=D.error)==null?void 0:M.message)||((Q=R.error)==null?void 0:Q.message)})}),(q.isSuccess||D.isSuccess||R.isSuccess)&&t.jsx("div",{className:"mt-4 bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:t.jsxs("p",{className:"text-sm flex items-center",children:[t.jsx(so,{className:"w-4 h-4 mr-2"}),q.isSuccess&&"Profile updated successfully!",D.isSuccess&&"Password changed successfully!",R.isSuccess&&"Profile image updated successfully!"]})})]})})})},w5=async e=>(await Y.get("https://123construction-shop-finder.launchpulse.ai/api/map/shops",{params:{lat:e.lat,lng:e.lng,zoom:e.zoom,shop_type:e.shop_type||void 0,product_search:e.product_search||void 0,bounds:e.bounds||void 0}})).data,N5=async e=>(await Y.get("https://123construction-shop-finder.launchpulse.ai/api/shops/near-me",{params:{lat:e.lat,lng:e.lng,radius:e.radius,shop_type:e.shop_type||void 0,product_search:e.product_search||void 0,limit:e.limit||20}})).data,_5=async e=>(await Y.get(`https://123construction-shop-finder.launchpulse.ai/api/shops/${e}`)).data,k5=async(e,s)=>(await Y.post("https://123construction-shop-finder.launchpulse.ai/api/trip-planner",e,{headers:{Authorization:`Bearer ${s}`}})).data,S5=()=>{var O;const[e,s]=at(),r=W(N=>N.user_location),n=W(N=>N.authentication_state.auth_token),a=W(N=>N.update_user_location),[i,l]=u.useState({lat:parseFloat(e.get("lat")||"25.2048"),lng:parseFloat(e.get("lng")||"55.2708")}),[o,c]=u.useState(parseInt(e.get("zoom")||"12")),[d,m]=u.useState({shop_type:e.get("shop_type"),product_search:e.get("product_search"),radius_km:10,verified_only:!1}),[f,x]=u.useState(null),[j,y]=u.useState({active:!1,selected_shops:[],optimized_route:null}),[b,w]=u.useState(!1),[g,h]=u.useState("prompt"),p=u.useMemo(()=>{const N=.05*Math.pow(2,12-o),A=.05*Math.pow(2,12-o);return`${i.lat+N},${i.lat-N},${i.lng+A},${i.lng-A}`},[i,o]),{data:k,isLoading:E,error:I}=ce({queryKey:["mapShops",i.lat,i.lng,o,d.shop_type,d.product_search,p],queryFn:()=>w5({lat:i.lat,lng:i.lng,zoom:o,shop_type:d.shop_type,product_search:d.product_search,bounds:p}),staleTime:5*60*1e3,refetchOnWindowFocus:!1}),_=xe({mutationFn:N5}),{data:L,isLoading:T}=ce({queryKey:["shopDetails",f==null?void 0:f.id],queryFn:()=>_5(f.id),enabled:!!(f!=null&&f.id),staleTime:10*60*1e3}),q=xe({mutationFn:({shop_ids:N,start_location:A,return_to_start:M})=>k5({shop_ids:N,start_location:A,return_to_start:M},n)});u.useEffect(()=>{const N=new URLSearchParams;N.set("lat",i.lat.toString()),N.set("lng",i.lng.toString()),N.set("zoom",o.toString()),d.shop_type&&N.set("shop_type",d.shop_type),d.product_search&&N.set("product_search",d.product_search),s(N,{replace:!0})},[i,o,d,s]),u.useEffect(()=>{r.coordinates&&!e.get("lat")&&!e.get("lng")&&l({lat:r.coordinates.lat,lng:r.coordinates.lng})},[r.coordinates,e]);const D=u.useCallback(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(N=>{const A={coordinates:{lat:N.coords.latitude,lng:N.coords.longitude},accuracy:N.coords.accuracy};a(A),l(A.coordinates),h("granted"),_.mutate({lat:A.coordinates.lat,lng:A.coordinates.lng,radius:d.radius_km,shop_type:d.shop_type,product_search:d.product_search})},N=>{console.error("Error getting location:",N),h("denied")})},[a,d,_]),R=u.useCallback(N=>{j.active?y(A=>({...A,selected_shops:A.selected_shops.includes(N.id)?A.selected_shops.filter(M=>M!==N.id):[...A.selected_shops,N.id]})):x(N)},[j.active]),B=u.useCallback(()=>{c(N=>Math.min(18,N+1))},[]),G=u.useCallback(()=>{c(N=>Math.max(1,N-1))},[]),U=u.useCallback((N,A)=>{j.active||l({lat:N,lng:A})},[j.active]),P=u.useCallback(()=>{j.selected_shops.length>1&&r.coordinates&&n&&q.mutate({shop_ids:j.selected_shops,start_location:r.coordinates,return_to_start:!0},{onSuccess:N=>{y(A=>({...A,optimized_route:N.route}))}})},[j.selected_shops,r.coordinates,n,q]),C=u.useMemo(()=>k!=null&&k.shops?k.shops.filter(N=>!(d.verified_only&&!N.verified)):[],[k==null?void 0:k.shops,d.verified_only]),S=N=>{const A=(f==null?void 0:f.id)===N.id,M=j.selected_shops.includes(N.id);return t.jsx("div",{className:`absolute cursor-pointer transform -translate-x-1/2 -translate-y-1/2 transition-all duration-200 hover:scale-110 ${A?"z-30":M?"z-20":"z-10"}`,style:{left:`${(N.location_lng-(i.lng-.05))/.1*100}%`,top:`${(i.lat+.05-N.location_lat)/.1*100}%`},onClick:()=>R(N),children:t.jsxs("div",{className:`relative ${A?"animate-pulse":""}`,children:[t.jsx(Pt,{className:`w-6 h-6 ${M?"text-purple-600":N.verified?"text-blue-600":"text-gray-600"}`,fill:"currentColor"}),N.verified&&t.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white"}),M&&t.jsx("div",{className:"absolute -top-2 -right-2 w-4 h-4 bg-purple-600 text-white text-xs rounded-full flex items-center justify-center font-bold",children:j.selected_shops.indexOf(N.id)+1})]})},N.id)},z=(N,A)=>t.jsx("div",{className:"absolute cursor-pointer transform -translate-x-1/2 -translate-y-1/2 z-10",style:{left:`${(N.lng-(i.lng-.05))/.1*100}%`,top:`${(i.lat+.05-N.lat)/.1*100}%`},onClick:()=>{l({lat:N.lat,lng:N.lng}),c(M=>Math.min(18,M+2))},children:t.jsx("div",{className:"bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm border-2 border-white shadow-lg hover:bg-blue-700 transition-colors",children:N.count})},`cluster-${A}`);return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"h-screen flex flex-col bg-gray-100",children:[t.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Shop Map"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("span",{className:"text-sm text-gray-500",children:["Zoom: ",o]}),t.jsxs("span",{className:"text-sm text-gray-500",children:["Shops: ",C.length]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>w(!b),className:`p-2 rounded-lg transition-colors ${b?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:t.jsx(wh,{className:"w-5 h-5"})}),t.jsx("button",{onClick:D,disabled:g==="denied",className:"p-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t.jsx(Dg,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>y(N=>({...N,active:!N.active,selected_shops:N.active?[]:N.selected_shops,optimized_route:N.active?null:N.optimized_route})),className:`p-2 rounded-lg transition-colors ${j.active?"bg-purple-100 text-purple-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:t.jsx(nN,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{className:"flex-1 flex",children:[b&&t.jsx("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col",children:t.jsxs("div",{className:"p-4 border-b border-gray-200",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Map Filters"}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Search"}),t.jsxs("div",{className:"relative",children:[t.jsx(bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),t.jsx("input",{type:"text",value:d.product_search||"",onChange:N=>m(A=>({...A,product_search:N.target.value||null})),placeholder:"Search for products...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shop Type"}),t.jsxs("select",{value:d.shop_type||"",onChange:N=>m(A=>({...A,shop_type:N.target.value||null})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"All Types"}),t.jsx("option",{value:"hardware_store",children:"Hardware Store"}),t.jsx("option",{value:"building_materials",children:"Building Materials"}),t.jsx("option",{value:"electrical_supplies",children:"Electrical Supplies"}),t.jsx("option",{value:"plumbing_supplies",children:"Plumbing Supplies"}),t.jsx("option",{value:"paint_supplies",children:"Paint Supplies"})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Search Radius: ",d.radius_km," km"]}),t.jsx("input",{type:"range",min:"1",max:"50",value:d.radius_km,onChange:N=>m(A=>({...A,radius_km:parseInt(N.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[t.jsx("span",{children:"1km"}),t.jsx("span",{children:"50km"})]})]}),t.jsx("div",{className:"mb-4",children:t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",checked:d.verified_only,onChange:N=>m(A=>({...A,verified_only:N.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Verified shops only"})]})})]})}),t.jsxs("div",{className:"flex-1 relative bg-gray-200",children:[t.jsxs("div",{className:"absolute top-4 right-4 z-30 flex flex-col space-y-2",children:[t.jsx("button",{onClick:B,className:"w-10 h-10 bg-white rounded-lg shadow-lg flex items-center justify-center hover:bg-gray-50 transition-colors",children:t.jsx(fs,{className:"w-5 h-5 text-gray-600"})}),t.jsx("button",{onClick:G,className:"w-10 h-10 bg-white rounded-lg shadow-lg flex items-center justify-center hover:bg-gray-50 transition-colors",children:t.jsx(Kd,{className:"w-5 h-5 text-gray-600"})})]}),j.active&&t.jsxs("div",{className:"absolute top-4 left-4 z-30 bg-white rounded-lg shadow-lg p-4",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[t.jsx("div",{className:"w-3 h-3 bg-purple-600 rounded-full"}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Route Planning Mode"})]}),t.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Selected shops: ",j.selected_shops.length]}),j.selected_shops.length>1&&t.jsx("button",{onClick:P,disabled:q.isPending||!n,className:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:q.isPending?t.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):t.jsxs(t.Fragment,{children:[t.jsx(sN,{className:"w-4 h-4"}),t.jsx("span",{children:"Plan Route"})]})})]}),E&&t.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20 flex items-center justify-center z-20",children:t.jsxs("div",{className:"bg-white rounded-lg p-4 flex items-center space-x-3",children:[t.jsx("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),t.jsx("span",{className:"text-gray-900",children:"Loading shops..."})]})}),t.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-green-100 to-blue-100 relative overflow-hidden cursor-crosshair",onClick:N=>{const A=N.currentTarget.getBoundingClientRect(),M=(N.clientX-A.left)/A.width,Q=(N.clientY-A.top)/A.height,v=i.lat+.05-Q*.1,$=i.lng-.05+M*.1;U(v,$)},children:[t.jsxs("div",{className:"absolute inset-0",children:[Array.from({length:10}).map((N,A)=>t.jsx("div",{className:"absolute w-full h-px bg-white bg-opacity-30",style:{top:`${A*10}%`}},`h-${A}`)),Array.from({length:10}).map((N,A)=>t.jsx("div",{className:"absolute h-full w-px bg-white bg-opacity-30",style:{left:`${A*10}%`}},`v-${A}`))]}),t.jsxs("div",{className:"absolute bottom-4 left-4 bg-white bg-opacity-90 rounded-lg px-3 py-2 text-sm text-gray-700",children:[i.lat.toFixed(4),", ",i.lng.toFixed(4)]}),r.coordinates&&t.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 z-20",style:{left:`${(r.coordinates.lng-(i.lng-.05))/.1*100}%`,top:`${(i.lat+.05-r.coordinates.lat)/.1*100}%`},children:t.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full border-2 border-white shadow-lg animate-pulse"})}),o>=13?C.map(N=>S(N)):(O=k==null?void 0:k.clusters)==null?void 0:O.map((N,A)=>z(N,A))]})]}),f&&t.jsxs("div",{className:"w-96 bg-white border-l border-gray-200 flex flex-col",children:[t.jsxs("div",{className:"p-4 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f.name}),t.jsx("button",{onClick:()=>x(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:""})]}),f.verified&&t.jsx("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 mb-2",children:" Verified"}),t.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"font-medium",children:f.rating_average.toFixed(1)}),t.jsx("span",{className:"ml-1",children:""})]}),f.distance_km&&t.jsxs("span",{children:[f.distance_km.toFixed(1)," km away"]})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:T?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})}):L?t.jsxs("div",{className:"space-y-4",children:[L.address&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"Address"}),t.jsx("p",{className:"text-sm text-gray-600",children:L.address})]}),L.phones&&L.phones.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"Phone"}),L.phones.map((N,A)=>t.jsx("p",{className:"text-sm text-gray-600",children:N},A))]}),L.hours&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"Hours"}),t.jsx("div",{className:"text-sm text-gray-600",children:Object.entries(L.hours).map(([N,A])=>t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"capitalize",children:N}),t.jsx("span",{children:A})]},N))})]}),L.shop_type&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:"Type"}),t.jsx("p",{className:"text-sm text-gray-600 capitalize",children:L.shop_type.replace("_"," ")})]})]}):null}),t.jsxs("div",{className:"p-4 border-t border-gray-200 space-y-2",children:[t.jsx(Z,{to:`/shop/${f.id}`,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-center block",children:"View Shop Details"}),j.active&&t.jsx("button",{onClick:()=>R(f),className:`w-full px-4 py-2 rounded-lg transition-colors ${j.selected_shops.includes(f.id)?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:j.selected_shops.includes(f.id)?"Remove from Route":"Add to Route"})]})]})]}),I&&t.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-lg",children:t.jsx("p",{className:"text-sm",children:"Failed to load shops. Please try again."})})]})})},C5=()=>{var ve,_t;const e=W(H=>H.authentication_state.auth_token),[s,r]=u.useState({type:new URLSearchParams(window.location.search).get("type"),active:new URLSearchParams(window.location.search).get("active")==="true"?!0:null}),[n,a]=u.useState(!1),[i,l]=u.useState(null),[o,c]=u.useState("alerts"),[d,m]=u.useState(""),[f,x]=u.useState(!1),[j,y]=u.useState({type:"price_drop",variant_id:null,shop_id:null,threshold_value:null,condition_type:"below",notification_methods:["push"]}),[b,w]=u.useState([]),[g,h]=u.useState(""),[p,k]=u.useState(!1),[E,I]=u.useState({push_enabled:!0,email_enabled:!0,sms_enabled:!1,quiet_hours:null}),_=Xe(),L=async()=>{const H=new URLSearchParams;return s.type&&H.append("type",s.type),s.active!==null&&H.append("active",s.active.toString()),H.append("limit","50"),H.append("offset","0"),(await Y.get(`https://123construction-shop-finder.launchpulse.ai/api/alerts?${H.toString()}`,{headers:{Authorization:`Bearer ${e}`}})).data},T=async H=>(await Y.post("https://123construction-shop-finder.launchpulse.ai/api/alerts",H,{headers:{Authorization:`Bearer ${e}`}})).data,q=async({alertId:H,updates:le})=>(await Y.put(`https://123construction-shop-finder.launchpulse.ai/api/alerts/${H}`,le,{headers:{Authorization:`Bearer ${e}`}})).data,D=async H=>{await Y.delete(`https://123construction-shop-finder.launchpulse.ai/api/alerts/${H}`,{headers:{Authorization:`Bearer ${e}`}})},R=async H=>H.trim()?(await Y.get(`https://123construction-shop-finder.launchpulse.ai/api/product-variants?query=${encodeURIComponent(H)}&limit=10&is_active=true`)).data:{variants:[]},{data:B,isLoading:G,error:U}=ce({queryKey:["alerts",s],queryFn:L,enabled:!!e}),P=xe({mutationFn:T,onSuccess:()=>{_.invalidateQueries({queryKey:["alerts"]}),a(!1),y({type:"price_drop",variant_id:null,shop_id:null,threshold_value:null,condition_type:"below",notification_methods:["push"]}),w([]),h("")}}),C=xe({mutationFn:q,onSuccess:()=>{_.invalidateQueries({queryKey:["alerts"]}),l(null)}}),S=xe({mutationFn:D,onSuccess:()=>{_.invalidateQueries({queryKey:["alerts"]})}}),{mutate:z}=xe({mutationFn:R,onSuccess:H=>{w(H.variants)}});u.useEffect(()=>{if(g.length>=2){const H=setTimeout(()=>{z(g)},300);return()=>clearTimeout(H)}else w([])},[g,z]);const O=H=>{const le={...s,...H};r(le);const Ae=new URLSearchParams;le.type&&Ae.set("type",le.type),le.active!==null&&Ae.set("active",le.active.toString()),window.history.replaceState({},"",`${window.location.pathname}?${Ae.toString()}`)},N=()=>{P.mutate(j)},A=H=>{C.mutate({alertId:H.id,updates:{active:!H.active}})},M=H=>{window.confirm("Are you sure you want to delete this alert?")&&S.mutate(H)},Q=H=>{y(le=>({...le,variant_id:H.id})),k(!1),h(""),w([])},v=H=>{switch(H){case"price_drop":return"Price Alert";case"stock_available":return"Stock Alert";case"new_product":return"New Product Alert";case"shop_alert":return"Shop Alert";default:return H}},$=H=>{switch(H){case"price_drop":return t.jsx(It,{className:"h-4 w-4"});case"stock_available":return t.jsx(rs,{className:"h-4 w-4"});case"new_product":return t.jsx(fs,{className:"h-4 w-4"});case"shop_alert":return t.jsx(Es,{className:"h-4 w-4"});default:return t.jsx(Es,{className:"h-4 w-4"})}},K=H=>{switch(H){case"below":return"Below";case"above":return"Above";case"equals":return"Equals";case"percentage_change":return"% Change";default:return H}},ie=(B==null?void 0:B.alerts)||[],fe=ie.filter(H=>{var le,Ae;if(d){const as=d.toLowerCase();return((le=H.product_name)==null?void 0:le.toLowerCase().includes(as))||((Ae=H.shop_name)==null?void 0:Ae.toLowerCase().includes(as))||v(H.type).toLowerCase().includes(as)}return!0});return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gray-50 py-8",children:[t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Alert Management"}),t.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Monitor price changes, stock availability, and product updates"})]}),t.jsxs("div",{className:"mt-4 lg:mt-0 lg:ml-4 flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[t.jsxs("button",{onClick:()=>x(!f),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[t.jsx(wh,{className:"h-4 w-4 mr-2"}),"Filters"]}),t.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[t.jsx(fs,{className:"h-4 w-4 mr-2"}),"Create Alert"]})]})]}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[t.jsx("div",{className:"bg-white overflow-hidden shadow-lg rounded-lg border",children:t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(Es,{className:"h-6 w-6 text-blue-600"})}),t.jsx("div",{className:"ml-4 w-0 flex-1",children:t.jsxs("dl",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Alerts"}),t.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:ie.length})]})})]})})}),t.jsx("div",{className:"bg-white overflow-hidden shadow-lg rounded-lg border",children:t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(rs,{className:"h-6 w-6 text-green-600"})}),t.jsx("div",{className:"ml-4 w-0 flex-1",children:t.jsxs("dl",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Alerts"}),t.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:ie.filter(H=>H.active).length})]})})]})})}),t.jsx("div",{className:"bg-white overflow-hidden shadow-lg rounded-lg border",children:t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(dn,{className:"h-6 w-6 text-orange-600"})}),t.jsx("div",{className:"ml-4 w-0 flex-1",children:t.jsxs("dl",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Recently Triggered"}),t.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:ie.filter(H=>H.last_triggered_at&&Date.now()-H.last_triggered_at<24*60*60*1e3).length})]})})]})})}),t.jsx("div",{className:"bg-white overflow-hidden shadow-lg rounded-lg border",children:t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(It,{className:"h-6 w-6 text-purple-600"})}),t.jsx("div",{className:"ml-4 w-0 flex-1",children:t.jsxs("dl",{children:[t.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Triggers"}),t.jsx("dd",{className:"text-lg font-semibold text-gray-900",children:ie.reduce((H,le)=>H+le.triggered_count,0)})]})})]})})})]})]}),t.jsx("div",{className:"mb-6",children:t.jsxs("nav",{className:"flex space-x-8",children:[t.jsx("button",{onClick:()=>c("alerts"),className:`py-2 px-1 border-b-2 font-medium text-sm ${o==="alerts"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"My Alerts"}),t.jsx("button",{onClick:()=>c("preferences"),className:`py-2 px-1 border-b-2 font-medium text-sm ${o==="preferences"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Notification Preferences"}),t.jsx("button",{onClick:()=>c("history"),className:`py-2 px-1 border-b-2 font-medium text-sm ${o==="history"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Alert History"})]})}),f&&t.jsx("div",{className:"mb-6 bg-white rounded-lg shadow-lg border p-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alert Type"}),t.jsxs("select",{value:s.type||"",onChange:H=>O({type:H.target.value||null}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"All Types"}),t.jsx("option",{value:"price_drop",children:"Price Alerts"}),t.jsx("option",{value:"stock_available",children:"Stock Alerts"}),t.jsx("option",{value:"new_product",children:"New Product Alerts"}),t.jsx("option",{value:"shop_alert",children:"Shop Alerts"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),t.jsxs("select",{value:s.active===null?"":s.active.toString(),onChange:H=>O({active:H.target.value===""?null:H.target.value==="true"}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"All Statuses"}),t.jsx("option",{value:"true",children:"Active Only"}),t.jsx("option",{value:"false",children:"Inactive Only"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search alerts...",value:d,onChange:H=>m(H.target.value),className:"block w-full pl-10 rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),t.jsx(bs,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"})]})]})]})}),o==="alerts"&&t.jsx("div",{className:"bg-white shadow-lg rounded-lg border",children:G?t.jsxs("div",{className:"p-8 text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading alerts..."})]}):U?t.jsxs("div",{className:"p-8 text-center",children:[t.jsx(dn,{className:"h-8 w-8 text-red-500 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-red-600",children:"Failed to load alerts"})]}):fe.length===0?t.jsxs("div",{className:"p-8 text-center",children:[t.jsx(Es,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No alerts found"}),t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:d||s.type||s.active!==null?"Try adjusting your filters or search query.":"Create your first alert to get started with price and stock monitoring."}),t.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700",children:[t.jsx(fs,{className:"h-4 w-4 mr-2"}),"Create Your First Alert"]})]}):t.jsx("div",{className:"divide-y divide-gray-200",children:fe.map(H=>t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`flex-shrink-0 p-2 rounded-lg ${H.type==="price_drop"?"bg-blue-100 text-blue-600":H.type==="stock_available"?"bg-green-100 text-green-600":H.type==="new_product"?"bg-purple-100 text-purple-600":"bg-orange-100 text-orange-600"}`,children:$(H.type)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:v(H.type)}),H.product_name&&t.jsxs("p",{className:"text-sm text-gray-600 truncate",children:["Product: ",H.product_name]}),H.shop_name&&t.jsxs("p",{className:"text-sm text-gray-600 truncate",children:["Shop: ",H.shop_name]})]})]}),t.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[H.threshold_value&&t.jsxs("span",{className:"flex items-center",children:[t.jsx(It,{className:"h-4 w-4 mr-1"}),K(H.condition_type)," ",H.threshold_value]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(Es,{className:"h-4 w-4 mr-1"}),H.notification_methods.join(", ")]}),t.jsxs("span",{className:"flex items-center",children:[t.jsx(ra,{className:"h-4 w-4 mr-1"}),H.triggered_count," triggers"]}),H.last_triggered_at&&t.jsxs("span",{className:"text-orange-600",children:["Last triggered: ",new Date(H.last_triggered_at).toLocaleDateString()]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[t.jsx("button",{onClick:()=>A(H),disabled:C.isPending,className:`p-2 rounded-lg transition-colors ${H.active?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-50"}`,title:H.active?"Disable alert":"Enable alert",children:H.active?t.jsx(cn,{className:"h-4 w-4"}):t.jsx(Zd,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>l(H),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"Edit alert",children:t.jsx(Gd,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>M(H.id),disabled:S.isPending,className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete alert",children:t.jsx(_h,{className:"h-4 w-4"})})]})]}),t.jsxs("div",{className:`mt-4 flex items-center justify-between p-3 rounded-lg ${H.active?"bg-green-50 border border-green-200":"bg-gray-50 border border-gray-200"}`,children:[t.jsx("span",{className:`text-sm font-medium ${H.active?"text-green-800":"text-gray-600"}`,children:H.active?"Active":"Inactive"}),t.jsxs("span",{className:"text-xs text-gray-500",children:["Created ",new Date(H.created_at).toLocaleDateString()]})]})]},H.id))})}),o==="preferences"&&t.jsxs("div",{className:"bg-white shadow-lg rounded-lg border p-6",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Notification Preferences"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Push Notifications"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Receive alerts directly in your browser"})]}),t.jsx("button",{onClick:()=>I(H=>({...H,push_enabled:!H.push_enabled})),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${E.push_enabled?"bg-blue-600":"bg-gray-200"}`,children:t.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${E.push_enabled?"translate-x-5":"translate-x-0"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Email Notifications"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Receive alerts via email"})]}),t.jsx("button",{onClick:()=>I(H=>({...H,email_enabled:!H.email_enabled})),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${E.email_enabled?"bg-blue-600":"bg-gray-200"}`,children:t.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${E.email_enabled?"translate-x-5":"translate-x-0"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"SMS Notifications"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Receive alerts via text message"})]}),t.jsx("button",{onClick:()=>I(H=>({...H,sms_enabled:!H.sms_enabled})),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${E.sms_enabled?"bg-blue-600":"bg-gray-200"}`,children:t.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${E.sms_enabled?"translate-x-5":"translate-x-0"}`})})]}),t.jsxs("div",{className:"border-t pt-6",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Quiet Hours"}),t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Set hours when you don't want to receive notifications"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),t.jsx("input",{type:"time",value:((ve=E.quiet_hours)==null?void 0:ve.start)||"",onChange:H=>I(le=>{var Ae;return{...le,quiet_hours:{start:H.target.value,end:((Ae=le.quiet_hours)==null?void 0:Ae.end)||"08:00"}}}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),t.jsx("input",{type:"time",value:((_t=E.quiet_hours)==null?void 0:_t.end)||"",onChange:H=>I(le=>{var Ae;return{...le,quiet_hours:{start:((Ae=le.quiet_hours)==null?void 0:Ae.start)||"22:00",end:H.target.value}}}),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]})]})]})]}),o==="history"&&t.jsxs("div",{className:"bg-white shadow-lg rounded-lg border p-6",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Alert History"}),t.jsx("p",{className:"text-sm text-gray-500",children:"View your alert trigger history and performance analytics. This feature will be available soon."})]})]}),n&&t.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-screen overflow-y-auto",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Create New Alert"}),t.jsx("button",{onClick:()=>{a(!1),y({type:"price_drop",variant_id:null,shop_id:null,threshold_value:null,condition_type:"below",notification_methods:["push"]}),w([]),h("")},className:"text-gray-400 hover:text-gray-600",children:t.jsx(dt,{className:"h-6 w-6"})})]})}),t.jsxs("div",{className:"px-6 py-4 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alert Type"}),t.jsxs("select",{value:j.type,onChange:H=>y(le=>({...le,type:H.target.value,variant_id:null,threshold_value:null})),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[t.jsx("option",{value:"price_drop",children:"Price Alert"}),t.jsx("option",{value:"stock_available",children:"Stock Alert"}),t.jsx("option",{value:"new_product",children:"New Product Alert"}),t.jsx("option",{value:"shop_alert",children:"Shop Alert"})]})]}),(j.type==="price_drop"||j.type==="stock_available")&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search for a product...",value:g,onChange:H=>{h(H.target.value),k(!0)},onFocus:()=>k(!0),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),p&&b.length>0&&t.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-lg py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm",children:b.map(H=>{var le;return t.jsxs("button",{onClick:()=>Q(H),className:"w-full text-left px-4 py-2 text-sm text-gray-900 hover:bg-gray-100",children:[t.jsx("div",{className:"font-medium",children:(le=H.product)==null?void 0:le.canonical_name}),H.brand&&t.jsxs("div",{className:"text-gray-500",children:[H.brand," ",H.grade]})]},H.id)})})]}),j.variant_id&&t.jsx("div",{className:"mt-2 p-2 bg-blue-50 rounded-lg",children:t.jsx("p",{className:"text-sm text-blue-700",children:"Product selected"})})]}),j.type==="price_drop"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Condition"}),t.jsxs("select",{value:j.condition_type,onChange:H=>y(le=>({...le,condition_type:H.target.value})),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[t.jsx("option",{value:"below",children:"Below"}),t.jsx("option",{value:"above",children:"Above"}),t.jsx("option",{value:"equals",children:"Equals"}),t.jsx("option",{value:"percentage_change",children:"Percentage Change"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Threshold Value ",j.condition_type==="percentage_change"?"(%)":"(AED)"]}),t.jsx("input",{type:"number",step:"0.01",value:j.threshold_value||"",onChange:H=>y(le=>({...le,threshold_value:parseFloat(H.target.value)||null})),className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter threshold value"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notification Methods"}),t.jsx("div",{className:"space-y-2",children:["push","email","sms"].map(H=>t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",checked:j.notification_methods.includes(H),onChange:le=>{le.target.checked?y(Ae=>({...Ae,notification_methods:[...Ae.notification_methods,H]})):y(Ae=>({...Ae,notification_methods:Ae.notification_methods.filter(as=>as!==H)}))},className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),t.jsx("span",{className:"ml-2 text-sm text-gray-900 capitalize",children:H})]},H))})]})]}),t.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[t.jsx("button",{onClick:()=>{a(!1),y({type:"price_drop",variant_id:null,shop_id:null,threshold_value:null,condition_type:"below",notification_methods:["push"]})},className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),t.jsx("button",{onClick:N,disabled:P.isPending||!j.notification_methods.length,className:"px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:P.isPending?"Creating...":"Create Alert"})]})]})}),i&&t.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Alert"}),t.jsx("button",{onClick:()=>l(null),className:"text-gray-400 hover:text-gray-600",children:t.jsx(dt,{className:"h-6 w-6"})})]})}),t.jsxs("div",{className:"px-6 py-4 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alert Status"}),t.jsx("button",{onClick:()=>A(i),className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${i.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:i.active?"Active":"Inactive"})]}),i.type==="price_drop"&&i.threshold_value&&t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Threshold Value (",i.condition_type==="percentage_change"?"%":"AED",")"]}),t.jsx("input",{type:"number",step:"0.01",defaultValue:i.threshold_value,onChange:H=>{const le=parseFloat(H.target.value);isNaN(le)||C.mutate({alertId:i.id,updates:{threshold_value:le}})},onBlur:H=>{const le=parseFloat(H.target.value);!isNaN(le)&&le!==i.threshold_value&&C.mutate({alertId:i.id,updates:{threshold_value:le}})},className:"block w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notification Methods"}),t.jsx("div",{className:"space-y-2",children:["push","email","sms"].map(H=>t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",checked:i.notification_methods.includes(H),onChange:le=>{const Ae=le.target.checked?[...i.notification_methods,H]:i.notification_methods.filter(as=>as!==H);C.mutate({alertId:i.id,updates:{notification_methods:Ae}})},className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),t.jsx("span",{className:"ml-2 text-sm text-gray-900 capitalize",children:H})]},H))})]})]}),t.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end",children:t.jsx("button",{onClick:()=>l(null),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Done"})})]})})]})})},E5=()=>{const{category_path:e}=lh(),[s,r]=at(),n=qs(),a=W(S=>S.authentication_state.authentication_status.is_authenticated),i=W(S=>S.add_to_comparison),l=W(S=>S.add_bom_item),o=W(S=>S.current_bom),[c,d]=u.useState(""),[m,f]=u.useState(null),[x,j]=u.useState(s.get("view")||"grid"),[y,b]=u.useState(s.get("sort")||"name"),[w,g]=u.useState(!1),h="https://123construction-shop-finder.launchpulse.ai",{data:p,isLoading:k,error:E}=ce({queryKey:["categories","hierarchy"],queryFn:async()=>{const S=await Y.get(`${h}/api/categories`,{params:{is_active:!0,limit:100,sort_by:"sort_order",sort_order:"asc"}}),z=(N,A=null)=>N.filter(M=>M.parent_id===A).map(M=>({...M,children:z(N,M.id),product_count:0}));return{hierarchy:z(S.data.categories),featured:S.data.categories.filter(N=>N.parent_id===null).slice(0,8).map(N=>({...N,popular:!0}))}},staleTime:10*60*1e3,refetchOnWindowFocus:!1}),{data:I,isLoading:_}=ce({queryKey:["category",m],queryFn:async()=>m?(await Y.get(`${h}/api/categories/${m}`)).data:null,enabled:!!m,staleTime:5*60*1e3}),{data:L,isLoading:T,error:q}=ce({queryKey:["products","category",m,y,c],queryFn:async()=>{if(!m)return{products:[],total:0};const S={category_id:m,is_active:!0,sort_by:y,sort_order:"asc",limit:20,offset:0};return c.trim()&&(S.query=c.trim()),(await Y.get(`${h}/api/products`,{params:S})).data},enabled:!!m,staleTime:2*60*1e3}),D=u.useMemo(()=>!I||!(p!=null&&p.hierarchy)?[]:((z,O)=>{const N=[];let A=z;for(;A;){N.unshift({id:A.id,name:A.name,path:A.category_path});const M=(Q,v)=>{for(const $ of Q){if($.id===v)return $;if($.children){const K=M($.children,v);if(K)return K}}return null};A=A.parent_id?M(O,A.parent_id):null}return N})(I||void 0,p.hierarchy),[I,p]);u.useEffect(()=>{if(e&&(p!=null&&p.hierarchy)){const S=(O,N)=>{for(const A of O){if(A.category_path===N)return A;if(A.children){const M=S(A.children,N);if(M)return M}}return null},z=S(p.hierarchy,e);z&&f(z.id)}else f(null)},[e,p]),u.useEffect(()=>{const S=new URLSearchParams;y!=="name"&&S.set("sort",y),x!=="grid"&&S.set("view",x),r(S)},[y,x,r]);const R=S=>{n(`/categories/${S.category_path}`)},B=S=>{d(S)},G=S=>{i(S)},U=async S=>{if(o.id)try{await l({variant_id:S,quantity:1,unit:"piece",waste_factor:0})}catch(z){console.error("Failed to add to BOM:",z)}},P=S=>t.jsxs("div",{onClick:()=>R(S),className:"group relative bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 cursor-pointer overflow-hidden border border-gray-100",children:[t.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gradient-to-br from-blue-50 to-indigo-100",children:S.image_url?t.jsx("img",{src:S.image_url,alt:S.name,className:"w-full h-32 object-cover group-hover:scale-105 transition-transform duration-200"}):t.jsx("div",{className:"w-full h-32 flex items-center justify-center",children:t.jsx(Nr,{className:"h-12 w-12 text-blue-500"})})}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-blue-600 transition-colors",children:S.name}),S.popular&&t.jsx(X_,{className:"h-5 w-5 text-yellow-400 fill-current"})]}),S.description&&t.jsx("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:S.description}),t.jsxs("div",{className:"flex items-center justify-between mt-3",children:[t.jsxs("span",{className:"text-xs text-gray-500",children:[S.product_count||0," products"]}),t.jsx(nu,{className:"h-4 w-4 text-gray-400 group-hover:text-blue-500 transition-colors"})]})]})]},S.id),C=S=>t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-50",children:S.image_url?t.jsx("img",{src:S.image_url,alt:S.canonical_name,className:"w-full h-48 object-cover"}):t.jsx("div",{className:"w-full h-48 flex items-center justify-center",children:t.jsx(ho,{className:"h-16 w-16 text-gray-300"})})}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:S.canonical_name}),S.description&&t.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:S.description}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[t.jsxs("span",{children:["Unit: ",S.base_unit]}),S.waste_factor_percentage>0&&t.jsxs("span",{children:["Waste: ",S.waste_factor_percentage,"%"]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(Z,{to:`/product/${S.id}`,className:"flex-1 bg-blue-600 text-white px-3 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-1",children:[t.jsx(P_,{className:"h-4 w-4"}),"View Details"]}),a&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>{var z,O;return G(((O=(z=S.variants)==null?void 0:z[0])==null?void 0:O.id)||S.id)},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",title:"Add to comparison",children:t.jsx(G0,{className:"h-4 w-4"})}),o.id&&t.jsx("button",{onClick:()=>{var z,O;return U(((O=(z=S.variants)==null?void 0:z[0])==null?void 0:O.id)||S.id)},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",title:"Add to BOM",children:t.jsx(Dt,{className:"h-4 w-4"})})]})]})]})]},S.id);return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white border-b border-gray-200",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:I?I.name:"Browse Categories"}),D.length>0&&t.jsxs("nav",{className:"flex items-center space-x-2 mt-2","aria-label":"Breadcrumb",children:[t.jsx(Z,{to:"/categories",className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"All Categories"}),D.map((S,z)=>t.jsxs(gn.Fragment,{children:[t.jsx(nu,{className:"h-4 w-4 text-gray-400"}),z===D.length-1?t.jsx("span",{className:"text-sm font-medium text-gray-900",children:S.name}):t.jsx(Z,{to:`/categories/${S.path}`,className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:S.name})]},S.id))]})]}),m&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search in category...",value:c,onChange:S=>B(S.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsx("button",{onClick:()=>g(!w),className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:t.jsx(G0,{className:"h-5 w-5 text-gray-600"})})]})]}),m&&w&&t.jsx("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort by"}),t.jsxs("select",{value:y,onChange:S=>b(S.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"canonical_name",children:"Name"}),t.jsx("option",{value:"created_at",children:"Newest"}),t.jsx("option",{value:"category_id",children:"Category"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"View"}),t.jsxs("div",{className:"flex border border-gray-300 rounded-md",children:[t.jsx("button",{onClick:()=>j("grid"),className:`p-2 ${x==="grid"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-50"} transition-colors`,children:t.jsx(Zg,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>j("list"),className:`p-2 ${x==="list"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-50"} transition-colors`,children:t.jsx(Qg,{className:"h-4 w-4"})})]})]}),t.jsx("button",{onClick:()=>g(!1),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(ua,{className:"h-5 w-5"})})]})})]})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(k||_||T)&&t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),(E||q)&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:t.jsx("p",{children:"Failed to load content. Please try again later."})}),!m&&!k&&p&&t.jsxs("div",{children:[p.featured.length>0&&t.jsxs("div",{className:"mb-12",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Featured Categories"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:p.featured.map(P)})]}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"All Categories"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.hierarchy.map(P)})]})]}),m&&I&&!_&&t.jsxs("div",{children:[I.children&&I.children.length>0&&t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Subcategories"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:I.children.map(P)})]}),!T&&L&&t.jsxs("div",{children:[t.jsx("div",{className:"flex items-center justify-between mb-6",children:t.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Products (",L.total||0,")"]})}),L.products.length>0?t.jsx("div",{className:`grid gap-6 ${x==="grid"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1"}`,children:L.products.map(C)}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Nr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),t.jsx("p",{className:"text-gray-600",children:c?`No products match "${c}" in this category.`:"This category doesn't have any products yet."}),c&&t.jsx("button",{onClick:()=>d(""),className:"mt-4 text-blue-600 hover:text-blue-700 font-medium",children:"Clear search"})]})]})]}),!k&&!(p!=null&&p.hierarchy.length)&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Nr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No categories available"}),t.jsx("p",{className:"text-gray-600",children:"Categories will appear here when they're added to the system."})]})]})]})})},P5=()=>{var Q;const[e]=at(),s=qs(),r=u.useRef(null),n=u.useRef(null),a=e.get("add_to_bom")==="true",i=W(v=>v.authentication_state.auth_token),l=W(v=>v.current_bom),o=W(v=>v.add_bom_item),[c,d]=u.useState({active:!1,permission_granted:!1,flash_enabled:!1,auto_focus:!0,scanning:!1}),[m,f]=u.useState({barcode:null,format:null,product_match:null,confidence:0}),[x,j]=u.useState({matched_variants:[],alternative_suggestions:[],manual_association_needed:!1}),[y,b]=u.useState({enabled:a,quantity:1,unit:"piece"}),[w,g]=u.useState([]),[h,p]=u.useState({active:!1,barcode_input:"",entry_method:"keyboard"}),[k,E]=u.useState(null),I=u.useCallback(async()=>{d(v=>({...v,scanning:!0}));try{const v=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}});r.current&&(r.current.srcObject=v,E(v),d($=>({...$,active:!0,permission_granted:!0,scanning:!1})))}catch(v){console.error("Camera access error:",v),d($=>({...$,active:!1,permission_granted:!1,scanning:!1}))}},[]),_=u.useCallback(()=>{k&&(k.getTracks().forEach(v=>v.stop()),E(null)),d(v=>({...v,active:!1,scanning:!1}))},[k]),L=u.useCallback(()=>{if(!c.active||c.scanning)return;const v=["1234567890123","9876543210987","5555555555555","1111111111111"],$=v[Math.floor(Math.random()*v.length)];f({barcode:$,format:"EAN-13",product_match:null,confidence:.95}),z($)},[c.active,c.scanning]),{data:T,isLoading:q,refetch:D}=ce({queryKey:["product-variants-barcode",m.barcode],queryFn:async()=>{if(!m.barcode)throw new Error("No barcode to search");return(await Y.get("https://123construction-shop-finder.launchpulse.ai/api/product-variants",{params:{query:m.barcode,is_active:!0,limit:10}})).data},enabled:!1,staleTime:6e4,retry:1}),{data:R,isLoading:B,refetch:G}=ce({queryKey:["search-products",m.barcode],queryFn:async()=>(await Y.get("https://123construction-shop-finder.launchpulse.ai/api/search",{params:{q:m.barcode,type:"products",limit:20}})).data,enabled:!1,staleTime:6e4,retry:1}),{data:U,isLoading:P,refetch:C}=ce({queryKey:["inventory-check",(Q=x.matched_variants[0])==null?void 0:Q.id],queryFn:async()=>{var K;const v=(K=x.matched_variants[0])==null?void 0:K.id;if(!v)throw new Error("No variant to check");return(await Y.get("https://123construction-shop-finder.launchpulse.ai/api/inventory",{params:{variant_id:v,in_stock:!0,limit:10}})).data},enabled:!1,staleTime:3e4,retry:1}),S=xe({mutationFn:async v=>{if(!l.id||!i)throw new Error("BOM or authentication required");return(await Y.post(`https://123construction-shop-finder.launchpulse.ai/api/boms/${l.id}/items`,{variant_id:v.variant_id,quantity:v.quantity,unit:v.unit,waste_factor:0,notes:v.notes},{headers:{Authorization:`Bearer ${i}`}})).data},onSuccess:v=>{o({variant_id:v.variant_id,quantity:v.quantity,unit:v.unit,notes:v.notes}),g($=>{var K,ie;return[...$,{barcode:m.barcode||"",scanned_at:Date.now(),product_name:((ie=(K=x.matched_variants[0])==null?void 0:K.product)==null?void 0:ie.canonical_name)||null,action_taken:"added_to_bom"}]})}}),z=u.useCallback(async v=>{f($=>({...$,barcode:v})),d($=>({...$,scanning:!0}));try{await D()}catch($){console.error("Barcode search error:",$),await G()}},[D,G]);u.useEffect(()=>{if(T){const v=T.variants.filter(K=>K.barcode===m.barcode),$=T.variants.filter(K=>K.barcode!==m.barcode);j({matched_variants:v,alternative_suggestions:$,manual_association_needed:v.length===0}),f(K=>({...K,product_match:v[0]||null,confidence:v.length>0?1:0})),d(K=>({...K,scanning:!1})),y.enabled&&v.length>0&&l.id&&N(v[0])}},[T,m.barcode,y.enabled,l.id]),u.useEffect(()=>{R&&(j(v=>({...v,alternative_suggestions:R.results.products||[]})),d(v=>({...v,scanning:!1})))},[R]),u.useEffect(()=>{U&&j(v=>({...v,shop_availability:U.inventory.map($=>({shop:$.shop,in_stock:$.in_stock,stock_quantity:$.stock_quantity,price:$.price}))}))},[U]),u.useEffect(()=>(I(),()=>_()),[I,_]),u.useEffect(()=>{if(c.active&&!h.active){const v=setInterval(()=>{Math.random()>.7&&L()},3e3);return()=>clearInterval(v)}},[c.active,h.active,L]);const O=u.useCallback(async()=>{h.barcode_input.trim()&&(await z(h.barcode_input.trim()),p(v=>({...v,active:!1,barcode_input:""})))},[h.barcode_input,z]),N=u.useCallback(async v=>{if(!l.id||!i){s("/bom");return}try{await S.mutateAsync({variant_id:v.id,quantity:y.quantity,unit:y.unit,notes:"Added via barcode scan"})}catch($){console.error("Add to BOM error:",$)}},[l.id,i,y,S,s]),A=u.useCallback(()=>{const v=x.matched_variants[0];v&&s(`/compare?product_ids=${v.product_id}&quantity=${y.quantity}`)},[x.matched_variants,y.quantity,s]),M=u.useCallback(()=>{d(v=>({...v,flash_enabled:!v.flash_enabled}))},[]);return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[t.jsx("div",{className:"bg-gray-800 border-b border-gray-700",children:t.jsx("div",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Z,{to:"/search",className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:t.jsx(dt,{className:"w-5 h-5"})}),t.jsx("h1",{className:"text-lg font-semibold",children:"Barcode Scanner"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:M,className:`p-2 rounded-lg transition-colors ${c.flash_enabled?"bg-yellow-600 hover:bg-yellow-700":"bg-gray-700 hover:bg-gray-600"}`,children:c.flash_enabled?t.jsx(_0,{className:"w-5 h-5"}):t.jsx(_0,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>p(v=>({...v,active:!v.active})),className:"p-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",children:t.jsx(Jw,{className:"w-5 h-5"})})]})]})})}),t.jsx("div",{className:"relative aspect-[4/3] bg-black",children:c.permission_granted?t.jsxs(t.Fragment,{children:[t.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),t.jsx("canvas",{ref:n,className:"hidden"}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"w-64 h-48 border-2 border-white border-opacity-50 rounded-lg relative",children:[t.jsx("div",{className:"absolute top-0 left-0 w-6 h-6 border-t-4 border-l-4 border-blue-500 rounded-tl-lg"}),t.jsx("div",{className:"absolute top-0 right-0 w-6 h-6 border-t-4 border-r-4 border-blue-500 rounded-tr-lg"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-6 h-6 border-b-4 border-l-4 border-blue-500 rounded-bl-lg"}),t.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 border-b-4 border-r-4 border-blue-500 rounded-br-lg"}),c.scanning&&t.jsx("div",{className:"absolute inset-x-0 top-1/2 h-0.5 bg-blue-500 animate-pulse"})]}),t.jsx("div",{className:"absolute -bottom-16 left-1/2 transform -translate-x-1/2 text-center",children:t.jsx("p",{className:"text-white text-sm opacity-80",children:c.scanning?"Scanning...":"Position barcode within frame"})})]})}),m.barcode&&t.jsx("div",{className:"absolute top-4 left-4 right-4",children:t.jsx("div",{className:"bg-black bg-opacity-70 rounded-lg p-3",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(aN,{className:"w-5 h-5 text-green-400"}),t.jsxs("span",{className:"text-sm font-medium",children:["Detected: ",m.barcode]}),q||B?t.jsx(St,{className:"w-4 h-4 animate-spin"}):t.jsx(rs,{className:"w-4 h-4 text-green-400"})]})})})]}):t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Fg,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"Camera Access Required"}),t.jsx("p",{className:"text-gray-400 mb-4",children:"Enable camera access to scan barcodes"}),t.jsx("button",{onClick:I,className:"bg-blue-600 hover:bg-blue-700 px-6 py-2 rounded-lg font-medium transition-colors",children:"Enable Camera"})]})})}),h.active&&t.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 m-4 w-full max-w-sm",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Enter Barcode Manually"}),t.jsx("input",{type:"text",value:h.barcode_input,onChange:v=>p($=>({...$,barcode_input:v.target.value})),placeholder:"Enter barcode number",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0}),t.jsxs("div",{className:"flex space-x-3 mt-4",children:[t.jsx("button",{onClick:O,disabled:!h.barcode_input.trim()||q,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed px-4 py-2 rounded-lg font-medium transition-colors",children:q?"Searching...":"Search"}),t.jsx("button",{onClick:()=>p(v=>({...v,active:!1,barcode_input:""})),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg font-medium transition-colors",children:"Cancel"})]})]})}),t.jsxs("div",{className:"flex-1 bg-white text-gray-900",children:[l.id&&t.jsxs("div",{className:"bg-blue-50 border-b border-blue-200 px-4 py-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(jr,{className:"w-5 h-5 text-blue-600"}),t.jsxs("span",{className:"font-medium text-blue-900",children:["Auto-add to BOM: ",l.title]})]}),t.jsx("label",{className:"flex items-center",children:t.jsx("input",{type:"checkbox",checked:y.enabled,onChange:v=>b($=>({...$,enabled:v.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})})]}),y.enabled&&t.jsxs("div",{className:"flex items-center space-x-3 mt-2",children:[t.jsx("input",{type:"number",value:y.quantity,onChange:v=>b($=>({...$,quantity:Math.max(1,Number(v.target.value))})),min:"1",className:"w-20 px-3 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),t.jsxs("select",{value:y.unit,onChange:v=>b($=>({...$,unit:v.target.value})),className:"px-3 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"piece",children:"Piece"}),t.jsx("option",{value:"kg",children:"Kg"}),t.jsx("option",{value:"meter",children:"Meter"}),t.jsx("option",{value:"liter",children:"Liter"})]})]})]}),(x.matched_variants.length>0||x.alternative_suggestions.length>0)&&t.jsxs("div",{className:"p-4",children:[x.matched_variants.length>0&&t.jsxs("div",{className:"mb-6",children:[t.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[t.jsx(rs,{className:"w-5 h-5 text-green-600 mr-2"}),"Product Found"]}),x.matched_variants.map(v=>{var $,K;return t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-lg",children:($=v.product)==null?void 0:$.canonical_name}),v.brand&&t.jsxs("p",{className:"text-gray-600",children:["Brand: ",v.brand]}),v.size&&t.jsxs("p",{className:"text-gray-600",children:["Size: ",v.size]}),t.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Barcode: ",v.barcode]})]}),v.image_url&&t.jsx("img",{src:v.image_url,alt:(K=v.product)==null?void 0:K.canonical_name,className:"w-16 h-16 object-cover rounded-lg"})]}),t.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[t.jsxs(Z,{to:`/product/${v.product_id}?quantity=${y.quantity}`,className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:[t.jsx(bs,{className:"w-4 h-4"}),t.jsx("span",{children:"View Details"})]}),t.jsxs("button",{onClick:A,className:"flex items-center space-x-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:[t.jsx(to,{className:"w-4 h-4"}),t.jsx("span",{children:"Compare Prices"})]}),t.jsxs("button",{onClick:()=>C(),disabled:P,className:"flex items-center space-x-2 bg-orange-600 hover:bg-orange-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:[t.jsx(Pt,{className:"w-4 h-4"}),t.jsx("span",{children:"Check Availability"})]}),l.id&&!y.enabled&&t.jsxs("button",{onClick:()=>N(v),disabled:S.isPending,className:"flex items-center space-x-2 bg-purple-600 hover:bg-purple-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:[t.jsx(fs,{className:"w-4 h-4"}),t.jsx("span",{children:"Add to BOM"})]})]})]},v.id)})]}),x.shop_availability&&x.shop_availability.length>0&&t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Nearby Availability"}),t.jsx("div",{className:"space-y-2",children:x.shop_availability.map((v,$)=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:v.shop.name}),t.jsxs("p",{className:"text-sm text-gray-600",children:[v.in_stock?t.jsx("span",{className:"text-green-600",children:"In Stock"}):t.jsx("span",{className:"text-red-600",children:"Out of Stock"}),v.stock_quantity&&` (${v.stock_quantity} available)`]})]}),v.price&&t.jsx("div",{className:"text-right",children:t.jsxs("p",{className:"font-semibold",children:["AED ",v.price.toFixed(2)]})})]},$))})]}),x.alternative_suggestions.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[t.jsx(ts,{className:"w-5 h-5 text-orange-600 mr-2"}),"Similar Products"]}),t.jsx("div",{className:"space-y-3",children:x.alternative_suggestions.slice(0,3).map(v=>{var $;return t.jsx("div",{className:"bg-gray-50 rounded-lg p-3 border",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:($=v.product)==null?void 0:$.canonical_name}),v.brand&&t.jsxs("p",{className:"text-sm text-gray-600",children:["Brand: ",v.brand]})]}),t.jsx(Z,{to:`/product/${v.product_id}`,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View "})]})},v.id)})})]})]}),m.barcode&&!q&&!B&&x.matched_variants.length===0&&x.alternative_suggestions.length===0&&t.jsx("div",{className:"p-4",children:t.jsxs("div",{className:"text-center py-8",children:[t.jsx(ts,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Product Not Found"}),t.jsxs("p",{className:"text-gray-500 mb-4",children:["No products found for barcode: ",m.barcode]}),t.jsxs(Z,{to:`/search?q=${m.barcode}`,className:"inline-flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:[t.jsx(bs,{className:"w-4 h-4"}),t.jsx("span",{children:"Search Manually"})]})]})}),w.length>0&&t.jsxs("div",{className:"border-t border-gray-200 p-4",children:[t.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[t.jsx(Gw,{className:"w-5 h-5 mr-2"}),"Recent Scans"]}),t.jsx("div",{className:"space-y-2",children:w.slice(-3).reverse().map((v,$)=>t.jsx("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-sm",children:v.product_name||v.barcode}),t.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(v.scanned_at).toLocaleTimeString(),"  ",v.action_taken]})]})},$))})]})]})]})})},A5=()=>{const[e]=at(),s=W(T=>T.current_bom),r=W(T=>T.user_location),n=W(T=>T.app_preferences.currency),[a,i]=u.useState([]),[l,o]=u.useState(""),[c,d]=u.useState(!1),[m,f]=u.useState(10),x=e.get("bom_id"),j=e.get("shop_ids"),{data:y,isLoading:b}=ce({queryKey:["nearby-shops",r==null?void 0:r.coordinates],queryFn:async()=>r!=null&&r.coordinates?(await Y.get("https://123construction-shop-finder.launchpulse.ai/api/shops/near-me",{params:{lat:r.coordinates.lat,lng:r.coordinates.lng,radius:20,limit:50}})).data.shops||[]:[],enabled:!!(r!=null&&r.coordinates),staleTime:5*60*1e3}),{data:w}=ce({queryKey:["bom-details",x],queryFn:async()=>(await Y.get(`https://123construction-shop-finder.launchpulse.ai/api/boms/${x}`,{headers:{Authorization:`Bearer ${W.getState().authentication_state.auth_token}`}})).data,enabled:!!x,staleTime:5*60*1e3}),g=xe({mutationFn:async T=>(await Y.post("https://123construction-shop-finder.launchpulse.ai/api/trip-planner",T,{headers:{Authorization:`Bearer ${W.getState().authentication_state.auth_token}`}})).data});u.useEffect(()=>{if(j&&y){const T=j.split(","),q=y.filter(D=>T.includes(D.id));i(q)}},[j,y]);const h=T=>{a.find(q=>q.id===T.id)||i(q=>[...q,T]),d(!1)},p=T=>{i(q=>q.filter(D=>D.id!==T))},k=()=>{a.length<2||g.mutate({bom_id:x||s.id||void 0,shop_ids:a.map(T=>T.id),start_location:(r==null?void 0:r.coordinates)||void 0,return_to_start:!0})},E=(T,q)=>{const D=[...a],[R]=D.splice(T,1);D.splice(q,0,R),i(D)},_=(()=>{const T=g.data;if(!T)return{total:0,contingency:0};const q=T.summary.total_cash_needed,D=q*(m/100);return{total:q,contingency:D}})(),L=(y==null?void 0:y.filter(T=>T.name.toLowerCase().includes(l.toLowerCase())||T.address.toLowerCase().includes(l.toLowerCase())))||[];return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8",children:[t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsx("div",{className:"mb-8",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Trip Planner"}),t.jsx("p",{className:"text-lg text-gray-600",children:"Plan your optimal route for material procurement"}),w&&t.jsxs("div",{className:"mt-2 inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:[t.jsx(iu,{className:"w-4 h-4 mr-1"}),w.title," (",w.item_count," items)"]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(Z,{to:"/map",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[t.jsx(nl,{className:"w-4 h-4 mr-2"}),"Map View"]}),t.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center px-4 py-2 rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:[t.jsx(Dt,{className:"w-4 h-4 mr-2"}),"Add Shops"]})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Selected Shops"}),t.jsxs("span",{className:"text-sm text-gray-500",children:[a.length," shop",a.length!==1?"s":""," selected"]})]})}),t.jsx("div",{className:"p-6",children:a.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(nl,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500 mb-4",children:"No shops selected yet"}),t.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center px-4 py-2 rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:[t.jsx(Dt,{className:"w-4 h-4 mr-2"}),"Add Your First Shop"]})]}):t.jsxs("div",{className:"space-y-4",children:[a.map((T,q)=>t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",draggable:!0,onDragStart:D=>D.dataTransfer.setData("text/plain",q.toString()),onDragOver:D=>D.preventDefault(),onDrop:D=>{D.preventDefault();const R=parseInt(D.dataTransfer.getData("text/plain"));E(R,q)},children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-600 font-semibold text-sm",children:q+1}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("h3",{className:"font-medium text-gray-900",children:T.name}),T.verified&&t.jsx(cr,{className:"w-4 h-4 text-green-500"})]}),t.jsx("p",{className:"text-sm text-gray-500",children:T.address}),T.distance_km&&t.jsxs("p",{className:"text-xs text-gray-400",children:[T.distance_km.toFixed(1),"km away"]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(JN,{className:"w-5 h-5 text-gray-400 cursor-grab"}),t.jsx("button",{onClick:()=>p(T.id),className:"p-1 text-red-400 hover:text-red-600 transition-colors",children:t.jsx(ua,{className:"w-4 h-4"})})]})]},T.id)),a.length>=2&&t.jsx("div",{className:"pt-4",children:t.jsx("button",{onClick:k,disabled:g.isPending,className:"w-full flex items-center justify-center px-4 py-3 rounded-lg text-sm font-medium text-white bg-green-600 hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g.isPending?t.jsxs(t.Fragment,{children:[t.jsx(Ka,{className:"w-4 h-4 mr-2 animate-spin"}),"Optimizing Route..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ka,{className:"w-4 h-4 mr-2"}),"Optimize Route"]})})})]})})]}),g.data&&t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Optimized Route"})}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[t.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[t.jsx(Ga,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Total Time"}),t.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[Math.round(g.data.route.estimated_duration_minutes)," min"]})]}),t.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[t.jsx(nl,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Total Distance"}),t.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[g.data.route.total_distance_km.toFixed(1)," km"]})]}),t.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[t.jsx(iu,{className:"w-6 h-6 text-purple-600 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Total Items"}),t.jsx("p",{className:"text-lg font-semibold text-gray-900",children:g.data.summary.total_items})]})]}),t.jsx("div",{className:"space-y-4",children:g.data.route.stops.map(T=>t.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-blue-600 text-white text-sm font-semibold",children:T.order}),t.jsx("h3",{className:"font-medium text-gray-900",children:T.shop.name})]}),t.jsxs("div",{className:"text-sm text-gray-500",children:[T.estimated_time_minutes," min"]})]}),t.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Items: ",T.items_to_buy.length,"  Cash needed: ",n," ",T.estimated_cash_needed.toFixed(2)]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-500",children:[T.items_to_buy.slice(0,4).map((q,D)=>t.jsxs("div",{children:[q.product_name," (",q.quantity,")"]},D)),T.items_to_buy.length>4&&t.jsxs("div",{className:"text-blue-600",children:["+",T.items_to_buy.length-4," more items"]})]})]},T.shop.id))})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Cash Planning"})}),t.jsx("div",{className:"p-6",children:g.data?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Estimated Total"}),t.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:[n," ",g.data.summary.total_estimated_cost.toFixed(2)]})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[t.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Cash Needed"}),t.jsxs("span",{className:"text-lg font-semibold text-blue-900",children:[n," ",_.total.toFixed(2)]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Contingency Buffer (",m,"%)"]}),t.jsx("input",{type:"range",min:"5",max:"25",value:m,onChange:T=>f(Number(T.target.value)),className:"w-full"}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg mt-2",children:[t.jsx("span",{className:"text-sm font-medium text-yellow-700",children:"+ Contingency"}),t.jsxs("span",{className:"text-lg font-semibold text-yellow-900",children:[n," ",_.contingency.toFixed(2)]})]})]}),t.jsx("div",{className:"border-t border-gray-200 pt-4",children:t.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[t.jsx("span",{className:"text-sm font-medium text-green-700",children:"Total Cash Required"}),t.jsxs("span",{className:"text-xl font-bold text-green-900",children:[n," ",(_.total+_.contingency).toFixed(2)]})]})}),g.data.summary.potential_savings>0&&t.jsxs("div",{className:"flex items-center p-3 bg-green-100 rounded-lg",children:[t.jsx(cr,{className:"w-5 h-5 text-green-600 mr-2"}),t.jsxs("span",{className:"text-sm text-green-700",children:["Potential savings: ",n," ",g.data.summary.potential_savings.toFixed(2)]})]})]}):t.jsxs("div",{className:"text-center py-6",children:[t.jsx(Wg,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-500 text-sm",children:"Select shops and optimize route to see cash requirements"})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Actions"})}),t.jsxs("div",{className:"p-6 space-y-3",children:[t.jsxs("button",{className:"w-full flex items-center justify-center px-4 py-3 rounded-lg text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 transition-colors",disabled:!g.data,children:[t.jsx(w_,{className:"w-4 h-4 mr-2"}),"Generate Shopping Lists"]}),t.jsxs("button",{className:"w-full flex items-center justify-center px-4 py-3 rounded-lg text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 transition-colors",disabled:!g.data,children:[t.jsx(mo,{className:"w-4 h-4 mr-2"}),"Share Trip Plan"]}),t.jsxs("button",{className:"w-full flex items-center justify-center px-4 py-3 rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors",disabled:!g.data,children:[t.jsx(nl,{className:"w-4 h-4 mr-2"}),"Start Navigation"]})]})]})]})]})]}),c&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[80vh] overflow-hidden",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add Shops to Route"}),t.jsx("button",{onClick:()=>d(!1),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:t.jsx(ua,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"mt-4",children:t.jsx("input",{type:"text",placeholder:"Search shops by name or location...",value:l,onChange:T=>o(T.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})})]}),t.jsx("div",{className:"p-6 overflow-y-auto max-h-96",children:b?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Ka,{className:"w-8 h-8 text-blue-600 mx-auto mb-3 animate-spin"}),t.jsx("p",{className:"text-gray-500",children:"Loading nearby shops..."})]}):L.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Io,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),t.jsx("p",{className:"text-gray-500",children:"No shops found matching your criteria"})]}):t.jsx("div",{className:"space-y-3",children:L.map(T=>t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("h3",{className:"font-medium text-gray-900",children:T.name}),T.verified&&t.jsx(cr,{className:"w-4 h-4 text-green-500"})]}),t.jsx("p",{className:"text-sm text-gray-500",children:T.address}),t.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[T.distance_km&&t.jsxs("span",{className:"text-xs text-gray-400",children:[T.distance_km.toFixed(1),"km away"]}),t.jsxs("span",{className:"text-xs text-gray-400",children:[" ",T.rating_average.toFixed(1)]})]})]}),t.jsx("button",{onClick:()=>h(T),disabled:a.some(q=>q.id===T.id),className:"ml-4 px-3 py-1 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed rounded-lg transition-colors",children:a.some(q=>q.id===T.id)?"Added":"Add"})]},T.id))})})]})})]})})},R5=()=>{const[e,s]=at(),r=e.get("section")||"business",n=W(T=>T.authentication_state.current_user),a=W(T=>T.authentication_state.auth_token),[i,l]=u.useState({}),[o,c]=u.useState([""]),[d,m]=u.useState(!1),[f,x]=u.useState(!1),j=Xe(),{data:y,isLoading:b,error:w}=ce({queryKey:["shop-settings",n==null?void 0:n.id],queryFn:async()=>{if(!(n!=null&&n.id)||!a)throw new Error("Authentication required");const T=await Y.get(`https://123construction-shop-finder.launchpulse.ai/api/shops?user_id=${n.id}`,{headers:{Authorization:`Bearer ${a}`}});if(!T.data.shops||T.data.shops.length===0)throw new Error("No shop found for this user");const q=T.data.shops[0];return(await Y.get(`https://123construction-shop-finder.launchpulse.ai/api/shops/${q.id}`,{headers:{Authorization:`Bearer ${a}`}})).data},enabled:!!(n!=null&&n.id)&&!!a,staleTime:3e4,refetchOnWindowFocus:!1}),g=xe({mutationFn:async T=>{if(!(y!=null&&y.id)||!a)throw new Error("Shop ID and authentication required");return(await Y.put(`https://123construction-shop-finder.launchpulse.ai/api/shops/${y.id}`,T,{headers:{Authorization:`Bearer ${a}`}})).data},onSuccess:()=>{j.invalidateQueries({queryKey:["shop-settings"]}),m(!1),x(!0),setTimeout(()=>x(!1),3e3)},onError:T=>{console.error("Failed to update shop:",T)}});u.useEffect(()=>{y&&(l({name:y.name,phones:y.phones,location_lat:y.location_lat,location_lng:y.location_lng,address:y.address,hours:y.hours,business_license:y.business_license,shop_type:y.shop_type,delivery_available:y.delivery_available,delivery_radius:y.delivery_radius,delivery_fee_base:y.delivery_fee_base,delivery_fee_per_km:y.delivery_fee_per_km,minimum_order:y.minimum_order,cash_discount_percentage:y.cash_discount_percentage}),c(y.phones.length>0?y.phones:[""]))},[y]);const h=T=>{s({section:T})},p=(T,q)=>{l(D=>({...D,[T]:q})),m(!0)},k=(T,q)=>{const D=[...o];D[T]=q,c(D),p("phones",D.filter(R=>R.trim()!==""))},E=()=>{c([...o,""])},I=T=>{const q=o.filter((D,R)=>R!==T);c(q),p("phones",q.filter(D=>D.trim()!==""))},_=T=>{T.preventDefault(),g.mutate(i)},L=[{id:"business",label:"Business Info",icon:""},{id:"contact",label:"Contact & Location",icon:""},{id:"hours",label:"Operating Hours",icon:""},{id:"policies",label:"Delivery & Policies",icon:""},{id:"integration",label:"Integration",icon:""},{id:"marketing",label:"Marketing",icon:""}];return b?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):w||!y?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md w-full mx-4",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("span",{className:"text-2xl",children:""})}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Shop Not Found"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"No shop is associated with your account. Please create a shop first."}),t.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Shop"})]})})})}):t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[t.jsx("div",{className:"bg-white shadow-lg",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"py-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Shop Settings"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your business configuration and platform integration"})]}),y.verified&&t.jsxs("div",{className:"flex items-center space-x-2 bg-green-50 text-green-700 px-3 py-1 rounded-full",children:[t.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full"}),t.jsx("span",{className:"text-sm font-medium",children:"Verified"})]})]})})})}),t.jsx("div",{className:"bg-white border-b border-gray-200",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"flex space-x-8 overflow-x-auto",children:L.map(T=>t.jsxs("button",{onClick:()=>h(T.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors whitespace-nowrap ${r===T.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[t.jsx("span",{children:T.icon}),t.jsx("span",{children:T.label})]},T.id))})})}),f&&t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:t.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("span",{className:"text-green-500 mr-2",children:""}),t.jsx("span",{children:"Settings saved successfully!"})]})})}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t.jsxs("form",{onSubmit:_,className:"space-y-8",children:[r==="business"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Business Information"}),t.jsx("p",{className:"text-gray-600",children:"Basic information about your business"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shop Name *"}),t.jsx("input",{type:"text",value:i.name||"",onChange:T=>p("name",T.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"Enter your shop name",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type"}),t.jsxs("select",{value:i.shop_type||"",onChange:T=>p("shop_type",T.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[t.jsx("option",{value:"",children:"Select business type"}),t.jsx("option",{value:"hardware_store",children:"Hardware Store"}),t.jsx("option",{value:"building_materials",children:"Building Materials"}),t.jsx("option",{value:"electrical_supplies",children:"Electrical Supplies"}),t.jsx("option",{value:"plumbing_supplies",children:"Plumbing Supplies"}),t.jsx("option",{value:"paint_supplies",children:"Paint & Supplies"}),t.jsx("option",{value:"tools_equipment",children:"Tools & Equipment"}),t.jsx("option",{value:"general_contractor",children:"General Contractor"}),t.jsx("option",{value:"specialty_supplier",children:"Specialty Supplier"})]})]}),t.jsxs("div",{className:"lg:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business License Number"}),t.jsx("input",{type:"text",value:i.business_license||"",onChange:T=>p("business_license",T.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"Enter your business license number"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Required for verification and enhanced trust features"})]})]})]}),r==="contact"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Contact & Location"}),t.jsx("p",{className:"text-gray-600",children:"Contact information and business location"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Numbers"}),t.jsxs("div",{className:"space-y-3",children:[o.map((T,q)=>t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("input",{type:"tel",value:T,onChange:D=>k(q,D.target.value),className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"+971 50 123 4567"}),o.length>1&&t.jsx("button",{type:"button",onClick:()=>I(q),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:""})]},q)),t.jsx("button",{type:"button",onClick:E,className:"text-blue-600 hover:text-blue-700 font-medium text-sm transition-colors",children:"+ Add another phone number"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Address *"}),t.jsx("textarea",{value:i.address||"",onChange:T=>p("address",T.target.value),rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"Enter your complete business address",required:!0})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude *"}),t.jsx("input",{type:"number",step:"any",value:i.location_lat||"",onChange:T=>p("location_lat",parseFloat(T.target.value)),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"25.2048",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude *"}),t.jsx("input",{type:"number",step:"any",value:i.location_lng||"",onChange:T=>p("location_lng",parseFloat(T.target.value)),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"55.2708",required:!0})]})]}),t.jsx("p",{className:"text-sm text-gray-500",children:" Location coordinates help customers find your shop and calculate delivery distances"})]})]}),r==="hours"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Operating Hours"}),t.jsx("p",{className:"text-gray-600",children:"Set your business hours and availability"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-7 gap-4",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(T=>t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700",children:T}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("input",{type:"time",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-100 text-sm",placeholder:"Open"}),t.jsx("input",{type:"time",className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-100 text-sm",placeholder:"Close"}),t.jsxs("label",{className:"flex items-center text-sm text-gray-600",children:[t.jsx("input",{type:"checkbox",className:"mr-2"}),"Closed"]})]})]},T))}),t.jsxs("div",{className:"border-t pt-6",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Special Hours & Holidays"}),t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:t.jsxs("p",{className:"text-blue-700 text-sm",children:[" ",t.jsx("strong",{children:"Coming Soon:"})," Holiday schedules and special event hours will be available in the next update."]})})]})]})]}),r==="policies"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Delivery & Policies"}),t.jsx("p",{className:"text-gray-600",children:"Configure delivery options and business policies"})]}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Delivery Options"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("input",{type:"checkbox",id:"delivery_available",checked:i.delivery_available||!1,onChange:T=>p("delivery_available",T.target.checked),className:"w-5 h-5 text-blue-600 border-2 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("label",{htmlFor:"delivery_available",className:"text-sm font-medium text-gray-700",children:"Offer delivery services"})]}),i.delivery_available&&t.jsx("div",{className:"ml-8 space-y-4 border-l-4 border-blue-200 pl-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Radius (km)"}),t.jsx("input",{type:"number",min:"0",step:"0.1",value:i.delivery_radius||"",onChange:T=>p("delivery_radius",parseFloat(T.target.value)),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"25"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Base Delivery Fee (AED)"}),t.jsx("input",{type:"number",min:"0",step:"0.01",value:i.delivery_fee_base||"",onChange:T=>p("delivery_fee_base",parseFloat(T.target.value)),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"50.00"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Per KM Fee (AED)"}),t.jsx("input",{type:"number",min:"0",step:"0.01",value:i.delivery_fee_per_km||"",onChange:T=>p("delivery_fee_per_km",parseFloat(T.target.value)),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"5.00"})]})]})})]})]}),t.jsxs("div",{className:"border-t pt-6",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Order Policies"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Order Amount (AED)"}),t.jsx("input",{type:"number",min:"0",step:"0.01",value:i.minimum_order||"",onChange:T=>p("minimum_order",parseFloat(T.target.value)),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"100.00"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Set 0 for no minimum order"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cash Discount (%)"}),t.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:i.cash_discount_percentage||"",onChange:T=>p("cash_discount_percentage",parseFloat(T.target.value)),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"2.5"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Discount for cash payments"})]})]})]}),t.jsxs("div",{className:"border-t pt-6",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Additional Policies"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Return Policy"}),t.jsx("p",{className:"text-blue-700 text-sm",children:"Configure return windows, conditions, and restocking fees. Coming in next update."})]}),t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Credit Terms"}),t.jsx("p",{className:"text-green-700 text-sm",children:"Set payment terms and credit limits for business customers. Coming in next update."})]})]})]})]})]}),r==="integration"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Platform Integration"}),t.jsx("p",{className:"text-gray-600",children:"Connect your existing systems and automate operations"})]}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Payment Methods"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["Cash","Credit Card","Bank Transfer","Mobile Payment"].map(T=>t.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg",children:[t.jsx("input",{type:"checkbox",id:T,className:"w-5 h-5 text-blue-600 border-2 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("label",{htmlFor:T,className:"text-sm font-medium text-gray-700",children:T})]},T))})]}),t.jsxs("div",{className:"border-t pt-6",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"POS System Integration"}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Inventory Synchronization"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Automatically sync stock levels and pricing"})]}),t.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Connect POS"})]}),t.jsx("div",{className:"text-sm text-gray-500",children:t.jsx("p",{children:" Supported systems: Square, Shopify POS, Toast POS, and custom API integrations"})})]})]}),t.jsxs("div",{className:"border-t pt-6",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Automated Pricing"}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:" Smart Pricing (Beta)"}),t.jsx("p",{className:"text-yellow-700 text-sm mb-3",children:"Automatically adjust prices based on competitor monitoring and market conditions"}),t.jsx("button",{className:"bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 transition-colors text-sm",children:"Enable Smart Pricing"})]})})]})]})]}),r==="marketing"&&t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Marketing & Promotions"}),t.jsx("p",{className:"text-gray-600",children:"Optimize your shop visibility and customer engagement"})]}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"SEO & Visibility"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:" Search Ranking"}),t.jsx("p",{className:"text-blue-700 text-sm mb-3",children:"Current ranking: Top 15% in your category"}),t.jsx("div",{className:"bg-blue-100 rounded-full h-2 mb-2",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"75%"}})}),t.jsx("p",{className:"text-blue-600 text-xs",children:"Optimization Score: 75/100"})]}),t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-green-900 mb-2",children:" Customer Rating"}),t.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[t.jsx("span",{className:"text-2xl font-bold text-green-700",children:y.rating_average.toFixed(1)}),t.jsxs("div",{className:"flex text-yellow-400",children:["".repeat(Math.floor(y.rating_average)),"".repeat(5-Math.floor(y.rating_average))]})]}),t.jsxs("p",{className:"text-green-600 text-sm",children:[y.rating_count," reviews"]})]})]})]}),t.jsxs("div",{className:"border-t pt-6",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Photo Gallery"}),t.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("span",{className:"text-2xl",children:""})}),t.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Upload Shop Photos"}),t.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Add photos of your shop, products, and team to build customer trust"}),t.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Upload Photos"})]})]}),t.jsxs("div",{className:"border-t pt-6",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Promotions & Offers"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:" Special Offers"}),t.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Create time-limited promotions and discounts"}),t.jsx("button",{className:"text-blue-600 hover:text-blue-700 font-medium text-sm",children:"Create Promotion"})]}),t.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:" Loyalty Program"}),t.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Reward repeat customers with points and discounts"}),t.jsx("button",{className:"text-blue-600 hover:text-blue-700 font-medium text-sm",children:"Setup Loyalty"})]})]})]}),t.jsxs("div",{className:"border-t pt-6",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Review Management"}),t.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Customer Feedback"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Monitor and respond to customer reviews"})]}),t.jsx("button",{className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"View Reviews"})]}),t.jsx("div",{className:"text-sm text-gray-500",children:t.jsx("p",{children:" Responding to reviews increases customer trust by 25% on average"})})]})]})]})]}),t.jsxs("div",{className:"flex items-center justify-between bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[d&&t.jsxs("div",{className:"flex items-center text-orange-600",children:[t.jsx("span",{className:"w-2 h-2 bg-orange-400 rounded-full mr-2"}),t.jsx("span",{className:"text-sm font-medium",children:"Unsaved changes"})]}),g.error&&t.jsxs("div",{className:"text-red-600 text-sm",children:[" Error saving changes: ",g.error.message]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("button",{type:"button",onClick:()=>window.location.reload(),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",disabled:g.isPending,children:"Cancel"}),t.jsx("button",{type:"submit",disabled:!d||g.isPending,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:g.isPending?t.jsxs("span",{className:"flex items-center",children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Changes"})]})]})]})})]})})},M5=async e=>{var r;const s=new URLSearchParams;e.status&&s.append("status",e.status),e.date_from&&s.append("date_from",e.date_from),e.date_to&&s.append("date_to",e.date_to),e.shop_id&&s.append("shop_id",e.shop_id),e.limit&&s.append("limit",e.limit.toString()),e.offset&&s.append("offset",e.offset.toString());try{return(await Y.get(`https://123construction-shop-finder.launchpulse.ai/api/orders?${s}`,{headers:{Authorization:`Bearer ${e.auth_token}`}})).data}catch(n){if(((r=n.response)==null?void 0:r.status)===404)return{orders:[],total:0,limit:e.limit||10,offset:e.offset||0};throw n}},T5=async e=>{var s;try{return(await Y.post(`https://123construction-shop-finder.launchpulse.ai/api/orders/${e.order_id}/reorder`,{},{headers:{Authorization:`Bearer ${e.auth_token}`}})).data}catch(r){if(((s=r.response)==null?void 0:s.status)===404)return{bom_id:"bom_"+Date.now()};throw r}},L5=()=>{const e=W(S=>S.authentication_state.current_user),s=W(S=>S.authentication_state.auth_token),r=W(S=>S.app_preferences.currency),n=W(S=>S.create_bom),[a,i]=u.useState(""),[l,o]=u.useState(""),[c,d]=u.useState(""),[m,f]=u.useState(""),[x,j]=u.useState(""),[y,b]=u.useState(1),[w,g]=u.useState(new Set),[h,p]=u.useState(!1),k=10,E=Xe(),{data:I,isLoading:_,error:L,refetch:T}=ce({queryKey:["orders",a,l,c,m,y],queryFn:()=>M5({status:a||void 0,date_from:l||void 0,date_to:c||void 0,shop_id:m||void 0,limit:k,offset:(y-1)*k,auth_token:s}),enabled:!!s,staleTime:30*1e3,refetchOnWindowFocus:!1}),q=xe({mutationFn:T5,onSuccess:async S=>{E.invalidateQueries({queryKey:["orders"]});try{await n({title:`Reorder - ${new Date().toLocaleDateString()}`,description:`Recreated from order ${S.bom_id}`,project_type:"reorder"}),window.location.href="/bom"}catch(z){console.error("Failed to create BOM:",z),window.location.href="/bom"}},onError:S=>{console.error("Reorder failed:",S)}}),D=u.useMemo(()=>{if(!(I!=null&&I.orders)||!x)return(I==null?void 0:I.orders)||[];const S=x.toLowerCase();return I.orders.filter(z=>z.shop_name.toLowerCase().includes(S)||z.id.toLowerCase().includes(S)||z.items.some(O=>{var N;return O.product_name.toLowerCase().includes(S)||((N=O.brand)==null?void 0:N.toLowerCase().includes(S))}))},[I==null?void 0:I.orders,x]),R=S=>new Date(S).toLocaleDateString("en-AE",{year:"numeric",month:"short",day:"numeric"}),B=(S,z=r)=>new Intl.NumberFormat("en-AE",{style:"currency",currency:z,minimumFractionDigits:2}).format(S),G=S=>{s&&q.mutate({order_id:S,auth_token:s})},U=()=>{w.size===D.length?g(new Set):g(new Set(D.map(S=>S.id)))},P=S=>{const z=w.size>0?D.filter(O=>w.has(O.id)):D;if(console.log(`Exporting ${z.length} orders as ${S}`),S==="excel"){const O=["Order ID,Shop,Date,Status,Payment Status,Total Amount",...z.map(Q=>`${Q.id},${Q.shop_name},${R(Q.order_date)},${Q.status},${Q.payment_status},${Q.total_amount}`)].join(`
`),N=new Blob([O],{type:"text/csv"}),A=window.URL.createObjectURL(N),M=document.createElement("a");M.href=A,M.download=`orders-export-${new Date().toISOString().split("T")[0]}.csv`,M.click(),window.URL.revokeObjectURL(A)}},C=()=>{i(""),o(""),d(""),f(""),j(""),b(1)};return!e||!s?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Authentication Required"}),t.jsx("p",{className:"text-gray-600 mb-8",children:"Please log in to view your order history."}),t.jsx(Z,{to:"/login",className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Sign In"})]})})}):t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Order History"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage your purchase transactions"})]}),t.jsxs("div",{className:"mt-4 sm:mt-0 flex flex-col sm:flex-row gap-3",children:[t.jsxs("button",{onClick:()=>p(!h),className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[t.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"})}),h?"Hide Filters":"Show Filters"]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>P("pdf"),disabled:D.length===0,className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[t.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export PDF"]}),t.jsxs("button",{onClick:()=>P("excel"),disabled:D.length===0,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[t.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export Excel"]})]})]})]})})}),h&&t.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),t.jsxs("select",{value:a,onChange:S=>{i(S.target.value),b(1)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"All Statuses"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"confirmed",children:"Confirmed"}),t.jsx("option",{value:"processing",children:"Processing"}),t.jsx("option",{value:"delivered",children:"Delivered"}),t.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Date"}),t.jsx("input",{type:"date",value:l,onChange:S=>{o(S.target.value),b(1)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date"}),t.jsx("input",{type:"date",value:c,onChange:S=>{d(S.target.value),b(1)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),t.jsx("input",{type:"text",placeholder:"Search orders, shops, products...",value:x,onChange:S=>j(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("p",{className:"text-sm text-gray-600",children:I?`Showing ${D.length} of ${I.total} orders`:"Loading..."}),t.jsx("button",{onClick:C,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Clear All Filters"})]})]})}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:_?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):L?t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[t.jsx("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"Error Loading Orders"}),t.jsx("p",{className:"text-red-600 mb-4",children:"Unable to fetch your order history. This feature may not be available yet."}),t.jsx("button",{onClick:()=>T(),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Retry"})]}):D.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("svg",{className:"mx-auto h-24 w-24 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),t.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No Orders Found"}),t.jsx("p",{className:"text-gray-600 mb-6",children:a||l||c||x?"No orders match your current filters.":"You haven't placed any orders yet. Start exploring our products!"}),a||l||c||x?t.jsx("button",{onClick:C,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Clear Filters"}):t.jsx(Z,{to:"/search",className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Start Shopping"})]}):t.jsxs("div",{className:"space-y-6",children:[w.size>0&&t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("p",{className:"text-blue-800 font-medium",children:[w.size," order",w.size!==1?"s":""," selected"]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>P("pdf"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Export Selected PDF"}),t.jsx("button",{onClick:()=>P("excel"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Export Selected Excel"}),t.jsx("button",{onClick:()=>g(new Set),className:"text-red-600 hover:text-red-700 font-medium",children:"Clear Selection"})]})]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",checked:w.size===D.length&&D.length>0,onChange:U,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),t.jsxs("label",{className:"ml-3 text-sm font-medium text-gray-700",children:["Select All (",D.length," orders)"]})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-1"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Order #ORD001234"}),t.jsx("p",{className:"text-gray-600",children:"Al Mansoori Building Materials"}),t.jsx("p",{className:"text-sm text-gray-500",children:R(Date.now()-864e5)})]})]}),t.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Delivered"}),t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Payment: Paid"})]}),t.jsx("p",{className:"text-xl font-bold text-gray-900",children:B(1275.5)})]})]}),t.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Items (3)"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between py-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Portland Cement 50kg",t.jsx("span",{className:"text-gray-500 ml-1",children:"(CEMEX)"})]}),t.jsxs("p",{className:"text-xs text-gray-500",children:["20 bag  ",B(25.5)]})]}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:B(510)})]}),t.jsxs("div",{className:"flex items-center justify-between py-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Steel Rebar 12mm",t.jsx("span",{className:"text-gray-500 ml-1",children:"(Hadeed)"})]}),t.jsxs("p",{className:"text-xs text-gray-500",children:["50 pc  ",B(12.5)]})]}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:B(625)})]}),t.jsxs("div",{className:"flex items-center justify-between py-2",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Sand Fine Grade",t.jsx("span",{className:"text-gray-500 ml-1",children:"(Local)"})]}),t.jsxs("p",{className:"text-xs text-gray-500",children:["2 ton  ",B(70.25)]})]}),t.jsx("p",{className:"text-sm font-medium text-gray-900",children:B(140.5)})]})]})]}),t.jsx("div",{className:"border-t border-gray-200 pt-4 mt-4",children:t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsx("button",{onClick:()=>G("demo-order"),disabled:q.isPending,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:q.isPending?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating BOM..."]}):t.jsxs(t.Fragment,{children:[t.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Reorder"]})}),t.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[t.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Invoice"]}),t.jsxs("button",{className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[t.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Receipt"]}),t.jsxs(Z,{to:"/compare",className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[t.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Compare Prices"]})]})}),t.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Delivery Information"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Delivery Date"}),t.jsx("p",{className:"font-medium",children:R(Date.now()-432e5)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500",children:"Delivery Address"}),t.jsx("p",{className:"font-medium",children:"Al Barsha Construction Site, Dubai"})]})]})]})]})})]})]})})]})})},F5=()=>{const e=W(P=>P.authentication_state.auth_token),s=W(P=>P.app_preferences.currency),r=W(P=>P.app_preferences.language),n=W(P=>P.load_bom),[a,i]=u.useState("grid"),[l,o]=u.useState(!1),[c,d]=u.useState(!1),[m,f]=u.useState(!1),[x,j]=u.useState({search:"",project_type:"",status:"",sort_by:"updated_at",sort_order:"desc"}),y=Xe(),{data:b,isLoading:w,error:g}=ce({queryKey:["user-boms",x],queryFn:async()=>{if(!e)throw new Error("No auth token");const P=new URLSearchParams({limit:"50",offset:"0",sort_by:x.sort_by,sort_order:x.sort_order,...x.search&&{query:x.search},...x.project_type&&{project_type:x.project_type},...x.status&&{status:x.status}});return(await Y.get(`https://123construction-shop-finder.launchpulse.ai/api/boms?${P}`,{headers:{Authorization:`Bearer ${e}`}})).data},enabled:!!e,staleTime:6e4,refetchOnWindowFocus:!1,retry:1,select:P=>({boms:P.boms||[],total:Number(P.total||0)})}),{data:h}=ce({queryKey:["bom-templates"],queryFn:async()=>({templates:[{id:"residential_foundation",name:"Residential Foundation",description:"Complete material list for residential foundation construction",project_type:"residential",estimated_items:15,estimated_cost:25e3},{id:"commercial_framing",name:"Commercial Framing",description:"Steel and concrete framing for commercial buildings",project_type:"commercial",estimated_items:32,estimated_cost:85e3},{id:"villa_finishing",name:"Villa Finishing Works",description:"Complete finishing materials for luxury villa",project_type:"residential",estimated_items:45,estimated_cost:12e4},{id:"warehouse_construction",name:"Warehouse Construction",description:"Industrial warehouse construction materials",project_type:"industrial",estimated_items:28,estimated_cost:65e3}]}),staleTime:3e5}),p=xe({mutationFn:async P=>{if(!e)throw new Error("No auth token");return(await Y.post("https://123construction-shop-finder.launchpulse.ai/api/boms",P,{headers:{Authorization:`Bearer ${e}`}})).data},onSuccess:P=>{y.invalidateQueries({queryKey:["user-boms"]}),f(!1),n(P.id)}}),k=xe({mutationFn:async({bomId:P,title:C})=>{if(!e)throw new Error("No auth token");return(await Y.post(`https://123construction-shop-finder.launchpulse.ai/api/boms/${P}/duplicate`,{title:C},{headers:{Authorization:`Bearer ${e}`}})).data},onSuccess:()=>{y.invalidateQueries({queryKey:["user-boms"]})}}),E=xe({mutationFn:async P=>{if(!e)throw new Error("No auth token");await Y.delete(`https://123construction-shop-finder.launchpulse.ai/api/boms/${P}`,{headers:{Authorization:`Bearer ${e}`}})},onSuccess:()=>{y.invalidateQueries({queryKey:["user-boms"]})}}),I=P=>new Intl.NumberFormat(r==="ar"?"ar-AE":"en-AE",{style:"currency",currency:s,minimumFractionDigits:0,maximumFractionDigits:0}).format(P),_=P=>new Date(P).toLocaleDateString(r==="ar"?"ar-AE":"en-AE",{year:"numeric",month:"short",day:"numeric"}),L=P=>{switch(P){case"completed":return"bg-green-100 text-green-800";case"active":return"bg-blue-100 text-blue-800";case"draft":return"bg-gray-100 text-gray-800";case"archived":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},T=P=>{switch(P){case"completed":return t.jsx(m5,{className:"h-4 w-4"});case"active":return t.jsx(Ga,{className:"h-4 w-4"});case"draft":return t.jsx(Sl,{className:"h-4 w-4"});case"archived":return t.jsx(X0,{className:"h-4 w-4"});default:return t.jsx(Nr,{className:"h-4 w-4"})}},q=async P=>{try{await p.mutateAsync(P)}catch(C){console.error("Failed to create BOM:",C)}},D=async(P,C)=>{const S=`${C} (Copy)`;try{await k.mutateAsync({bomId:P,title:S})}catch(z){console.error("Failed to duplicate BOM:",z)}},R=async P=>{if(window.confirm("Are you sure you want to delete this project? This action cannot be undone."))try{await E.mutateAsync(P)}catch(C){console.error("Failed to delete BOM:",C)}},B=(b==null?void 0:b.boms)||[],G=(b==null?void 0:b.total)||0,U={totalProjects:G,activeProjects:B.filter(P=>P.status==="active").length,completedProjects:B.filter(P=>P.status==="completed").length,totalValue:B.reduce((P,C)=>P+C.total_cost,0),averageProjectValue:G>0?B.reduce((P,C)=>P+C.total_cost,0)/G:0};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[t.jsx("div",{className:"bg-white shadow-lg border-b border-gray-200",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Project Portfolio"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your construction projects and BOMs"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>d(!c),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:"Analytics"}),t.jsxs("button",{onClick:()=>o(!l),className:"inline-flex items-center px-4 py-2 text-sm font-medium text-blue-700 bg-blue-100 border border-blue-200 rounded-lg hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:[t.jsx(W0,{className:"h-4 w-4 mr-2"}),"Templates"]}),t.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-6 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-lg hover:shadow-xl transition-all duration-200",children:[t.jsx(Dt,{className:"h-4 w-4 mr-2"}),"New Project"]})]})]})})}),c&&t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Portfolio Analytics"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:U.totalProjects}),t.jsx("div",{className:"text-sm text-gray-600",children:"Total Projects"})]}),t.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:U.activeProjects}),t.jsx("div",{className:"text-sm text-gray-600",children:"Active Projects"})]}),t.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-600",children:U.completedProjects}),t.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]}),t.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:I(U.totalValue)}),t.jsx("div",{className:"text-sm text-gray-600",children:"Total Value"})]}),t.jsxs("div",{className:"text-center p-4 bg-indigo-50 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:I(U.averageProjectValue)}),t.jsx("div",{className:"text-sm text-gray-600",children:"Avg. Project"})]})]})]})}),l&&t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Project Templates"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:h==null?void 0:h.templates.map(P=>t.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h3",{className:"font-medium text-gray-900",children:P.name}),t.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:P.project_type})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-3",children:P.description}),t.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-3",children:[t.jsxs("span",{children:[P.estimated_items," items"]}),t.jsx("span",{children:I(P.estimated_cost)})]}),t.jsx("button",{onClick:()=>q({title:`New ${P.name}`,project_type:P.project_type,template:P.id}),className:"w-full px-3 py-2 text-sm font-medium text-blue-700 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 transition-colors",children:"Use Template"})]},P.id))})]})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6",children:t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[t.jsx("div",{className:"flex-1 max-w-md",children:t.jsxs("div",{className:"relative",children:[t.jsx(Xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search projects...",value:x.search,onChange:P=>j(C=>({...C,search:P.target.value})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs("select",{value:x.project_type,onChange:P=>j(C=>({...C,project_type:P.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"All Types"}),t.jsx("option",{value:"residential",children:"Residential"}),t.jsx("option",{value:"commercial",children:"Commercial"}),t.jsx("option",{value:"industrial",children:"Industrial"}),t.jsx("option",{value:"infrastructure",children:"Infrastructure"})]}),t.jsxs("select",{value:x.status,onChange:P=>j(C=>({...C,status:P.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"All Status"}),t.jsx("option",{value:"draft",children:"Draft"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"archived",children:"Archived"})]}),t.jsxs("select",{value:`${x.sort_by}_${x.sort_order}`,onChange:P=>{const[C,S]=P.target.value.split("_");j(z=>({...z,sort_by:C,sort_order:S}))},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"updated_at_desc",children:"Recently Updated"}),t.jsx("option",{value:"created_at_desc",children:"Recently Created"}),t.jsx("option",{value:"title_asc",children:"Name A-Z"}),t.jsx("option",{value:"title_desc",children:"Name Z-A"}),t.jsx("option",{value:"total_cost_desc",children:"Highest Value"}),t.jsx("option",{value:"total_cost_asc",children:"Lowest Value"})]}),t.jsxs("div",{className:"flex border border-gray-300 rounded-lg",children:[t.jsx("button",{onClick:()=>i("grid"),className:`px-3 py-2 text-sm font-medium rounded-l-lg transition-colors ${a==="grid"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:t.jsx(Zg,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>i("list"),className:`px-3 py-2 text-sm font-medium rounded-r-lg border-l transition-colors ${a==="list"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 hover:bg-gray-50 border-gray-300"}`,children:t.jsx(Qg,{className:"h-4 w-4"})})]})]})]})}),w&&t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12",children:t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),t.jsx("span",{className:"ml-3 text-gray-600",children:"Loading projects..."})]})}),g&&t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(X0,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Projects"}),t.jsx("p",{className:"text-gray-600",children:"Please try refreshing the page."})]})}),!w&&!g&&B.length===0&&t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12",children:t.jsxs("div",{className:"text-center",children:[t.jsx(W0,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Projects Found"}),t.jsx("p",{className:"text-gray-600 mb-4",children:x.search||x.project_type||x.status?"No projects match your current filters.":"Start by creating your first construction project."}),t.jsxs("button",{onClick:()=>f(!0),className:"inline-flex items-center px-6 py-3 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-lg hover:shadow-xl transition-all duration-200",children:[t.jsx(Dt,{className:"h-4 w-4 mr-2"}),"Create Your First Project"]})]})}),!w&&!g&&B.length>0&&t.jsx("div",{className:a==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:B.map(P=>t.jsx("div",{className:`bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-200 ${a==="list"?"flex items-center p-6":""}`,children:a==="grid"?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1 line-clamp-2",children:P.title}),P.description&&t.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:P.description})]}),t.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[t.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${L(P.status)}`,children:[T(P.status),t.jsx("span",{className:"ml-1 capitalize",children:P.status})]}),t.jsx("div",{className:"relative",children:t.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 rounded-md",children:t.jsx(__,{className:"h-5 w-5"})})})]})]}),t.jsxs("div",{className:"space-y-3 mb-4",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Items:"}),t.jsx("span",{className:"font-medium text-gray-900",children:P.item_count})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Total Cost:"}),t.jsx("span",{className:"font-medium text-gray-900",children:I(P.total_cost)})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Updated:"}),t.jsx("span",{className:"text-gray-500",children:_(P.updated_at)})]}),P.project_type&&t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Type:"}),t.jsx("span",{className:"text-gray-500 capitalize",children:P.project_type})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(Z,{to:`/bom/${P.id}`,className:"flex-1 inline-flex items-center justify-center px-3 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:[t.jsx(Sl,{className:"h-4 w-4 mr-1"}),"Edit"]}),t.jsx("button",{onClick:()=>D(P.id,P.title),disabled:k.isPending,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors disabled:opacity-50",children:t.jsx(au,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>R(P.id),disabled:E.isPending,className:"px-3 py-2 text-sm font-medium text-red-700 bg-red-100 border border-red-300 rounded-md hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors disabled:opacity-50",children:t.jsx(lu,{className:"h-4 w-4"})})]})]})}):t.jsx(t.Fragment,{children:t.jsx("div",{className:"flex-1 min-w-0",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:P.title}),P.description&&t.jsx("p",{className:"text-sm text-gray-600 truncate",children:P.description})]}),t.jsxs("div",{className:"flex items-center gap-6 ml-6",children:[t.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${L(P.status)}`,children:[T(P.status),t.jsx("span",{className:"ml-1 capitalize",children:P.status})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[P.item_count," items"]}),t.jsx("div",{className:"text-sm text-gray-500",children:I(P.total_cost)})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm text-gray-500",children:_(P.updated_at)}),P.project_type&&t.jsx("div",{className:"text-sm text-gray-400 capitalize",children:P.project_type})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(Z,{to:`/bom/${P.id}`,className:"inline-flex items-center px-3 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:[t.jsx(Sl,{className:"h-4 w-4 mr-1"}),"Edit"]}),t.jsx("button",{onClick:()=>D(P.id,P.title),disabled:k.isPending,className:"p-2 text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors disabled:opacity-50",children:t.jsx(au,{className:"h-4 w-4"})}),t.jsx("button",{onClick:()=>R(P.id),disabled:E.isPending,className:"p-2 text-red-700 bg-red-100 border border-red-300 rounded-md hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors disabled:opacity-50",children:t.jsx(lu,{className:"h-4 w-4"})})]})]})]})})})},P.id))})]}),m&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create New Project"}),t.jsxs("form",{onSubmit:P=>{P.preventDefault();const C=new FormData(P.currentTarget);q({title:C.get("title"),description:C.get("description")||void 0,project_type:C.get("project_type")||void 0})},children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Title *"}),t.jsx("input",{type:"text",id:"title",name:"title",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter project title"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),t.jsx("textarea",{id:"description",name:"description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Project description (optional)"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"project_type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Type"}),t.jsxs("select",{id:"project_type",name:"project_type",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"Select type (optional)"}),t.jsx("option",{value:"residential",children:"Residential"}),t.jsx("option",{value:"commercial",children:"Commercial"}),t.jsx("option",{value:"industrial",children:"Industrial"}),t.jsx("option",{value:"infrastructure",children:"Infrastructure"})]})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6",children:[t.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:p.isPending,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors disabled:opacity-50",children:p.isPending?"Creating...":"Create Project"})]})]})]})})]})})},O5=()=>{const e=W(B=>B.authentication_state.current_user),s=W(B=>B.authentication_state.auth_token),[r,n]=u.useState("all"),[a,i]=u.useState(""),[l,o]=u.useState([]),[c,d]=u.useState("list"),[m,f]=u.useState("recent"),[x,j]=u.useState(!1),[y,b]=u.useState(""),w=Xe(),g=async()=>{if(!s)throw new Error("Authentication required");return(await Y.get("https://123construction-shop-finder.launchpulse.ai/api/search/history",{headers:{Authorization:`Bearer ${s}`},params:{limit:100,offset:0}})).data.searches.map((G,U)=>({id:`search_${U}`,query:G.query,filters:G.filters||{},results_count:G.results_count||0,created_at:G.created_at,name:`Search: ${G.query}`,folder:U%3===0?"Project Alpha":U%3===1?"Market Research":void 0,tags:G.query.includes("cement")?["construction","materials"]:["general"],is_favorite:U%5===0,alert_enabled:U%4===0,last_executed:G.created_at,performance_data:{avg_results:Math.floor(Math.random()*50)+10,price_trend:["up","down","stable"][U%3],new_products_count:Math.floor(Math.random()*5)}}))},h=B=>{const G=new URLSearchParams;return G.set("q",B.query),B.filters.category&&G.set("category",B.filters.category),B.filters.brand&&G.set("brand",B.filters.brand),B.filters.price_min&&G.set("price_min",B.filters.price_min.toString()),B.filters.price_max&&G.set("price_max",B.filters.price_max.toString()),`/search?${G.toString()}`},p=async B=>{if(console.log("Creating alert for search:",B),!s)throw new Error("Authentication required");await Y.post("https://123construction-shop-finder.launchpulse.ai/api/alerts",{type:"new_product",condition_type:"equals",notification_methods:["push","email"]},{headers:{Authorization:`Bearer ${s}`}})},{data:k=[],isLoading:E,error:I}=ce({queryKey:["saved-searches",e==null?void 0:e.id],queryFn:g,enabled:!!s&&!!e,staleTime:5*60*1e3,refetchOnWindowFocus:!1});xe({mutationFn:async B=>(await h(B),B)});const _=xe({mutationFn:p,onSuccess:()=>{w.invalidateQueries({queryKey:["alerts"]})}}),L=u.useMemo(()=>{const B=new Map;k.forEach(U=>{U.folder&&B.set(U.folder,(B.get(U.folder)||0)+1)});const G=["bg-blue-100 text-blue-800","bg-green-100 text-green-800","bg-purple-100 text-purple-800"];return Array.from(B.entries()).map(([U,P],C)=>({id:U.toLowerCase().replace(/\s+/g,"-"),name:U,search_count:P,color:G[C%G.length]}))},[k]),T=u.useMemo(()=>{var G;let B=k;if(r!=="all"){const U=(G=L.find(P=>P.id===r))==null?void 0:G.name;B=B.filter(P=>P.folder===U)}switch(a&&(B=B.filter(U=>{var P,C;return U.query.toLowerCase().includes(a.toLowerCase())||((P=U.name)==null?void 0:P.toLowerCase().includes(a.toLowerCase()))||((C=U.tags)==null?void 0:C.some(S=>S.toLowerCase().includes(a.toLowerCase())))})),m){case"name":B.sort((U,P)=>(U.name||U.query).localeCompare(P.name||P.query));break;case"results":B.sort((U,P)=>P.results_count-U.results_count);break;case"performance":B.sort((U,P)=>{var C,S;return(((C=P.performance_data)==null?void 0:C.avg_results)||0)-(((S=U.performance_data)==null?void 0:S.avg_results)||0)});break;default:B.sort((U,P)=>P.created_at-U.created_at)}return B},[k,r,a,m,L]),q=B=>{const G=h(B);window.location.href=G},D=B=>{_.mutate(B)},R=B=>{o(G=>G.includes(B)?G.filter(U=>U!==B):[...G,B])};return E?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading saved searches..."})]})})}):I?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-red-500 mb-4",children:t.jsx(Xr,{className:"h-12 w-12 mx-auto"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to load searches"}),t.jsx("p",{className:"text-gray-600",children:"Please try again later."})]})})}):t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"py-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Saved Searches"}),t.jsx("p",{className:"mt-2 text-gray-600",children:"Manage and optimize your product discovery activities"})]}),t.jsx("div",{className:"flex items-center space-x-4",children:t.jsxs(Z,{to:"/search",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[t.jsx(Dt,{className:"h-4 w-4 mr-2"}),"New Search"]})})]})})})}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[t.jsxs("div",{className:"w-full lg:w-80 space-y-6",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search saved searches...",value:a,onChange:B=>i(B.target.value),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>d("list"),className:`p-2 rounded-md ${c==="list"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:t.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 16a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"})})}),t.jsx("button",{onClick:()=>d("grid"),className:`p-2 rounded-md ${c==="grid"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:t.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})})]}),t.jsxs("select",{value:m,onChange:B=>f(B.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-1",children:[t.jsx("option",{value:"recent",children:"Recent"}),t.jsx("option",{value:"name",children:"Name"}),t.jsx("option",{value:"results",children:"Results"}),t.jsx("option",{value:"performance",children:"Performance"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Folders"}),t.jsx("button",{onClick:()=>j(!0),className:"text-blue-600 hover:text-blue-700",children:t.jsx(Dt,{className:"h-4 w-4"})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("button",{onClick:()=>n("all"),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${r==="all"?"bg-blue-50 text-blue-700 border-l-4 border-blue-500":"text-gray-700 hover:bg-gray-50"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(kc,{className:"h-4 w-4 mr-2"}),"All Searches"]}),t.jsx("span",{className:"text-sm text-gray-500",children:k.length})]})}),L.map(B=>t.jsx("button",{onClick:()=>n(B.id),className:`w-full text-left px-3 py-2 rounded-lg transition-colors ${r===B.id?"bg-blue-50 text-blue-700 border-l-4 border-blue-500":"text-gray-700 hover:bg-gray-50"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(kc,{className:"h-4 w-4 mr-2"}),B.name]}),t.jsx("span",{className:"text-sm text-gray-500",children:B.search_count})]})},B.id))]}),x&&t.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("input",{type:"text",placeholder:"Folder name",value:y,onChange:B=>b(B.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm",onKeyPress:B=>{B.key==="Enter"&&(j(!1),b(""))}}),t.jsx("button",{onClick:()=>{j(!1),b("")},className:"px-3 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700",children:"Add"})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Stats"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Total Searches"}),t.jsx("span",{className:"font-semibold",children:k.length})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"With Alerts"}),t.jsx("span",{className:"font-semibold",children:k.filter(B=>B.alert_enabled).length})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Favorites"}),t.jsx("span",{className:"font-semibold",children:k.filter(B=>B.is_favorite).length})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Avg Results"}),t.jsx("span",{className:"font-semibold",children:Math.round(k.reduce((B,G)=>B+G.results_count,0)/k.length)||0})]})]})]})]}),t.jsxs("div",{className:"flex-1",children:[l.length>0&&t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center",children:t.jsxs("span",{className:"text-blue-700 font-medium",children:[l.length," search",l.length!==1?"es":""," selected"]})}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("button",{onClick:()=>{},className:"px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[t.jsx(Nc,{className:"h-4 w-4 inline mr-1"}),"Create Alerts"]}),t.jsx("button",{onClick:()=>o([]),className:"px-3 py-1 text-sm border border-gray-300 rounded-md hover:bg-gray-50",children:"Clear"})]})]})}),T.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Xr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No saved searches found"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Start saving your searches to track market trends and get alerts."}),t.jsxs(Z,{to:"/search",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[t.jsx(Dt,{className:"h-4 w-4 mr-2"}),"Create First Search"]})]}):t.jsx("div",{className:c==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:T.map(B=>{var G,U,P,C,S,z,O;return t.jsxs("div",{className:`bg-white rounded-xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-200 ${c==="list"?"p-6":"p-4"}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("input",{type:"checkbox",checked:l.includes(B.id),onChange:()=>R(B.id),className:"mt-1 h-4 w-4 text-blue-600 rounded border-gray-300"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:B.name||B.query}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:['"',B.query,'"']})]})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[B.is_favorite&&t.jsx(Fr,{className:"h-4 w-4 text-yellow-400"}),B.alert_enabled&&t.jsx(Nc,{className:"h-4 w-4 text-blue-500"})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[B.folder&&t.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[t.jsx(kc,{className:"h-3 w-3 mr-1"}),B.folder]}),(G=B.tags)==null?void 0:G.map(N=>t.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[t.jsx(Nr,{className:"h-3 w-3 mr-1"}),N]},N))]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg font-semibold text-gray-900",children:B.results_count}),t.jsx("div",{className:"text-xs text-gray-500",children:"Results"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx("span",{className:"text-lg font-semibold text-gray-900",children:((U=B.performance_data)==null?void 0:U.avg_results)||0}),t.jsx("span",{className:`ml-1 text-xs ${((P=B.performance_data)==null?void 0:P.price_trend)==="up"?"text-red-500":((C=B.performance_data)==null?void 0:C.price_trend)==="down"?"text-green-500":"text-gray-500"}`,children:((S=B.performance_data)==null?void 0:S.price_trend)==="up"?"":((z=B.performance_data)==null?void 0:z.price_trend)==="down"?"":""})]}),t.jsx("div",{className:"text-xs text-gray-500",children:"Avg Results"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg font-semibold text-gray-900",children:((O=B.performance_data)==null?void 0:O.new_products_count)||0}),t.jsx("div",{className:"text-xs text-gray-500",children:"New"})]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("button",{onClick:()=>q(B),className:"inline-flex items-center px-3 py-1.5 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:[t.jsx(H_,{className:"h-3 w-3 mr-1"}),"Execute"]}),!B.alert_enabled&&t.jsxs("button",{onClick:()=>D(B.id),disabled:_.isPending,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-gray-700 text-sm rounded-md hover:bg-gray-50 transition-colors disabled:opacity-50",children:[t.jsx(Nc,{className:"h-3 w-3 mr-1"}),"Alert"]})]}),t.jsx("div",{className:"flex items-center space-x-1",children:t.jsx("span",{className:"text-xs text-gray-500",children:new Date(B.created_at).toLocaleDateString()})})]})]},B.id)})})]})]})})]})})},$5=()=>{const e=W(O=>O.authentication_state.current_user),s=W(O=>O.authentication_state.auth_token),r=W(O=>O.update_user_profile),n=W(O=>O.update_language),a=W(O=>O.update_currency),i=W(O=>O.update_theme),[l,o]=u.useState("profile"),[c,d]=u.useState(!1),[m,f]=u.useState(null),[x,j]=u.useState(null),[y,b]=u.useState({name:(e==null?void 0:e.name)||"",phone:(e==null?void 0:e.phone)||"",address:(e==null?void 0:e.address)||""}),[w,g]=u.useState({email_notifications:!0,sms_notifications:!1,push_notifications:!0,price_alerts:!0,stock_alerts:!0,rfq_updates:!0,quiet_hours:{start:"22:00",end:"08:00"}}),[h,p]=u.useState({profile_visibility:"private",data_sharing_consent:!1,analytics_consent:!0,marketing_consent:!1}),[k,E]=u.useState({theme:"light",font_size:"medium",display_density:"comfortable",language:"en",currency:"AED",units:"metric"}),[I,_]=u.useState({calendar_sync:!1,mapping_service:"google",navigation_app:"default",social_sharing:!1}),[L,T]=u.useState({high_contrast:!1,screen_reader_support:!1,keyboard_navigation:!1,voice_commands:!1,reduced_motion:!1}),q=Xe();u.useEffect(()=>{if(e!=null&&e.preferences){const O=e.preferences;O.notifications&&g(N=>({...N,...O.notifications})),O.privacy&&p(N=>({...N,...O.privacy})),O.appearance&&E(N=>({...N,...O.appearance})),O.integrations&&_(N=>({...N,...O.integrations})),O.accessibility&&T(N=>({...N,...O.accessibility}))}},[e]);const D=xe({mutationFn:async O=>{if(!e||!s)throw new Error("Authentication required");return(await Y.put(`https://123construction-shop-finder.launchpulse.ai/api/users/${e.id}`,{preferences:O},{headers:{Authorization:`Bearer ${s}`}})).data},onSuccess:O=>{r(O),f(new Date().toISOString()),j(null),q.invalidateQueries({queryKey:["user",e==null?void 0:e.id]})},onError:O=>{var N,A;j(((A=(N=O.response)==null?void 0:N.data)==null?void 0:A.message)||"Failed to save preferences")},onSettled:()=>{d(!1)}}),R=xe({mutationFn:async O=>{if(!e||!s)throw new Error("Authentication required");return(await Y.put(`https://123construction-shop-finder.launchpulse.ai/api/users/${e.id}`,O,{headers:{Authorization:`Bearer ${s}`}})).data},onSuccess:O=>{r(O),f(new Date().toISOString()),j(null)},onError:O=>{var N,A;j(((A=(N=O.response)==null?void 0:N.data)==null?void 0:A.message)||"Failed to update profile")},onSettled:()=>{d(!1)}}),B=async()=>{d(!0),j(null),R.mutate(y)},G=async()=>{d(!0),j(null);const O=(e==null?void 0:e.preferences)||{};D.mutate({...O,notifications:w})},U=async()=>{d(!0),j(null);const O=(e==null?void 0:e.preferences)||{};D.mutate({...O,privacy:h})},P=async()=>{d(!0),j(null),i(k.theme),n(k.language),a(k.currency);const O=(e==null?void 0:e.preferences)||{};D.mutate({...O,appearance:k})},C=async()=>{d(!0),j(null);const O=(e==null?void 0:e.preferences)||{};D.mutate({...O,integrations:I})},S=async()=>{d(!0),j(null);const O=(e==null?void 0:e.preferences)||{};D.mutate({...O,accessibility:L})},z=[{id:"profile",label:"Profile & Account",icon:yi},{id:"appearance",label:"Appearance",icon:cn},{id:"notifications",label:"Notifications",icon:Es},{id:"privacy",label:"Privacy & Data",icon:na},{id:"accessibility",label:"Accessibility",icon:zw},{id:"integrations",label:"Integrations",icon:gi}];return e?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),t.jsx("p",{className:"text-lg text-gray-600",children:"Customize your ConstructHub experience"})]}),x&&t.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(ts,{className:"h-5 w-5 text-red-500 mr-2"}),t.jsx("p",{className:"text-red-700",children:x})]})}),m&&t.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(rs,{className:"h-5 w-5 text-green-500 mr-2"}),t.jsxs("p",{className:"text-green-700",children:["Settings saved successfully at ",new Date(m).toLocaleTimeString()]})]})}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Settings navigation",children:z.map(O=>{const N=O.icon;return t.jsx("button",{onClick:()=>o(O.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${l===O.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(N,{className:"h-4 w-4"}),t.jsx("span",{children:O.label})]})},O.id)})})}),t.jsxs("div",{className:"p-6",children:[l==="profile"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Profile & Account"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Manage your personal information and account details."})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),t.jsx("input",{type:"text",id:"name",value:y.name,onChange:O=>b(N=>({...N,name:O.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",placeholder:"Enter your full name"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),t.jsx("input",{type:"email",id:"email",value:e.email,disabled:!0,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 bg-gray-50 text-gray-500",placeholder:"Email cannot be changed"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),t.jsx("input",{type:"tel",id:"phone",value:y.phone,onChange:O=>b(N=>({...N,phone:O.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",placeholder:"Enter your phone number"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"user_type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Type"}),t.jsx("input",{type:"text",id:"user_type",value:e.user_type==="buyer"?"Buyer Account":"Shop Owner Account",disabled:!0,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 bg-gray-50 text-gray-500"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),t.jsx("textarea",{id:"address",rows:3,value:y.address,onChange:O=>b(N=>({...N,address:O.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",placeholder:"Enter your address"})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs("button",{onClick:B,disabled:c,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[c?t.jsx(St,{className:"h-4 w-4 animate-spin"}):t.jsx(Hs,{className:"h-4 w-4"}),t.jsx("span",{children:c?"Saving...":"Save Profile"})]})})]}),l==="appearance"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Appearance & Display"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Customize how the platform looks and feels."})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Theme"}),t.jsx("div",{className:"space-y-2",children:[{value:"light",label:"Light",icon:cN},{value:"dark",label:"Dark",icon:tN},{value:"system",label:"System",icon:eN}].map(O=>{const N=O.icon;return t.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[t.jsx("input",{type:"radio",name:"theme",value:O.value,checked:k.theme===O.value,onChange:A=>E(M=>({...M,theme:A.target.value})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500"}),t.jsx(N,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"text-sm text-gray-700",children:O.label})]},O.value)})})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"font_size",className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Size"}),t.jsxs("select",{id:"font_size",value:k.font_size,onChange:O=>E(N=>({...N,font_size:O.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[t.jsx("option",{value:"small",children:"Small"}),t.jsx("option",{value:"medium",children:"Medium"}),t.jsx("option",{value:"large",children:"Large"}),t.jsx("option",{value:"extra-large",children:"Extra Large"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"display_density",className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Density"}),t.jsxs("select",{id:"display_density",value:k.display_density,onChange:O=>E(N=>({...N,display_density:O.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[t.jsx("option",{value:"compact",children:"Compact"}),t.jsx("option",{value:"comfortable",children:"Comfortable"}),t.jsx("option",{value:"spacious",children:"Spacious"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"language",className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),t.jsxs("select",{id:"language",value:k.language,onChange:O=>E(N=>({...N,language:O.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[t.jsx("option",{value:"en",children:"English"}),t.jsx("option",{value:"ar",children:"Arabic"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"currency",className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),t.jsxs("select",{id:"currency",value:k.currency,onChange:O=>E(N=>({...N,currency:O.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[t.jsx("option",{value:"AED",children:"AED ()"}),t.jsx("option",{value:"USD",children:"USD ($)"}),t.jsx("option",{value:"EUR",children:"EUR ()"}),t.jsx("option",{value:"SAR",children:"SAR ()"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"units",className:"block text-sm font-medium text-gray-700 mb-2",children:"Units System"}),t.jsxs("select",{id:"units",value:k.units,onChange:O=>E(N=>({...N,units:O.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[t.jsx("option",{value:"metric",children:"Metric (kg, m, L)"}),t.jsx("option",{value:"imperial",children:"Imperial (lb, ft, gal)"})]})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs("button",{onClick:P,disabled:c,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[c?t.jsx(St,{className:"h-4 w-4 animate-spin"}):t.jsx(Hs,{className:"h-4 w-4"}),t.jsx("span",{children:c?"Saving...":"Save Appearance"})]})})]}),l==="notifications"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Notification Preferences"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Control how and when you receive notifications."})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Delivery Methods"}),t.jsx("div",{className:"space-y-4",children:[{key:"email_notifications",label:"Email Notifications",icon:no},{key:"sms_notifications",label:"SMS Notifications",icon:lN},{key:"push_notifications",label:"Push Notifications",icon:Es}].map(O=>{const N=O.icon;return t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(N,{className:"h-5 w-5 text-gray-500"}),t.jsx("span",{className:"font-medium text-gray-900",children:O.label})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:w[O.key],onChange:A=>g(M=>({...M,[O.key]:A.target.checked})),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},O.key)})})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Notification Types"}),t.jsx("div",{className:"space-y-4",children:[{key:"price_alerts",label:"Price Drop Alerts",icon:ro},{key:"stock_alerts",label:"Stock Availability Alerts",icon:Es},{key:"rfq_updates",label:"RFQ Updates",icon:kl}].map(O=>{const N=O.icon;return t.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(N,{className:"h-5 w-5 text-gray-500"}),t.jsx("span",{className:"font-medium text-gray-900",children:O.label})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:w[O.key],onChange:A=>g(M=>({...M,[O.key]:A.target.checked})),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},O.key)})})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quiet Hours"}),t.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[t.jsx(ra,{className:"h-5 w-5 text-gray-500"}),t.jsx("span",{className:"text-gray-700",children:"Do not send notifications between:"}),t.jsx("input",{type:"time",value:w.quiet_hours.start,onChange:O=>g(N=>({...N,quiet_hours:{...N.quiet_hours,start:O.target.value}})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"}),t.jsx("span",{className:"text-gray-500",children:"and"}),t.jsx("input",{type:"time",value:w.quiet_hours.end,onChange:O=>g(N=>({...N,quiet_hours:{...N.quiet_hours,end:O.target.value}})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs("button",{onClick:G,disabled:c,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[c?t.jsx(St,{className:"h-4 w-4 animate-spin"}):t.jsx(Hs,{className:"h-4 w-4"}),t.jsx("span",{children:c?"Saving...":"Save Notifications"})]})})]}),l==="privacy"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Privacy & Data"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Control your data privacy and sharing preferences."})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Profile Visibility"}),t.jsxs("select",{value:h.profile_visibility,onChange:O=>p(N=>({...N,profile_visibility:O.target.value})),className:"w-full max-w-md px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[t.jsx("option",{value:"private",children:"Private - Only visible to you"}),t.jsx("option",{value:"contacts",children:"Contacts - Visible to your connections"}),t.jsx("option",{value:"public",children:"Public - Visible to everyone"})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Data Sharing & Consent"}),t.jsx("div",{className:"space-y-4",children:[{key:"data_sharing_consent",label:"Share data with partner shops",description:"Allow shops to see your purchase history for better recommendations"},{key:"analytics_consent",label:"Analytics and performance",description:"Help us improve the platform by sharing usage analytics"},{key:"marketing_consent",label:"Marketing communications",description:"Receive promotional emails and special offers"}].map(O=>t.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"font-medium text-gray-900",children:O.label}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:h[O.key],onChange:N=>p(A=>({...A,[O.key]:N.target.checked})),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t.jsx("p",{className:"text-sm text-gray-600",children:O.description})]},O.key))})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Data Management"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("button",{className:"flex items-center space-x-3 w-full p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[t.jsx(Bo,{className:"h-5 w-5 text-blue-600"}),t.jsxs("div",{className:"flex-1 text-left",children:[t.jsx("span",{className:"font-medium text-gray-900",children:"Export My Data"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Download a copy of all your data (GDPR compliant)"})]})]}),t.jsxs("button",{className:"flex items-center space-x-3 w-full p-4 border border-red-200 rounded-lg hover:bg-red-50 transition-colors text-red-600",children:[t.jsx(_h,{className:"h-5 w-5"}),t.jsxs("div",{className:"flex-1 text-left",children:[t.jsx("span",{className:"font-medium",children:"Delete My Account"}),t.jsx("p",{className:"text-sm",children:"Permanently delete your account and all associated data"})]})]})]})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs("button",{onClick:U,disabled:c,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[c?t.jsx(St,{className:"h-4 w-4 animate-spin"}):t.jsx(Hs,{className:"h-4 w-4"}),t.jsx("span",{children:c?"Saving...":"Save Privacy Settings"})]})})]}),l==="accessibility"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Accessibility Features"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Configure accessibility options to improve your experience."})]}),t.jsx("div",{className:"space-y-4",children:[{key:"high_contrast",label:"High Contrast Mode",description:"Increase color contrast for better visibility"},{key:"screen_reader_support",label:"Screen Reader Support",description:"Optimize interface for screen reading software"},{key:"keyboard_navigation",label:"Enhanced Keyboard Navigation",description:"Improve keyboard-only navigation experience"},{key:"voice_commands",label:"Voice Commands",description:"Enable voice control for common actions"},{key:"reduced_motion",label:"Reduced Motion",description:"Minimize animations and transitions"}].map(O=>t.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"font-medium text-gray-900",children:O.label}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:L[O.key],onChange:N=>T(A=>({...A,[O.key]:N.target.checked})),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t.jsx("p",{className:"text-sm text-gray-600",children:O.description})]},O.key))}),t.jsx("div",{className:"flex justify-end",children:t.jsxs("button",{onClick:S,disabled:c,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[c?t.jsx(St,{className:"h-4 w-4 animate-spin"}):t.jsx(Hs,{className:"h-4 w-4"}),t.jsx("span",{children:c?"Saving...":"Save Accessibility"})]})})]}),l==="integrations"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"External Integrations"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Connect with external services and apps."})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(vh,{className:"h-5 w-5 text-gray-500"}),t.jsx("span",{className:"font-medium text-gray-900",children:"Calendar Sync"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:I.calendar_sync,onChange:O=>_(N=>({...N,calendar_sync:O.target.checked})),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t.jsx("p",{className:"text-sm text-gray-600",children:"Sync project deadlines and shopping trips with your calendar"})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"mapping_service",className:"block text-sm font-medium text-gray-700 mb-2",children:[t.jsx(Pt,{className:"inline h-4 w-4 mr-2"}),"Preferred Mapping Service"]}),t.jsxs("select",{id:"mapping_service",value:I.mapping_service,onChange:O=>_(N=>({...N,mapping_service:O.target.value})),className:"w-full max-w-md px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[t.jsx("option",{value:"google",children:"Google Maps"}),t.jsx("option",{value:"apple",children:"Apple Maps"}),t.jsx("option",{value:"waze",children:"Waze"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"navigation_app",className:"block text-sm font-medium text-gray-700 mb-2",children:"Navigation App"}),t.jsxs("select",{id:"navigation_app",value:I.navigation_app,onChange:O=>_(N=>({...N,navigation_app:O.target.value})),className:"w-full max-w-md px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[t.jsx("option",{value:"default",children:"Default System App"}),t.jsx("option",{value:"google",children:"Google Maps"}),t.jsx("option",{value:"waze",children:"Waze"}),t.jsx("option",{value:"apple",children:"Apple Maps"})]})]}),t.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(iN,{className:"h-5 w-5 text-gray-500"}),t.jsx("span",{className:"font-medium text-gray-900",children:"Social Sharing"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:I.social_sharing,onChange:O=>_(N=>({...N,social_sharing:O.target.checked})),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t.jsx("p",{className:"text-sm text-gray-600",children:"Enable sharing of BOMs and project updates on social media"})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsxs("button",{onClick:C,disabled:c,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[c?t.jsx(St,{className:"h-4 w-4 animate-spin"}):t.jsx(Hs,{className:"h-4 w-4"}),t.jsx("span",{children:c?"Saving...":"Save Integrations"})]})})]})]})]})]})})}):t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx(ts,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Authentication Required"}),t.jsx("p",{className:"text-gray-600",children:"Please log in to access your settings."})]})})})},B5=()=>{const e=W(h=>h.authentication_state.current_user),s=W(h=>h.authentication_state.auth_token),r=W(h=>h.authentication_state.authentication_status.is_authenticated),[n,a]=u.useState("overview"),[i,l]=u.useState({start_date:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],end_date:new Date().toISOString().split("T")[0],period_type:"month"}),o=(e==null?void 0:e.user_type)==="seller"?"current_shop_id":null,{data:c,isLoading:d,error:m}=ce({queryKey:["shop-inventory",o],queryFn:async()=>{if(!s||!o)throw new Error("Authentication required");return(await Y.get("https://123construction-shop-finder.launchpulse.ai/api/inventory",{headers:{Authorization:`Bearer ${s}`},params:{shop_id:o,limit:100,sort_by:"updated_at"}})).data},enabled:!!s&&!!o,staleTime:5*60*1e3,retry:1}),{data:f,isLoading:x,error:j}=ce({queryKey:["shop-rfqs",o],queryFn:async()=>{if(!s||!o)throw new Error("Authentication required");return(await Y.get("https://123construction-shop-finder.launchpulse.ai/api/rfqs",{headers:{Authorization:`Bearer ${s}`},params:{shop_id:o,limit:1e3,sort_by:"created_at"}})).data},enabled:!!s&&!!o,staleTime:5*60*1e3,retry:1}),y=u.useMemo(()=>c!=null&&c.inventory?c.inventory.map(h=>({variant_id:h.variant_id,product_name:`Product ${h.variant_id.slice(-6)}`,stock_quantity:h.stock_quantity||0,revenue:(h.stock_quantity||0)*25.5*Math.random(),profit_margin:15+Math.random()*20,turnover_rate:Math.random()*10,last_updated:h.updated_at})):[],[c]),b=u.useMemo(()=>{if(!(f!=null&&f.rfqs))return{total_rfqs:0,response_rate:0,conversion_rate:0,avg_response_time:0,win_rate:0};const h=f.rfqs,p=h.filter(k=>k.responses_count>0);return{total_rfqs:h.length,response_rate:h.length>0?p.length/h.length*100:0,conversion_rate:0,avg_response_time:0,win_rate:0}},[f]),w={revenue:{daily:[1200,1350,1100,1450,1600,1300,1500],weekly:[8500,9200,8800,9500],monthly:[35e3,38e3,36500,39e3],yearly:[42e4,456e3]},orders_count:156,avg_order_value:245.5,customer_count:89,repeat_customers:34,response_time_avg:2.3},g=h=>{const p={shop_performance:w,product_performance:y,rfq_analytics:b,export_date:new Date().toISOString(),date_range:i},k=new Blob([JSON.stringify(p,null,2)],{type:"application/json"}),E=URL.createObjectURL(k),I=document.createElement("a");I.href=E,I.download=`shop-analytics-${h}-${Date.now()}.json`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(E)};return!r||(e==null?void 0:e.user_type)!=="seller"?t.jsx(t.Fragment,{children:t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:t.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Shop analytics are only available to verified shop owners."}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(Z,{to:"/shop/dashboard",className:"block w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Go to Shop Dashboard"}),t.jsx(Z,{to:"/",className:"block w-full bg-gray-100 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Return Home"})]})]})})}):t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex items-center justify-between h-16",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(Z,{to:"/shop/dashboard",className:"text-gray-500 hover:text-gray-700 transition-colors",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Business Analytics"})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"date",value:i.start_date,onChange:h=>l(p=>({...p,start_date:h.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("span",{className:"text-gray-500",children:"to"}),t.jsx("input",{type:"date",value:i.end_date,onChange:h=>l(p=>({...p,end_date:h.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsx("div",{className:"relative",children:t.jsxs("select",{onChange:h=>{h.target.value&&(g(h.target.value),h.target.value="")},className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors cursor-pointer",children:[t.jsx("option",{value:"",children:"Export Report"}),t.jsx("option",{value:"csv",children:"Export as CSV"}),t.jsx("option",{value:"pdf",children:"Export as PDF"}),t.jsx("option",{value:"xlsx",children:"Export as Excel"})]})})]})]})})}),t.jsx("div",{className:"bg-white border-b border-gray-200",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsx("nav",{className:"flex space-x-8",children:[{id:"overview",label:"Overview",icon:""},{id:"revenue",label:"Revenue",icon:""},{id:"products",label:"Products",icon:""},{id:"customers",label:"Customers",icon:""},{id:"rfqs",label:"RFQs",icon:""},{id:"competition",label:"Market",icon:""}].map(h=>t.jsxs("button",{onClick:()=>a(h.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${n===h.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[t.jsx("span",{className:"mr-2",children:h.icon}),h.label]},h.id))})})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n==="overview"&&t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Revenue"}),t.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:[w.revenue.monthly[w.revenue.monthly.length-1].toLocaleString()," AED"]}),t.jsx("p",{className:"text-green-600 text-sm mt-1",children:"+12.5% from last month"})]}),t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:t.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Orders"}),t.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:w.orders_count}),t.jsx("p",{className:"text-blue-600 text-sm mt-1",children:"+8.2% from last month"})]}),t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:t.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Avg Order Value"}),t.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:[w.avg_order_value.toFixed(2)," AED"]}),t.jsx("p",{className:"text-green-600 text-sm mt-1",children:"+5.7% from last month"})]}),t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:t.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})}),t.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Response Time"}),t.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:[w.response_time_avg,"h"]}),t.jsx("p",{className:"text-green-600 text-sm mt-1",children:"-0.5h from last month"})]}),t.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:t.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs(Z,{to:"/shop/inventory",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:t.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Manage Inventory"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Update stock and prices"})]})]}),t.jsxs(Z,{to:"/rfq",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[t.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-3",children:t.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Review RFQs"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Respond to customer requests"})]})]}),t.jsxs(Z,{to:"/shop/settings",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[t.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center mr-3",children:t.jsxs("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Shop Settings"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Configure business details"})]})]})]})]})]}),n==="revenue"&&t.jsx("div",{className:"space-y-8",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Revenue Trends"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-600",children:"Daily Revenue (Last 7 days)"}),t.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Average: 1,320 AED"})]}),t.jsx("div",{className:"flex items-end space-x-2 h-40",children:w.revenue.daily.map((h,p)=>t.jsxs("div",{className:"flex flex-col items-center flex-1",children:[t.jsx("div",{className:"bg-blue-500 w-full rounded-t",style:{height:`${h/Math.max(...w.revenue.daily)*100}%`}}),t.jsxs("span",{className:"text-xs text-gray-500 mt-2",children:["Day ",p+1]})]},p))})]}),t.jsx("div",{className:"border-t pt-6 mt-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[w.revenue.monthly[w.revenue.monthly.length-1].toLocaleString()," AED"]}),t.jsx("p",{className:"text-sm text-gray-600",children:"This Month"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[w.revenue.yearly[w.revenue.yearly.length-1].toLocaleString()," AED"]}),t.jsx("p",{className:"text-sm text-gray-600",children:"This Year"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-2xl font-bold text-green-600",children:"+12.5%"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Growth Rate"})]})]})})]})}),n==="products"&&t.jsx("div",{className:"space-y-8",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Product Performance"}),t.jsx(Z,{to:"/shop/inventory",className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"Manage Inventory"})]}),d?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):m?t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-red-600",children:"Error loading product data"})}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Turnover Rate"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit Margin"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.slice(0,10).map(h=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.product_name}),t.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",h.variant_id.slice(-8)]})]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${h.stock_quantity>10?"bg-green-100 text-green-800":h.stock_quantity>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[h.stock_quantity," units"]})}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[h.turnover_rate.toFixed(1),"x"]}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[h.revenue.toLocaleString()," AED"]}),t.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[h.profit_margin.toFixed(1),"%"]})]},h.variant_id))})]})})]})}),n==="customers"&&t.jsx("div",{className:"space-y-8",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Customer Analytics"}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Customer Overview"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-600",children:"Total Customers"}),t.jsx("span",{className:"font-semibold",children:w.customer_count})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-600",children:"Repeat Customers"}),t.jsx("span",{className:"font-semibold",children:w.repeat_customers})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-600",children:"Retention Rate"}),t.jsxs("span",{className:"font-semibold text-green-600",children:[(w.repeat_customers/w.customer_count*100).toFixed(1),"%"]})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Geographic Distribution"}),t.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 text-center",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Feature coming soon"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Customer geographic analytics will be available in the next update"})]})]})]})]})}),n==="rfqs"&&t.jsx("div",{className:"space-y-8",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"RFQ Performance"}),t.jsx(Z,{to:"/rfq",className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"View RFQ Inbox"})]}),x?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):j?t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-red-600",children:"Error loading RFQ data"})}):t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsx("div",{className:"text-2xl font-bold text-gray-900",children:b.total_rfqs}),t.jsx("div",{className:"text-sm text-gray-600",children:"Total RFQs"})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[b.response_rate.toFixed(1),"%"]}),t.jsx("div",{className:"text-sm text-gray-600",children:"Response Rate"})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[b.conversion_rate.toFixed(1),"%"]}),t.jsx("div",{className:"text-sm text-gray-600",children:"Conversion Rate"})]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[b.avg_response_time.toFixed(1),"h"]}),t.jsx("div",{className:"text-sm text-gray-600",children:"Avg Response Time"})]})]})]})}),n==="competition"&&t.jsx("div",{className:"space-y-8",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Market Intelligence"}),t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("svg",{className:"w-5 h-5 text-yellow-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("p",{className:"text-sm text-yellow-800",children:"Competitive analysis features are coming soon. This will include price comparisons, market positioning, and opportunity analysis."})]})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Market Position"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-600",children:"Market Ranking"}),t.jsx("span",{className:"font-semibold",children:"#3 in Dubai"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-600",children:"Market Share"}),t.jsx("span",{className:"font-semibold",children:"12.5%"})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-gray-600",children:"Rating vs Competitors"}),t.jsx("span",{className:"font-semibold text-green-600",children:"Above Average"})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Competitive Advantages"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[t.jsx("svg",{className:"w-4 h-4 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Fast response times"]}),t.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[t.jsx("svg",{className:"w-4 h-4 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Competitive pricing"]}),t.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[t.jsx("svg",{className:"w-4 h-4 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Wide product range"]})]})]})]})]})})]})]})})},ex=["Technical Specifications","Product Recommendations","Installation Guidance","Troubleshooting","Safety Standards","Material Compatibility","Cost Estimation","Industry Best Practices"],I5=["cement","steel","concrete","foundation","roofing","plumbing","electrical","insulation","waterproofing","safety","tools","equipment"],tx=[{id:"q1",title:"What type of cement is best for foundation work in Dubai climate?",content:"I'm planning a residential foundation project in Dubai and need advice on the most suitable cement type considering the high temperature and humidity. Should I use OPC 43 grade or go for PPC?",author:{id:"u1",name:"Ahmed Hassan",reputation_score:2840,badges:["Verified Contractor","Foundation Expert"],is_expert:!0},category:"Technical Specifications",tags:["cement","foundation","dubai","climate"],votes:15,answers_count:7,has_best_answer:!0,created_at:"2024-01-15T10:30:00Z",updated_at:"2024-01-16T14:20:00Z"},{id:"q2",title:"Steel reinforcement spacing for residential slabs - UAE building code compliance",content:"What are the minimum spacing requirements for steel reinforcement in residential slabs according to UAE building codes? I'm working on a 2-story villa project.",author:{id:"u2",name:"Sarah Al-Mahmoud",reputation_score:1560,badges:["Structural Engineer"],is_expert:!0},category:"Safety Standards",tags:["steel","reinforcement","building-code","uae"],votes:22,answers_count:4,has_best_answer:!1,created_at:"2024-01-14T16:45:00Z",updated_at:"2024-01-15T09:30:00Z"},{id:"q3",title:"Waterproofing membrane installation in basement construction",content:"I need guidance on proper waterproofing membrane installation for basement walls. What's the recommended sequence and best practices for UAE conditions?",author:{id:"u3",name:"Mohammad Rizvi",reputation_score:890,badges:["Active Contributor"],is_expert:!1},category:"Installation Guidance",tags:["waterproofing","basement","membrane"],votes:8,answers_count:3,has_best_answer:!0,created_at:"2024-01-13T11:20:00Z",updated_at:"2024-01-14T08:15:00Z"}],q5=()=>{const e=W(R=>R.authentication_state.current_user),[s,r]=u.useState("list"),[n,a]=u.useState(null),[i,l]=u.useState({query:"",category:null,tags:[],sort_by:"recent",answered_only:!1}),[o]=u.useState({reputation_score:e?1250:0,badges:e?["Active Contributor","Helpful Member"]:[],questions_asked:e?12:0,answers_given:e?34:0,helpful_votes:e?89:0}),[c,d]=u.useState({title:"",content:"",category:"",tags:[],attachments:[]}),[m,f]=u.useState(""),[x,j]=u.useState(""),[y,b]=u.useState(tx),[w,g]=u.useState([]);u.useEffect(()=>{let R=[...tx];switch(i.query&&(R=R.filter(B=>B.title.toLowerCase().includes(i.query.toLowerCase())||B.content.toLowerCase().includes(i.query.toLowerCase())||B.tags.some(G=>G.toLowerCase().includes(i.query.toLowerCase())))),i.category&&(R=R.filter(B=>B.category===i.category)),i.tags.length>0&&(R=R.filter(B=>i.tags.some(G=>B.tags.includes(G)))),i.answered_only&&(R=R.filter(B=>B.answers_count>0)),i.sort_by){case"votes":R.sort((B,G)=>G.votes-B.votes);break;case"answers":R.sort((B,G)=>G.answers_count-B.answers_count);break;case"recent":default:R.sort((B,G)=>new Date(G.created_at).getTime()-new Date(B.created_at).getTime())}b(R)},[i]),u.useEffect(()=>{n&&g([])},[n]);const h=R=>{a(R),r("detail")},p=()=>{if(!e){alert("Please login to ask a question");return}r("create")},k=R=>{if(R.preventDefault(),!c.title.trim()||!c.content.trim()||!c.category){alert("Please fill in all required fields");return}console.log("Creating question:",c),d({title:"",content:"",category:"",tags:[],attachments:[]}),r("list"),alert("Question submitted successfully!")},E=R=>{if(R.preventDefault(),!m.trim()){alert("Please enter an answer");return}console.log("Submitting answer:",m),f(""),alert("Answer submitted successfully!")},I=(R,B,G)=>{if(!e){alert("Please login to vote");return}console.log(`Voting ${G} on ${R} ${B}`)},_=R=>{if(!e||!n||n.author.id!==e.id){alert("Only question authors can mark best answers");return}console.log("Marking best answer:",R)},L=()=>{x.trim()&&!c.tags.includes(x.trim().toLowerCase())&&(d(R=>({...R,tags:[...R.tags,x.trim().toLowerCase()]})),j(""))},T=R=>{d(B=>({...B,tags:B.tags.filter(G=>G!==R)}))},q=R=>{const B=new Date(R),U=Math.floor((new Date().getTime()-B.getTime())/1e3);return U<60?"just now":U<3600?`${Math.floor(U/60)}m ago`:U<86400?`${Math.floor(U/3600)}h ago`:`${Math.floor(U/86400)}d ago`},D=(R,B)=>t.jsxs("div",{className:"flex flex-wrap gap-1",children:[B&&t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:[t.jsx(Fr,{className:"w-3 h-3"}),"Expert"]}),R.map(G=>t.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded-full",children:G},G))]});return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Community Q&A"}),s!=="list"&&t.jsx("button",{onClick:()=>{r("list"),a(null)},className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-700 font-medium",children:" Back to Questions"})]}),e&&t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-right text-sm",children:[t.jsx("div",{className:"font-medium text-gray-900",children:e.name}),t.jsxs("div",{className:"text-gray-500",children:[o.reputation_score," reputation points"]})]}),t.jsxs("button",{onClick:p,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[t.jsx(Dt,{className:"w-4 h-4"}),"Ask Question"]})]})]})})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s==="list"&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Questions"}),t.jsxs("div",{className:"relative",children:[t.jsx(Xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),t.jsx("input",{type:"text",value:i.query,onChange:R=>l(B=>({...B,query:R.target.value})),placeholder:"Search questions...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),t.jsxs("select",{value:i.category||"",onChange:R=>l(B=>({...B,category:R.target.value||null})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"All Categories"}),ex.map(R=>t.jsx("option",{value:R,children:R},R))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),t.jsxs("select",{value:i.sort_by,onChange:R=>l(B=>({...B,sort_by:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"recent",children:"Most Recent"}),t.jsx("option",{value:"votes",children:"Most Voted"}),t.jsx("option",{value:"answers",children:"Most Answered"})]})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:"answered-only",checked:i.answered_only,onChange:R=>l(B=>({...B,answered_only:R.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("label",{htmlFor:"answered-only",className:"ml-2 text-sm text-gray-700",children:"Answered questions only"})]}),e&&t.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Your Activity"}),t.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Questions Asked"}),t.jsx("span",{className:"font-medium",children:o.questions_asked})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Answers Given"}),t.jsx("span",{className:"font-medium",children:o.answers_given})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Helpful Votes"}),t.jsx("span",{className:"font-medium",children:o.helpful_votes})]})]}),D(o.badges,!1)]})]})}),t.jsx("div",{className:"lg:col-span-3",children:t.jsx("div",{className:"space-y-4",children:y.length===0?t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center",children:[t.jsx(o_,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No questions found"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search filters or be the first to ask!"}),e&&t.jsxs("button",{onClick:p,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[t.jsx(Dt,{className:"w-4 h-4"}),"Ask First Question"]})]}):y.map(R=>t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("button",{onClick:()=>h(R),className:"text-left block w-full",children:t.jsx("h3",{className:"text-lg font-semibold text-gray-900 hover:text-blue-600 transition-colors mb-2",children:R.title})}),t.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:R.content}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(On,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium text-gray-700",children:R.author.name}),R.author.is_expert&&t.jsx(Fr,{className:"w-4 h-4 text-blue-500"})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Ga,{className:"w-4 h-4"}),q(R.created_at)]}),t.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs",children:R.category})]}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:R.tags.map(B=>t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 rounded-full text-xs",children:[t.jsx(Nr,{className:"w-3 h-3"}),B]},B))})]}),t.jsxs("div",{className:"ml-6 text-right space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-lg font-semibold text-gray-900",children:R.votes}),t.jsx("div",{children:"votes"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:`text-lg font-semibold ${R.answers_count>0?"text-green-600":"text-gray-900"}`,children:R.answers_count}),t.jsx("div",{children:"answers"})]})]}),R.has_best_answer&&t.jsxs("div",{className:"flex items-center gap-1 text-green-600 text-xs",children:[t.jsx(Fr,{className:"w-3 h-3"}),"Solved"]})]})]})},R.id))})})]}),s==="detail"&&n&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"lg:col-span-3",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:n.title}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(On,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium text-gray-700",children:n.author.name}),n.author.is_expert&&t.jsx(Fr,{className:"w-4 h-4 text-blue-500"}),t.jsx("span",{className:"text-gray-400",children:""}),t.jsxs("span",{children:[n.author.reputation_score," reputation"]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Ga,{className:"w-4 h-4"}),"Asked ",q(n.created_at)]})]}),D(n.author.badges,n.author.is_expert)]}),t.jsxs("div",{className:"ml-6 flex flex-col items-center space-y-2",children:[t.jsx("button",{onClick:()=>I("question",n.id,"up"),className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",children:t.jsx(Z0,{className:"w-6 h-6"})}),t.jsx("span",{className:"text-xl font-semibold text-gray-900",children:n.votes}),t.jsx("button",{onClick:()=>I("question",n.id,"down"),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:t.jsx(Q0,{className:"w-6 h-6"})})]})]}),t.jsx("div",{className:"prose max-w-none mb-6",children:t.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:n.content})}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:n.tags.map(R=>t.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm",children:[t.jsx(Nr,{className:"w-3 h-3"}),R]},R))}),t.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[t.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:n.category}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg",children:t.jsx(t_,{className:"w-5 h-5"})}),t.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg",children:t.jsx(mo,{className:"w-5 h-5"})}),t.jsx("button",{className:"p-2 text-gray-400 hover:text-red-600 rounded-lg",children:t.jsx(K0,{className:"w-5 h-5"})})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:[w.length," ",w.length===1?"Answer":"Answers"]}),t.jsx("div",{className:"space-y-6",children:w.map(R=>t.jsx("div",{className:`border rounded-xl p-6 ${R.is_best_answer?"border-green-200 bg-green-50":"border-gray-200"}`,children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[R.is_best_answer&&t.jsxs("div",{className:"flex items-center gap-2 text-green-600 font-medium text-sm mb-3",children:[t.jsx(Fr,{className:"w-4 h-4"}),"Best Answer"]}),t.jsx("div",{className:"prose max-w-none mb-4",children:t.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:R.content})}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(On,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium text-gray-700",children:R.author.name}),R.author.is_expert&&t.jsx(Fr,{className:"w-4 h-4 text-blue-500"}),t.jsx("span",{className:"text-gray-400",children:""}),t.jsxs("span",{children:[R.author.reputation_score," reputation"]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Ga,{className:"w-4 h-4"}),q(R.created_at)]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[!R.is_best_answer&&e&&n.author.id===e.id&&t.jsx("button",{onClick:()=>_(R.id),className:"px-3 py-1 text-sm text-green-600 hover:text-green-700 border border-green-200 hover:border-green-300 rounded-lg transition-colors",children:"Mark as Best"}),t.jsx("button",{className:"p-1 text-gray-400 hover:text-red-600 rounded",children:t.jsx(K0,{className:"w-4 h-4"})})]})]}),t.jsx("div",{className:"mt-3",children:D(R.author.badges,R.author.is_expert)})]}),t.jsxs("div",{className:"ml-6 flex flex-col items-center space-y-2",children:[t.jsx("button",{onClick:()=>I("answer",R.id,"up"),className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",children:t.jsx(Z0,{className:"w-5 h-5"})}),t.jsx("span",{className:"text-lg font-semibold text-gray-900",children:R.votes}),t.jsx("button",{onClick:()=>I("answer",R.id,"down"),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:t.jsx(Q0,{className:"w-5 h-5"})})]})]})},R.id))}),e&&t.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Your Answer"}),t.jsxs("form",{onSubmit:E,children:[t.jsx("textarea",{value:m,onChange:R=>f(R.target.value),placeholder:"Share your knowledge and help the community...",rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"}),t.jsx("div",{className:"flex justify-end mt-4",children:t.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Post Answer"})})]})]}),!e&&t.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 text-center",children:[t.jsx("p",{className:"text-gray-600 mb-4",children:"Please login to post an answer"}),t.jsx(Z,{to:"/login",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Login to Answer"})]})]})]}),t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Question Stats"}),t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Asked"}),t.jsx("span",{className:"font-medium",children:q(n.created_at)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Last Activity"}),t.jsx("span",{className:"font-medium",children:q(n.updated_at)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Views"}),t.jsx("span",{className:"font-medium",children:"127"})]})]})]})})]}),s==="create"&&t.jsx("div",{className:"max-w-4xl mx-auto",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Ask a Question"}),t.jsxs("form",{onSubmit:k,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:["Question Title ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",id:"title",value:c.title,onChange:R=>d(B=>({...B,title:R.target.value})),placeholder:"What specific problem are you trying to solve?",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",maxLength:200}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[c.title.length,"/200 characters"]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{id:"category",value:c.category,onChange:R=>d(B=>({...B,category:R.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"",children:"Select a category"}),ex.map(R=>t.jsx("option",{value:R,children:R},R))]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-2",children:["Question Details ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{id:"content",value:c.content,onChange:R=>d(B=>({...B,content:R.target.value})),placeholder:"Provide detailed information about your question. Include context, what you've tried, and specific requirements...",rows:8,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:c.tags.map(R=>t.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm",children:[t.jsx(Nr,{className:"w-3 h-3"}),R,t.jsx("button",{type:"button",onClick:()=>T(R),className:"ml-1 text-blue-500 hover:text-blue-700",children:t.jsx(ua,{className:"w-3 h-3"})})]},R))}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:x,onChange:R=>j(R.target.value),onKeyPress:R=>R.key==="Enter"&&(R.preventDefault(),L()),placeholder:"Add relevant tags (press Enter to add)",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("button",{type:"button",onClick:L,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Add Tag"})]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Suggested: ",I5.slice(0,6).join(", ")]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:()=>r("list"),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Post Question"})]})]})]})})]})]})})},z5=()=>{const e=W(C=>C.authentication_state.current_user),s=W(C=>C.authentication_state.auth_token),r=W(C=>C.authentication_state.authentication_status.is_authenticated),[n,a]=u.useState("help"),[i,l]=u.useState(""),[o,c]=u.useState("all"),[d,m]=u.useState({subject:"",message:"",priority:"normal",category:"general",email:(e==null?void 0:e.email)||"",attachments:[]}),[f,x]=u.useState(""),[j,y]=u.useState(!1),b=Xe(),w=async(C,S)=>{await new Promise(M=>setTimeout(M,500));const z=[{id:"getting_started",name:"Getting Started",description:"Basic setup and onboarding guides",icon:"",article_count:12,user_type:"all"},{id:"account_management",name:"Account Management",description:"Profile, settings, and account security",icon:"",article_count:8,user_type:"all"},{id:"bom_builder",name:"BOM Builder",description:"Creating and managing bill of materials",icon:"",article_count:15,user_type:"buyer"},{id:"shop_management",name:"Shop Management",description:"Inventory, pricing, and shop settings",icon:"",article_count:20,user_type:"seller"},{id:"rfq_system",name:"RFQ System",description:"Request for quotes and communication",icon:"",article_count:10,user_type:"all"},{id:"troubleshooting",name:"Troubleshooting",description:"Common issues and solutions",icon:"",article_count:18,user_type:"all"}];let N=[{id:"art_001",title:"How to Create Your First BOM",content:"Step-by-step guide to creating your first Bill of Materials project...",category:"bom_builder",tags:["bom","tutorial","beginner"],user_type:"buyer",featured:!0,helpful_votes:45,total_votes:50,created_at:"2023-12-01T10:00:00Z",updated_at:"2023-12-15T10:00:00Z"},{id:"art_002",title:"Setting Up Your Shop Profile",content:"Complete guide to setting up your shop profile and verification...",category:"shop_management",tags:["shop","setup","verification"],user_type:"seller",featured:!0,helpful_votes:38,total_votes:42,created_at:"2023-12-02T10:00:00Z",updated_at:"2023-12-16T10:00:00Z"},{id:"art_003",title:"Understanding Price Comparison",content:"Learn how to effectively compare prices across different shops...",category:"getting_started",tags:["prices","comparison","shopping"],user_type:"all",featured:!0,helpful_votes:52,total_votes:55,created_at:"2023-12-03T10:00:00Z",updated_at:"2023-12-17T10:00:00Z"},{id:"art_004",title:"Password Reset and Account Recovery",content:"Steps to recover your account if you forgot your password...",category:"account_management",tags:["password","recovery","security"],user_type:"all",featured:!1,helpful_votes:23,total_votes:28,created_at:"2023-12-04T10:00:00Z",updated_at:"2023-12-18T10:00:00Z"},{id:"art_005",title:"Using the RFQ System Effectively",content:"Best practices for creating and managing request for quotes...",category:"rfq_system",tags:["rfq","communication","quotes"],user_type:"all",featured:!1,helpful_votes:31,total_votes:35,created_at:"2023-12-05T10:00:00Z",updated_at:"2023-12-19T10:00:00Z"}];C&&(N=N.filter(M=>M.title.toLowerCase().includes(C.toLowerCase())||M.content.toLowerCase().includes(C.toLowerCase())||M.tags.some(Q=>Q.toLowerCase().includes(C.toLowerCase())))),S&&S!=="all"&&(N=N.filter(M=>M.category===S)),e&&(N=N.filter(M=>M.user_type==="all"||M.user_type===e.user_type));const A=N.filter(M=>M.featured);return{articles:N,categories:z,featured_articles:A}},g=async()=>{await new Promise(O=>setTimeout(O,300));const C=[{id:"faq_001",question:"How do I create an account?",answer:'Click the "Sign Up" button in the top right corner and follow the registration process. You can choose between a buyer or seller account type.',category:"Account",helpful_votes:89,total_votes:95,popular:!0},{id:"faq_002",question:"What is the difference between buyer and seller accounts?",answer:"Buyer accounts can create BOMs, compare prices, and send RFQs. Seller accounts can manage shop inventory, respond to RFQs, and update pricing.",category:"Account",helpful_votes:76,total_votes:82,popular:!0},{id:"faq_003",question:"How do I add items to my BOM?",answer:'Search for products, click "Add to BOM" on product cards, or use the barcode scanner to quickly add items to your current project.',category:"BOM",helpful_votes:65,total_votes:70,popular:!0},{id:"faq_004",question:"Can I compare prices across multiple shops?",answer:"Yes! Use the comparison feature to view prices from different shops side-by-side. You can also see which combination of shops offers the best total price.",category:"Shopping",helpful_votes:58,total_votes:63,popular:!0},{id:"faq_005",question:"How do I update my shop inventory?",answer:"Go to Shop Dashboard > Inventory Manager. You can add new products, update stock levels, and modify pricing from this interface.",category:"Shop Management",helpful_votes:42,total_votes:48,popular:!1},{id:"faq_006",question:"What payment methods are accepted?",answer:"We support various payment methods including credit cards, bank transfers, and cash payments. Payment is handled directly between buyers and sellers.",category:"Payments",helpful_votes:38,total_votes:44,popular:!1}],S=[...new Set(C.map(O=>O.category))],z=C.filter(O=>O.popular);return{categories:S,questions:C,popular_questions:z}},h=async()=>{if(!s)throw new Error("Authentication required");await new Promise(O=>setTimeout(O,400));const C=[{id:"ticket_001",subject:"Cannot upload inventory photos",message:"Having trouble uploading product photos to my inventory. The upload seems to fail after selecting the files.",status:"in_progress",priority:"normal",category:"technical",created_at:"2023-12-20T09:30:00Z",updated_at:"2023-12-21T14:20:00Z",last_response_at:"2023-12-21T14:20:00Z"},{id:"ticket_002",subject:"Question about pricing strategy",message:"What are the best practices for competitive pricing in the Dubai market?",status:"resolved",priority:"low",category:"business",created_at:"2023-12-18T16:45:00Z",updated_at:"2023-12-19T11:30:00Z",last_response_at:"2023-12-19T11:30:00Z"}],S=C.filter(O=>["open","in_progress"].includes(O.status)).length,z=C.filter(O=>["resolved","closed"].includes(O.status)).length;return{tickets:C,active_count:S,resolved_count:z}},{data:p,isLoading:k}=ce({queryKey:["help-articles",i,o],queryFn:()=>w(i,o),staleTime:5*60*1e3}),{data:E,isLoading:I}=ce({queryKey:["faq-data"],queryFn:g,staleTime:10*60*1e3}),{data:_,isLoading:L}=ce({queryKey:["support-tickets"],queryFn:h,enabled:r,staleTime:2*60*1e3}),T=xe({mutationFn:async C=>{if(!s)throw new Error("Authentication required");return await new Promise(z=>setTimeout(z,1e3)),{id:`ticket_${Date.now()}`,subject:C.subject,message:C.message,status:"open",priority:C.priority,category:C.category,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),last_response_at:null}},onSuccess:()=>{b.invalidateQueries({queryKey:["support-tickets"]}),m({subject:"",message:"",priority:"normal",category:"general",email:(e==null?void 0:e.email)||"",attachments:[]}),a("tickets")}}),q=xe({mutationFn:async({helpful:C})=>(await new Promise(S=>setTimeout(S,300)),{success:!0,helpful:C}),onSuccess:()=>{b.invalidateQueries({queryKey:["help-articles"]})}}),D=C=>{C.preventDefault()},R=C=>{if(C.preventDefault(),!r){alert("Please sign in to submit a support ticket");return}T.mutate({subject:d.subject,message:d.message,priority:d.priority,category:d.category})},B=(C,S)=>{q.mutate({articleId:C,helpful:S})},G=()=>{l(""),c("all")},U=[{id:"vid_001",title:"Getting Started with ConstructHub",duration:"5:30",thumbnail:"",category:"Beginner"},{id:"vid_002",title:"Creating Your First BOM",duration:"8:45",thumbnail:"",category:"BOM Builder"},{id:"vid_003",title:"Shop Setup and Verification",duration:"6:20",thumbnail:"",category:"Shop Management"},{id:"vid_004",title:"Using the Price Comparison Tool",duration:"4:15",thumbnail:"",category:"Shopping"}],P=[{name:"Email Support",value:"support@constructhub.com",icon:"",description:"General inquiries and support requests",response_time:"24 hours"},{name:"Technical Support",value:"tech@constructhub.com",icon:"",description:"Technical issues and bug reports",response_time:"12 hours"},{name:"Sales Inquiries",value:"sales@constructhub.com",icon:"",description:"Business partnerships and sales",response_time:"8 hours"},{name:"Phone Support",value:"+971 4 123 4567",icon:"",description:"Urgent support (Business hours)",response_time:"Immediate"}];return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[t.jsx("div",{className:"bg-white shadow-lg border-b border-gray-200",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Help & Support Center"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Find answers, get help, and learn how to make the most of ConstructHub"})]}),t.jsx("div",{className:"mt-8 max-w-2xl mx-auto",children:t.jsx("form",{onSubmit:D,className:"relative",children:t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:t.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),t.jsx("input",{type:"text",placeholder:"Search help articles, FAQs, tutorials...",value:i,onChange:C=>l(C.target.value),className:"block w-full pl-10 pr-12 py-4 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 text-lg transition-all duration-200"}),i&&t.jsx("button",{type:"button",onClick:G,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:t.jsx("svg",{className:"h-5 w-5 text-gray-400 hover:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})})]})}),t.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsx("nav",{className:"flex space-x-8","aria-label":"Tabs",children:[{id:"help",label:"Help Articles",icon:""},{id:"faq",label:"FAQ",icon:""},{id:"tickets",label:"Support Tickets",icon:"",auth:!0},{id:"chat",label:"Live Chat",icon:"",auth:!0},{id:"contact",label:"Contact Us",icon:""}].map(C=>t.jsxs("button",{onClick:()=>a(C.id),disabled:C.auth&&!r,className:`py-4 px-1 border-b-2 font-medium text-sm transition-all duration-200 ${n===C.id?"border-blue-500 text-blue-600":C.auth&&!r?"border-transparent text-gray-400 cursor-not-allowed":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[t.jsx("span",{className:"mr-2",children:C.icon}),C.label,C.auth&&!r&&t.jsx("span",{className:"ml-1 text-xs text-gray-400",children:"(Sign in required)"})]},C.id))})})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n==="help"&&t.jsxs("div",{className:"space-y-8",children:[(p==null?void 0:p.featured_articles)&&p.featured_articles.length>0&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Featured Articles"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.featured_articles.map(C=>{var S,z;return t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-200",children:t.jsxs("div",{className:"p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2",children:C.title}),t.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:C.content}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:((z=(S=p.categories)==null?void 0:S.find(O=>O.id===C.category))==null?void 0:z.name)||C.category}),C.user_type!=="all"&&t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${C.user_type==="buyer"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:C.user_type})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("button",{onClick:()=>B(C.id,!0),className:"text-green-600 hover:text-green-700 text-sm font-medium transition-colors",children:[" ",C.helpful_votes]}),t.jsxs("button",{onClick:()=>B(C.id,!1),className:"text-red-600 hover:text-red-700 text-sm font-medium transition-colors",children:[" ",C.total_votes-C.helpful_votes]})]})]})]})},C.id)})})]}),(p==null?void 0:p.categories)&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Browse by Category"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.categories.filter(C=>!e||C.user_type==="all"||C.user_type===e.user_type).map(C=>t.jsxs("button",{onClick:()=>c(C.id),className:`p-6 rounded-xl border-2 text-left transition-all duration-200 ${o===C.id?"border-blue-500 bg-blue-50 shadow-lg":"border-gray-200 bg-white hover:border-gray-300 hover:shadow-md"}`,children:[t.jsx("div",{className:"text-3xl mb-3",children:C.icon}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:C.name}),t.jsx("p",{className:"text-gray-600 text-sm mb-3",children:C.description}),t.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[C.article_count," articles"]})]},C.id))})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Video Tutorials"}),t.jsx("button",{onClick:()=>y(!j),className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:j?"Hide Videos":"Show All Videos"})]}),j&&t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:U.map(C=>t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-200 cursor-pointer",children:[t.jsx("div",{className:"aspect-video bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:t.jsx("div",{className:"text-6xl text-white",children:C.thumbnail})}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:C.title}),t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[t.jsx("span",{children:C.duration}),t.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:C.category})]})]})]},C.id))})]}),i&&(p==null?void 0:p.articles)&&t.jsxs("div",{children:[t.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:['Search Results for "',i,'" (',p.articles.length," found)"]}),t.jsx("div",{className:"space-y-4",children:p.articles.map(C=>t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-200",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:C.title}),t.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:C.content}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center space-x-2",children:C.tags.map(S=>t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:S},S))}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("button",{onClick:()=>B(C.id,!0),className:"text-green-600 hover:text-green-700 text-sm font-medium transition-colors",children:[" ",C.helpful_votes]}),t.jsxs("button",{onClick:()=>B(C.id,!1),className:"text-red-600 hover:text-red-700 text-sm font-medium transition-colors",children:[" ",C.total_votes-C.helpful_votes]})]})]})]},C.id))})]}),k&&t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})]}),n==="faq"&&t.jsxs("div",{className:"space-y-8",children:[(E==null?void 0:E.popular_questions)&&E.popular_questions.length>0&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Most Popular Questions"}),t.jsx("div",{className:"space-y-4",children:E.popular_questions.map(C=>t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:t.jsxs("details",{className:"group",children:[t.jsxs("summary",{className:"flex cursor-pointer items-center justify-between p-6 hover:bg-gray-50 transition-colors",children:[t.jsx("h3",{className:"font-semibold text-gray-900 pr-4",children:C.question}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:C.category}),t.jsx("svg",{className:"h-5 w-5 text-gray-400 group-open:rotate-180 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),t.jsxs("div",{className:"px-6 pb-6",children:[t.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:C.answer}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-sm text-gray-500",children:"Was this helpful?"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("button",{className:"text-green-600 hover:text-green-700 text-sm font-medium transition-colors",children:[" ",C.helpful_votes]}),t.jsxs("button",{className:"text-red-600 hover:text-red-700 text-sm font-medium transition-colors",children:[" ",C.total_votes-C.helpful_votes]})]})]})]})]})},C.id))})]}),(E==null?void 0:E.categories)&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Browse FAQ by Category"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.categories.map(C=>{const S=E.questions.filter(z=>z.category===C);return t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:C}),t.jsx("div",{className:"space-y-3",children:S.slice(0,3).map(z=>t.jsxs("details",{className:"group",children:[t.jsx("summary",{className:"cursor-pointer text-sm text-gray-700 hover:text-gray-900 transition-colors",children:z.question}),t.jsx("p",{className:"mt-2 text-sm text-gray-600 pl-4",children:z.answer})]},z.id))}),S.length>3&&t.jsxs("p",{className:"mt-4 text-sm text-blue-600 font-medium",children:["+",S.length-3," more questions"]})]},C)})})]}),I&&t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})]}),n==="tickets"&&t.jsx("div",{className:"space-y-8",children:r?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 text-center",children:[t.jsx("div",{className:"text-3xl text-orange-500 mb-2",children:""}),t.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(_==null?void 0:_.active_count)||0}),t.jsx("div",{className:"text-gray-600",children:"Active Tickets"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 text-center",children:[t.jsx("div",{className:"text-3xl text-green-500 mb-2",children:""}),t.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(_==null?void 0:_.resolved_count)||0}),t.jsx("div",{className:"text-gray-600",children:"Resolved"})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 text-center",children:[t.jsx("div",{className:"text-3xl text-blue-500 mb-2",children:""}),t.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(_==null?void 0:_.tickets.length)||0}),t.jsx("div",{className:"text-gray-600",children:"Total Tickets"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Create New Support Ticket"}),t.jsxs("form",{onSubmit:R,className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),t.jsxs("select",{id:"category",value:d.category,onChange:C=>m(S=>({...S,category:C.target.value})),className:"block w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[t.jsx("option",{value:"general",children:"General Support"}),t.jsx("option",{value:"technical",children:"Technical Issue"}),t.jsx("option",{value:"account",children:"Account Management"}),t.jsx("option",{value:"billing",children:"Billing & Payments"}),t.jsx("option",{value:"business",children:"Business Inquiry"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),t.jsxs("select",{id:"priority",value:d.priority,onChange:C=>m(S=>({...S,priority:C.target.value})),className:"block w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"normal",children:"Normal"}),t.jsx("option",{value:"high",children:"High"}),t.jsx("option",{value:"urgent",children:"Urgent"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),t.jsx("input",{type:"text",id:"subject",value:d.subject,onChange:C=>m(S=>({...S,subject:C.target.value})),required:!0,className:"block w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",placeholder:"Brief description of your issue"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),t.jsx("textarea",{id:"message",rows:5,value:d.message,onChange:C=>m(S=>({...S,message:C.target.value})),required:!0,className:"block w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",placeholder:"Describe your issue in detail..."})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{type:"submit",disabled:T.isPending,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:T.isPending?t.jsxs("span",{className:"flex items-center",children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Ticket..."]}):"Create Ticket"})})]})]}),(_==null?void 0:_.tickets)&&_.tickets.length>0&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Your Support Tickets"}),t.jsx("div",{className:"space-y-4",children:_.tickets.map(C=>t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:C.subject}),t.jsx("p",{className:"text-gray-600 text-sm",children:C.message})]}),t.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${C.status==="open"?"bg-yellow-100 text-yellow-800":C.status==="in_progress"?"bg-blue-100 text-blue-800":C.status==="resolved"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:C.status.replace("_"," ").toUpperCase()}),t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${C.priority==="low"?"bg-gray-100 text-gray-800":C.priority==="normal"?"bg-blue-100 text-blue-800":C.priority==="high"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:C.priority.toUpperCase()})]})]}),t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[t.jsxs("span",{children:["Created: ",new Date(C.created_at).toLocaleDateString()]}),t.jsxs("span",{children:["Last updated: ",new Date(C.updated_at).toLocaleDateString()]})]})]},C.id))})]}),L&&t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})]}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-6xl mb-4",children:""}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Sign In Required"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Please sign in to access your support tickets"}),t.jsx(Z,{to:"/login",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 transition-all duration-200",children:"Sign In"})]})}),n==="chat"&&t.jsx("div",{className:"space-y-8",children:r?t.jsx("div",{className:"max-w-4xl mx-auto",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[t.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 px-6 py-4",children:[t.jsx("h2",{className:"text-xl font-bold text-white",children:"Live Chat Support"}),t.jsx("p",{className:"text-blue-100",children:"Get instant help from our support team"})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[t.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full animate-pulse"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-green-800",children:"Support agents are online"}),t.jsx("p",{className:"text-sm text-green-600",children:"Average response time: 2-3 minutes"})]})]})}),t.jsx("div",{className:"h-96 border-2 border-gray-200 rounded-lg p-4 mb-4 overflow-y-auto bg-gray-50",children:t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:"h-8 w-8 bg-blue-500 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white text-sm font-medium",children:"CS"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm",children:t.jsx("p",{className:"text-sm text-gray-900",children:"Hello! Welcome to ConstructHub support. How can I help you today?"})}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Customer Support  Just now"})]})]})})}),t.jsxs("div",{className:"flex space-x-4",children:[t.jsx("input",{type:"text",value:f,onChange:C=>x(C.target.value),placeholder:"Type your message...",className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",onKeyPress:C=>{C.key==="Enter"&&x("")}}),t.jsx("button",{onClick:()=>x(""),className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:"Send"})]}),t.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-500",children:[t.jsx("span",{children:"Chat is encrypted and secure"}),t.jsx("span",{children:"Powered by ConstructHub Support"})]})]})]})}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-6xl mb-4",children:""}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Sign In Required"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Please sign in to start a live chat session"}),t.jsx(Z,{to:"/login",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 transition-all duration-200",children:"Sign In"})]})}),n==="contact"&&t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Get in Touch"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Choose the best way to reach us. We're here to help!"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:P.map(C=>t.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"text-3xl",children:C.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:C.name}),t.jsx("p",{className:"text-gray-600 text-sm mb-3",children:C.description}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"font-medium text-blue-600",children:C.value}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Response time: ",C.response_time]})]})]})]})},C.name))}),t.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Business Hours"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Customer Support"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Monday - Friday"}),t.jsx("span",{children:"8:00 AM - 8:00 PM"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Saturday"}),t.jsx("span",{children:"9:00 AM - 5:00 PM"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Sunday"}),t.jsx("span",{children:"Closed"})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Technical Support"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Monday - Friday"}),t.jsx("span",{children:"24/7"})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:"Weekend"}),t.jsx("span",{children:"Emergency only"})]})]})]})]})]}),t.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-8 text-white text-center",children:[t.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Need Immediate Help?"}),t.jsx("p",{className:"text-blue-100 mb-6",children:"For urgent technical issues or critical business matters, contact our emergency support line"}),t.jsxs("div",{className:"flex items-center justify-center space-x-8",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:"Emergency Hotline"}),t.jsx("p",{className:"text-xl",children:"+971 4 999 8888"})]}),t.jsx("div",{className:"text-4xl",children:""})]})]})]})]})]})})},D5=()=>{const e=W(g=>g.authentication_state.current_user),s=W(g=>g.authentication_state.auth_token),r=W(g=>g.authentication_state.authentication_status.is_authenticated),[n,a]=u.useState("terms"),[i,l]=u.useState({terms_accepted:!1,terms_accepted_date:null,privacy_accepted:!1,privacy_accepted_date:null,marketing_consent:!1,cookie_preferences:{}}),o=Xe(),c={terms:{content:"Terms of Service content",version:"2.1",effective_date:"2023-12-15",last_updated:"2023-12-15"},privacy:{content:"Privacy Policy content",version:"2.1",effective_date:"2023-12-15",last_updated:"2023-12-15"},gdpr:{content:"GDPR Policy content",version:"1.0",effective_date:"2023-12-15",last_updated:"2023-12-15"}},d=[{id:"essential",name:"Essential Cookies",description:"Required for basic platform functionality and security",required:!0,enabled:!0},{id:"performance",name:"Performance Cookies",description:"Help us analyze and improve platform performance",required:!1,enabled:!0},{id:"functional",name:"Functional Cookies",description:"Enable enhanced features and personalization",required:!1,enabled:!0},{id:"marketing",name:"Marketing Cookies",description:"Used for targeted advertising and recommendations",required:!1,enabled:!1}],m=[{version:"2.1",date:"2023-12-15",changes:["Updated dispute resolution procedures","Enhanced data protection clauses","Clarified shop owner responsibilities"]},{version:"2.0",date:"2023-10-01",changes:["Major update for GDPR compliance","Added cookie policy section","Updated liability limitations"]},{version:"1.9",date:"2023-07-15",changes:["Minor clarifications in terms","Updated contact information","Fixed formatting issues"]}];u.useEffect(()=>{e!=null&&e.preferences&&l({terms_accepted:e.preferences.terms_accepted||!1,terms_accepted_date:e.preferences.terms_accepted_date||null,privacy_accepted:e.preferences.privacy_accepted||!1,privacy_accepted_date:e.preferences.privacy_accepted_date||null,marketing_consent:e.preferences.marketing_consent||!1,cookie_preferences:e.preferences.cookie_preferences||{}})},[e]);const f=xe({mutationFn:async g=>{var p,k;if(!e||!s)throw new Error("Authentication required");return(await Y.put(`https://123construction-shop-finder.launchpulse.ai/api/users/${e.id}`,{preferences:{...e.preferences,...g,terms_accepted_date:g.terms_accepted?new Date().toISOString():(p=e.preferences)==null?void 0:p.terms_accepted_date,privacy_accepted_date:g.privacy_accepted?new Date().toISOString():(k=e.preferences)==null?void 0:k.privacy_accepted_date}},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data},onSuccess:g=>{o.invalidateQueries({queryKey:["current-user"]}),g.preferences&&l({terms_accepted:g.preferences.terms_accepted||!1,terms_accepted_date:g.preferences.terms_accepted_date||null,privacy_accepted:g.preferences.privacy_accepted||!1,privacy_accepted_date:g.preferences.privacy_accepted_date||null,marketing_consent:g.preferences.marketing_consent||!1,cookie_preferences:g.preferences.cookie_preferences||{}})}}),x=(g,h)=>{if(!r)return;const p={};p[`${g}_accepted`]=h,f.mutate(p)},j=(g,h)=>{if(!r)return;const p={...i.cookie_preferences,[g]:h};f.mutate({cookie_preferences:p})},y=g=>{var I;const h=((I=c[g])==null?void 0:I.content)||"",p=new Blob([h],{type:"text/plain"}),k=URL.createObjectURL(p),E=document.createElement("a");E.href=k,E.download=`constructhub-${g}-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(k)},b=[{id:"terms",name:"Terms of Service",icon:Nh},{id:"privacy",name:"Privacy Policy",icon:na},{id:"cookies",name:"Cookie Policy",icon:Hw},{id:"community",name:"Community Guidelines",icon:Fi}],w=c[n];return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[t.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"py-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Legal Documentation"}),t.jsx("p",{className:"mt-2 text-gray-600",children:"Terms, policies, and guidelines for ConstructHub platform"})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm text-gray-500",children:"Last Updated"}),t.jsx("p",{className:"font-semibold text-gray-900",children:w==null?void 0:w.last_updated})]}),t.jsxs("button",{onClick:()=>y(n),className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[t.jsx(Bo,{size:18}),t.jsx("span",{children:"Download"})]})]})]})})})}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 sticky top-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documents"}),t.jsx("nav",{className:"space-y-2",children:b.map(g=>{const h=g.icon;return t.jsxs("button",{onClick:()=>a(g.id),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${n===g.id?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[t.jsx(h,{size:18}),t.jsx("span",{children:g.name})]},g.id)})}),t.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Current Version"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[t.jsx(Bg,{size:14,className:"text-gray-400"}),t.jsxs("span",{className:"text-gray-600",children:["v",w==null?void 0:w.version]})]}),t.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[t.jsx(vh,{size:14,className:"text-gray-400"}),t.jsx("span",{className:"text-gray-600",children:w==null?void 0:w.effective_date})]})]})]}),t.jsx("div",{className:"mt-6",children:t.jsxs("button",{onClick:()=>a("versions"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center space-x-1",children:[t.jsx(ra,{size:14}),t.jsx("span",{children:"View Version History"})]})})]})}),t.jsx("div",{className:"lg:col-span-3",children:t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:n==="versions"?t.jsxs("div",{className:"p-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Version History"}),t.jsx("div",{className:"space-y-6",children:m.map((g,h)=>t.jsxs("div",{className:"border-l-4 border-blue-200 pl-6 py-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Version ",g.version,h===0&&t.jsx("span",{className:"ml-2 bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full",children:"Current"})]}),t.jsx("span",{className:"text-sm text-gray-500",children:g.date})]}),t.jsx("ul",{className:"space-y-1",children:g.changes.map((p,k)=>t.jsxs("li",{className:"text-gray-600 flex items-start space-x-2",children:[t.jsx("span",{className:"text-blue-500 mt-1",children:""}),t.jsx("span",{children:p})]},k))})]},g.version))})]}):n==="cookies"?t.jsxs("div",{className:"p-8",children:[t.jsx("div",{className:"prose max-w-none",children:t.jsx("div",{className:"space-y-6 leading-relaxed",dangerouslySetInnerHTML:{__html:w==null?void 0:w.content.replace(/\n/g,"<br>").replace(/^# /gm,'<h1 class="text-2xl font-bold text-gray-900 mt-8 mb-4">').replace(/^## /gm,'<h2 class="text-xl font-semibold text-gray-900 mt-6 mb-3">').replace(/^### /gm,'<h3 class="text-lg font-medium text-gray-900 mt-4 mb-2">')}})}),r&&t.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Cookie Preferences"}),t.jsx("div",{className:"space-y-6",children:d.map(g=>t.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:g.name}),t.jsx("p",{className:"text-gray-600 text-sm",children:g.description}),g.required&&t.jsx("span",{className:"inline-block mt-2 bg-gray-200 text-gray-700 text-xs font-medium px-2 py-1 rounded",children:"Required"})]}),t.jsx("div",{className:"ml-6",children:t.jsx("button",{onClick:()=>!g.required&&j(g.id,!g.enabled),disabled:g.required||f.isPending,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${g.enabled?"bg-blue-600":"bg-gray-200"} ${g.required?"opacity-50 cursor-not-allowed":"cursor-pointer hover:bg-opacity-80"}`,children:t.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${g.enabled?"translate-x-6":"translate-x-1"}`})})})]})},g.id))})]})]}):t.jsxs("div",{className:"p-8",children:[t.jsx("div",{className:"prose max-w-none",children:t.jsx("div",{className:"space-y-6 leading-relaxed",dangerouslySetInnerHTML:{__html:w==null?void 0:w.content.replace(/\n/g,"<br>").replace(/^# /gm,'<h1 class="text-2xl font-bold text-gray-900 mt-8 mb-4">').replace(/^## /gm,'<h2 class="text-xl font-semibold text-gray-900 mt-6 mb-3">').replace(/^### /gm,'<h3 class="text-lg font-medium text-gray-900 mt-4 mb-2">')}})}),r&&(n==="terms"||n==="privacy")&&t.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:t.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:n==="terms"?"Terms Acceptance":"Privacy Consent"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-700 mb-2",children:n==="terms"?"I have read and agree to the Terms of Service":"I have read and agree to the Privacy Policy"}),(n==="terms"?i.terms_accepted_date:i.privacy_accepted_date)&&t.jsxs("p",{className:"text-sm text-gray-500",children:["Accepted on: ",new Date(n==="terms"?i.terms_accepted_date:i.privacy_accepted_date).toLocaleDateString()]})]}),t.jsx("div",{className:"flex items-center space-x-4",children:t.jsxs("button",{onClick:()=>x(n,!0),disabled:f.isPending||(n==="terms"?i.terms_accepted:i.privacy_accepted),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2 ${n==="terms"?i.terms_accepted:i.privacy_accepted?"bg-green-100 text-green-800 cursor-default":"bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50"}`,children:[t.jsx(so,{size:18}),t.jsx("span",{children:n==="terms"?i.terms_accepted:i.privacy_accepted?"Accepted":"Accept"})]})})]})]})})]})})})]})}),t.jsx("footer",{className:"bg-white border-t border-gray-200 mt-16",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-gray-600 mb-4",children:"For questions about these terms or our policies, please contact our legal team."}),t.jsxs("div",{className:"flex justify-center space-x-6 text-sm",children:[t.jsx(Z,{to:"/help",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Contact Support"}),t.jsx("span",{className:"text-gray-300",children:"|"}),t.jsx(Z,{to:"/about",className:"text-blue-600 hover:text-blue-700 font-medium",children:"About ConstructHub"}),t.jsx("span",{className:"text-gray-300",children:"|"}),t.jsx("a",{href:"mailto:legal@constructhub.ae",className:"text-blue-600 hover:text-blue-700 font-medium",children:"legal@constructhub.ae"})]})]})})})]})})},U5=()=>{const[e,s]=at(),r=W(y=>y.authentication_state.auth_token),n=W(y=>y.app_preferences.language),[a,i]=u.useState(e.get("section")||null),[l,o]=u.useState(e.get("lang")||n||"en"),c=xe({mutationFn:async y=>(await Y.post("https://123construction-shop-finder.launchpulse.ai/api/analytics/events",{user_id:null,session_id:null,event_type:y.event_type,event_data:y.event_data,page_url:y.page_url},{headers:r?{Authorization:`Bearer ${r}`}:{}})).data});u.useEffect(()=>{(()=>{c.mutate({event_type:"privacy_policy_viewed",event_data:{section:a,language:l,timestamp:Date.now()},page_url:window.location.href})})()},[a,l,c]);const d=y=>{i(y);const b=new URLSearchParams(e);y?b.set("section",y):b.delete("section"),s(b),y?setTimeout(()=>{const w=document.getElementById(y);w&&w.scrollIntoView({behavior:"smooth"})},100):window.scrollTo({top:0,behavior:"smooth"})},m=y=>{o(y);const b=new URLSearchParams(e);b.set("lang",y),s(b)},f=()=>{alert(l==="ar"?"  PDF     ":"PDF download feature is under development and will be available soon")},x=l==="ar",j=[{id:"data-collection",title:x?" ":"Data Collection",icon:t.jsx(cn,{className:"w-5 h-5"})},{id:"data-usage",title:x?" ":"Data Usage",icon:t.jsx(Fi,{className:"w-5 h-5"})},{id:"user-rights",title:x?" ":"User Rights",icon:t.jsx(Nh,{className:"w-5 h-5"})},{id:"security",title:x?"":"Security",icon:t.jsx(Za,{className:"w-5 h-5"})}];return t.jsx(t.Fragment,{children:t.jsxs("div",{className:`min-h-screen bg-gray-50 ${x?"rtl":"ltr"}`,children:[t.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"py-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[t.jsx(na,{className:"w-8 h-8 text-blue-600"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:x?" ":"Privacy Policy"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x?" :  2023":"Last updated: December 2023"})]})]}),t.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[t.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[t.jsx("button",{onClick:()=>m("en"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${l==="en"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"EN"}),t.jsx("button",{onClick:()=>m("ar"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${l==="ar"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:""})]}),t.jsxs("button",{onClick:f,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[t.jsx(Bo,{className:"w-4 h-4 mr-2 rtl:mr-0 rtl:ml-2"}),x?" PDF":"Download PDF"]})]})]})})})}),t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 sticky top-8",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:x?"":"Contents"}),t.jsxs("nav",{className:"space-y-2",children:[t.jsx("button",{onClick:()=>d(null),className:`w-full text-left px-3 py-2 text-sm rounded-lg transition-colors ${a?"text-gray-600 hover:text-gray-900 hover:bg-gray-50":"bg-blue-50 text-blue-700 font-medium"}`,children:x?" ":"Overview"}),j.map(y=>t.jsxs("button",{onClick:()=>d(y.id),className:`w-full flex items-center px-3 py-2 text-sm rounded-lg transition-colors ${a===y.id?"bg-blue-50 text-blue-700 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[y.icon,t.jsx("span",{className:"ml-3 rtl:ml-0 rtl:mr-3",children:y.title})]},y.id))]})]})}),t.jsx("div",{className:"lg:col-span-3",children:t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:t.jsxs("div",{className:"p-6 lg:p-8",children:[!a&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:x?"   ":"Privacy Overview"}),t.jsx("p",{className:"text-gray-700 leading-relaxed",children:x?" ConstructHub     .                .":"At ConstructHub, we are committed to protecting your privacy and personal data. This privacy policy explains how we collect, use, protect, and share your information when you use our construction materials and procurement platform."})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:j.map(y=>t.jsx("button",{onClick:()=>d(y.id),className:"p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors text-left",children:t.jsxs("div",{className:"flex items-center mb-2",children:[y.icon,t.jsx("h3",{className:"ml-3 rtl:ml-0 rtl:mr-3 font-semibold text-gray-900",children:y.title}),t.jsx(jh,{className:`w-4 h-4 text-gray-400 ml-auto rtl:ml-0 rtl:mr-auto ${x?"rotate-180":""}`})]})},y.id))})]}),a==="data-collection"&&t.jsxs("div",{id:"data-collection",className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:x?" ":"Data Collection"}),t.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:x?"       :":"We collect various types of information to provide and improve our services:"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:x?" ":"Personal Information"}),t.jsxs("ul",{className:"text-blue-800 text-sm space-y-1",children:[t.jsxs("li",{children:[" ",x?"   ":"Name and email address"]}),t.jsxs("li",{children:[" ",x?"  ":"Phone number and address"]}),t.jsxs("li",{children:[" ",x?"  ()":"Company information (for businesses)"]}),t.jsxs("li",{children:[" ",x?" ":"Location preferences"]})]})]}),t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:x?" ":"Automatic Data Collection"}),t.jsxs("ul",{className:"text-green-800 text-sm space-y-1",children:[t.jsxs("li",{children:[" ",x?"    ":"Cookies and tracking technologies"]}),t.jsxs("li",{children:[" ",x?"  ":"Device and browser information"]}),t.jsxs("li",{children:[" ",x?" IP  ":"IP addresses and usage data"]}),t.jsxs("li",{children:[" ",x?"  ":"Geographic location information"]})]})]}),t.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-purple-900 mb-2",children:x?"   ":"User-Provided Information"}),t.jsxs("ul",{className:"text-purple-800 text-sm space-y-1",children:[t.jsxs("li",{children:[" ",x?"  (BOM) ":"Bill of Materials (BOM) and projects"]}),t.jsxs("li",{children:[" ",x?"   ":"RFQ requests and messages"]}),t.jsxs("li",{children:[" ",x?" ":"Reviews and ratings"]}),t.jsxs("li",{children:[" ",x?"  ":"Search preferences and alerts"]})]})]})]})]}),a==="data-usage"&&t.jsxs("div",{id:"data-usage",className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:x?" ":"Data Usage"}),t.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:x?"     :":"We use the information we collect for the following purposes:"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"border-l-4 border-blue-500 bg-blue-50 p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:x?"   ":"Service Provision & Platform Functionality"}),t.jsx("p",{className:"text-gray-700 text-sm",children:x?"     BOMs     .":"Providing search and comparison features, managing BOMs, and facilitating communication between buyers and sellers."})]}),t.jsxs("div",{className:"border-l-4 border-green-500 bg-green-50 p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:x?" ":"Personalization & Recommendations"}),t.jsx("p",{className:"text-gray-700 text-sm",children:x?"           .":"Customizing search results, providing product recommendations, and improving user experience based on preferences."})]}),t.jsxs("div",{className:"border-l-4 border-purple-500 bg-purple-50 p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:x?" ":"Marketing & Communications"}),t.jsx("p",{className:"text-gray-700 text-sm",children:x?"         ().":"Sending price alerts, inventory updates, and relevant promotional messages (with your consent)."})]}),t.jsxs("div",{className:"border-l-4 border-red-500 bg-red-50 p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:x?"  ":"Legal Compliance & Safety"}),t.jsx("p",{className:"text-gray-700 text-sm",children:x?"        .":"Complying with legal requirements, preventing fraud, and ensuring platform and user safety."})]})]})]}),a==="user-rights"&&t.jsxs("div",{id:"user-rights",className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:x?"  ":"User Rights & Controls"}),t.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:x?"        :":"You have various rights regarding your personal data and how it is used:"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:x?" ":"Access & Portability"}),t.jsx("p",{className:"text-gray-600 text-sm mb-3",children:x?"        .":"Request a copy of your personal data and export it in a readable format."}),t.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:x?" ":"Request Data"})]}),t.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:x?" ":"Correction & Deletion"}),t.jsx("p",{className:"text-gray-600 text-sm mb-3",children:x?"       .":"Update incorrect information or delete your account and data."}),t.jsx(Z,{to:"/profile",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:x?" ":"Manage Account"})]}),t.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:x?" ":"Communication Preferences"}),t.jsx("p",{className:"text-gray-600 text-sm mb-3",children:x?"      .":"Control the types of messages and alerts you receive."}),t.jsx(Z,{to:"/alerts",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:x?" ":"Manage Alerts"})]}),t.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:x?" ":"Privacy Settings"}),t.jsx("p",{className:"text-gray-600 text-sm mb-3",children:x?"    .":"Customize your privacy level and data sharing preferences."}),t.jsx(Z,{to:"/settings",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:x?" ":"Privacy Settings"})]})]})]}),a==="security"&&t.jsxs("div",{id:"security",className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:x?" ":"Security & Protection"}),t.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:x?"     :":"We implement comprehensive security measures to protect your data:"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(na,{className:"w-6 h-6 text-green-600 mr-3 rtl:mr-0 rtl:ml-3"}),t.jsx("h3",{className:"font-semibold text-green-900",children:x?"  ":"Data Protection Technologies"})]}),t.jsxs("ul",{className:"text-green-800 text-sm space-y-1",children:[t.jsxs("li",{children:[" ",x?" SSL/TLS  ":"SSL/TLS encryption for data in transit"]}),t.jsxs("li",{children:[" ",x?" AES-256  ":"AES-256 encryption for data at rest"]}),t.jsxs("li",{children:[" ",x?"    ":"Digital signatures and integrity verification"]})]})]}),t.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(Za,{className:"w-6 h-6 text-blue-600 mr-3 rtl:mr-0 rtl:ml-3"}),t.jsx("h3",{className:"font-semibold text-blue-900",children:x?"   ":"Access Control Procedures"})]}),t.jsxs("ul",{className:"text-blue-800 text-sm space-y-1",children:[t.jsxs("li",{children:[" ",x?"  ":"Multi-factor authentication"]}),t.jsxs("li",{children:[" ",x?"     ":"Role-based access control"]}),t.jsxs("li",{children:[" ",x?"   ":"Regular access reviews and auditing"]})]})]}),t.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6",children:[t.jsxs("div",{className:"flex items-center mb-3",children:[t.jsx(Ig,{className:"w-6 h-6 text-purple-600 mr-3 rtl:mr-0 rtl:ml-3"}),t.jsx("h3",{className:"font-semibold text-purple-900",children:x?"  ":"International Transfer Safeguards"})]}),t.jsxs("ul",{className:"text-purple-800 text-sm space-y-1",children:[t.jsxs("li",{children:[" ",x?"    ":"GDPR compliance measures"]}),t.jsxs("li",{children:[" ",x?"  ":"Standard contractual clauses"]}),t.jsxs("li",{children:[" ",x?"   ":"Secure data transfer certifications"]})]})]})]}),t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[t.jsx("h3",{className:"font-semibold text-red-900 mb-3",children:x?"   ":"Security Incident Reporting"}),t.jsx("p",{className:"text-red-800 text-sm mb-3",children:x?"               :":"If you suspect a security breach or privacy violation, please contact our security team immediately:"}),t.jsx("a",{href:"mailto:security@constructhub.com",className:"text-red-600 hover:text-red-700 font-medium text-sm",children:"security@constructhub.com"})]})]}),t.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:x?" ":"Contact Us"}),t.jsx("p",{className:"text-gray-700 text-sm mb-4",children:x?"            :":"If you have any questions about this privacy policy or our data practices:"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900 mb-1",children:x?" ":"Email"}),t.jsx("a",{href:"mailto:privacy@constructhub.com",className:"text-blue-600 hover:text-blue-700",children:"privacy@constructhub.com"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900 mb-1",children:x?"  ":"Data Protection Officer"}),t.jsx("a",{href:"mailto:dpo@constructhub.com",className:"text-blue-600 hover:text-blue-700",children:"dpo@constructhub.com"})]})]})]})]})})})]})})]})})},V5=()=>{const[e,s]=at(),r=W(_=>_.authentication_state.current_user),n=W(_=>_.authentication_state.auth_token),a=W(_=>_.app_preferences.language),[i,l]=u.useState(e.get("section")),[o]=u.useState(e.get("lang")||a||"en"),[c,d]=u.useState({name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",subject:"",message:"",user_type:(r==null?void 0:r.user_type)||"buyer"}),[m,f]=u.useState({}),[x,j]=u.useState(!1),[y]=u.useState(Date.now()),b=xe({mutationFn:async _=>{if(n)return Y.post("https://123construction-shop-finder.launchpulse.ai/api/analytics/events",{event_type:"about_us_viewed",event_data:_,page_url:window.location.href},{headers:{Authorization:`Bearer ${n}`}})},onError:_=>{console.warn("Failed to track page view:",_)}}),{data:w}=ce({queryKey:["company-stats"],queryFn:async()=>({total_users:15420,total_shops:3240,total_projects:8750,cost_savings_generated:456e5}),staleTime:30*60*1e3}),g=xe({mutationFn:async _=>(console.log("Submitting contact form:",_),await new Promise(L=>setTimeout(L,1e3)),{success:!0,message:"Thank you for your inquiry. We will respond within 24 hours.",inquiry_id:"inquiry_"+Date.now()}),onSuccess:()=>{j(!0),d({name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",subject:"",message:"",user_type:(r==null?void 0:r.user_type)||"buyer"}),f({})},onError:()=>{f({submit:"Failed to submit inquiry. Please try again."})}});u.useEffect(()=>{b.mutate({section:i,language:o,timestamp:y})},[i,o,y,b]);const h=_=>{l(_);const L=new URLSearchParams(e);_?L.set("section",_):L.delete("section"),s(L)},p=()=>{const _={};return c.name.trim()||(_.name="Name is required"),c.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email)||(_.email="Please enter a valid email address"):_.email="Email is required",c.subject.trim()||(_.subject="Subject is required"),c.message.trim()?c.message.trim().length<10&&(_.message="Message must be at least 10 characters long"):_.message="Message is required",f(_),Object.keys(_).length===0},k=_=>{_.preventDefault(),f({}),p()&&g.mutate(c)},E=(_,L)=>{d(T=>({...T,[_]:L})),m[_]&&f(T=>({...T,[_]:""}))},I=_=>{const L=document.getElementById(_);L&&(L.scrollIntoView({behavior:"smooth"}),h(_))};return t.jsxs(t.Fragment,{children:[t.jsx("section",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 py-20 px-4",children:t.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[t.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:["Transforming Construction",t.jsx("span",{className:"block text-blue-600",children:"Procurement"})]}),t.jsx("p",{className:"text-xl md:text-2xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:"ConstructHub is revolutionizing how construction professionals discover, compare, and procure building materials across the UAE."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[t.jsx("button",{onClick:()=>I("company-story"),className:"px-8 py-4 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-all duration-200 hover:scale-105 shadow-lg",children:"Our Story"}),t.jsx("button",{onClick:()=>I("contact"),className:"px-8 py-4 bg-white text-blue-600 rounded-lg font-semibold border-2 border-blue-600 hover:bg-blue-50 transition-all duration-200",children:"Get In Touch"})]})]})}),t.jsx("nav",{className:"bg-white shadow-lg sticky top-16 z-40",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4",children:t.jsx("div",{className:"flex justify-center overflow-x-auto py-4",children:t.jsx("div",{className:"flex space-x-8 min-w-max",children:[{id:"company-story",label:"Our Story"},{id:"platform",label:"Platform"},{id:"team",label:"Team"},{id:"impact",label:"Impact"},{id:"values",label:"Values"},{id:"contact",label:"Contact"}].map(_=>t.jsx("button",{onClick:()=>I(_.id),className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${i===_.id?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:_.label},_.id))})})})}),w&&t.jsx("section",{className:"bg-blue-600 py-16 px-4",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[t.jsxs("div",{className:"text-white",children:[t.jsxs("div",{className:"text-3xl md:text-4xl font-bold mb-2",children:[w.total_users.toLocaleString(),"+"]}),t.jsx("div",{className:"text-blue-100 font-medium",children:"Active Users"})]}),t.jsxs("div",{className:"text-white",children:[t.jsxs("div",{className:"text-3xl md:text-4xl font-bold mb-2",children:[w.total_shops.toLocaleString(),"+"]}),t.jsx("div",{className:"text-blue-100 font-medium",children:"Partner Shops"})]}),t.jsxs("div",{className:"text-white",children:[t.jsxs("div",{className:"text-3xl md:text-4xl font-bold mb-2",children:[w.total_projects.toLocaleString(),"+"]}),t.jsx("div",{className:"text-blue-100 font-medium",children:"Projects Completed"})]}),t.jsxs("div",{className:"text-white",children:[t.jsxs("div",{className:"text-3xl md:text-4xl font-bold mb-2",children:[(w.cost_savings_generated/1e6).toFixed(1),"M AED"]}),t.jsx("div",{className:"text-blue-100 font-medium",children:"Cost Savings"})]})]})})}),t.jsx("section",{id:"company-story",className:"py-20 px-4 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Our Story"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Born from the challenges faced by construction professionals in the UAE market"})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"The Problem We Solve"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Construction professionals waste countless hours calling suppliers, comparing prices manually, and managing complex procurement processes. Price transparency was limited, and finding the right materials at the best prices required extensive legwork."}),t.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Small contractors struggled to compete with larger firms who had established supplier relationships, while shop owners missed opportunities to reach new customers due to limited visibility."})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Our Solution"}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-gray-600 leading-relaxed",children:"ConstructHub democratizes construction procurement by creating a transparent, efficient marketplace where contractors can instantly compare prices, check availability, and connect with verified suppliers across the UAE."}),t.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Our platform empowers both buyers and sellers with powerful tools for project management, route optimization, and real-time communication, creating a more efficient construction ecosystem."})]})]})]})]})}),t.jsx("section",{id:"platform",className:"py-20 px-4 bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Platform Features"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Cutting-edge technology solutions designed for construction professionals"})]}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-200",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-6",children:t.jsx(Yd,{className:"w-6 h-6 text-blue-600"})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Smart Search & Discovery"}),t.jsx("p",{className:"text-gray-600 leading-relaxed",children:"AI-powered search with voice recognition, barcode scanning, and intelligent product recommendations based on your project needs."})]}),t.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-200",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-6",children:t.jsx(Dg,{className:"w-6 h-6 text-green-600"})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Price Comparison & Optimization"}),t.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Real-time price comparison across multiple suppliers with route optimization and bulk purchasing recommendations."})]}),t.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-200",children:[t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-6",children:t.jsx(Lg,{className:"w-6 h-6 text-purple-600"})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Project Management Tools"}),t.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Comprehensive BOM builder, RFQ management, and collaborative project planning with real-time updates."})]})]})]})}),t.jsx("section",{id:"team",className:"py-20 px-4 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Our Leadership Team"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Industry veterans and technology experts committed to transforming construction"})]}),t.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full mx-auto mb-6 flex items-center justify-center",children:t.jsx("span",{className:"text-white text-3xl font-bold",children:"AH"})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Ahmed Hassan"}),t.jsx("p",{className:"text-blue-600 font-medium mb-4",children:"Founder & CEO"}),t.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"15+ years in construction industry. Former procurement manager at major UAE developers. Holds MBA from AUS."})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-green-400 to-green-600 rounded-full mx-auto mb-6 flex items-center justify-center",children:t.jsx("span",{className:"text-white text-3xl font-bold",children:"SK"})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Sarah Khan"}),t.jsx("p",{className:"text-green-600 font-medium mb-4",children:"CTO & Co-founder"}),t.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Tech industry veteran with expertise in marketplace platforms. Former senior engineer at major e-commerce companies."})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full mx-auto mb-6 flex items-center justify-center",children:t.jsx("span",{className:"text-white text-3xl font-bold",children:"MR"})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Mohammed Rahman"}),t.jsx("p",{className:"text-purple-600 font-medium mb-4",children:"Head of Business Development"}),t.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Deep connections in UAE construction ecosystem. Former supplier network manager with extensive industry relationships."})]})]})]})}),t.jsx("section",{id:"impact",className:"py-20 px-4 bg-gradient-to-br from-gray-50 to-blue-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Market Impact"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Driving efficiency and transparency in the UAE construction industry"})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Success Stories"}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-white rounded-lg p-6 shadow-md",children:t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsx(Fi,{className:"w-6 h-6 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Al Mansoori Construction"}),t.jsx("p",{className:"text-gray-600 text-sm",children:`"Reduced procurement time by 60% and saved 15% on material costs using ConstructHub's optimization tools."`})]})]})}),t.jsx("div",{className:"bg-white rounded-lg p-6 shadow-md",children:t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsx(It,{className:"w-6 h-6 text-green-600"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Dubai Building Supplies"}),t.jsx("p",{className:"text-gray-600 text-sm",children:`"Increased customer reach by 200% and improved inventory turnover through ConstructHub's platform."`})]})]})})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Industry Recognition"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(jc,{className:"w-8 h-8 text-yellow-500"}),t.jsx("span",{className:"text-gray-700 font-medium",children:"Best PropTech Innovation 2023 - Dubai Chamber"})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(jc,{className:"w-8 h-8 text-yellow-500"}),t.jsx("span",{className:"text-gray-700 font-medium",children:"UAE Construction Excellence Award 2023"})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(jc,{className:"w-8 h-8 text-yellow-500"}),t.jsx("span",{className:"text-gray-700 font-medium",children:"Top 10 Construction Startups - MEED"})]})]})]})]})]})}),t.jsx("section",{id:"values",className:"py-20 px-4 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Our Values"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"The principles that guide everything we do"})]}),t.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:t.jsx(na,{className:"w-8 h-8 text-blue-600"})}),t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Transparency"}),t.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Open pricing, verified suppliers, and honest communication in every interaction."})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:t.jsx(Yd,{className:"w-8 h-8 text-green-600"})}),t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Innovation"}),t.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Continuous improvement through technology and user feedback."})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:t.jsx(qg,{className:"w-8 h-8 text-purple-600"})}),t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Customer Success"}),t.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Your success is our success. We're committed to your project outcomes."})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:t.jsx(Ig,{className:"w-8 h-8 text-yellow-600"})}),t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Sustainability"}),t.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Promoting efficient resource use and sustainable construction practices."})]})]})]})}),t.jsx("section",{id:"contact",className:"py-20 px-4 bg-gray-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Get In Touch"}),t.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Ready to transform your construction procurement? Let's talk."})]}),t.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Contact Information"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(Pt,{className:"w-6 h-6 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:"Headquarters"}),t.jsxs("p",{className:"text-gray-600",children:["Dubai Internet City",t.jsx("br",{}),"Building 3, Floor 12",t.jsx("br",{}),"Dubai, UAE"]})]})]}),t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(zg,{className:"w-6 h-6 text-green-600"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:"Phone"}),t.jsxs("p",{className:"text-gray-600",children:["+971 4 123 4567",t.jsx("br",{}),"+971 50 123 4567 (WhatsApp)"]})]})]}),t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(no,{className:"w-6 h-6 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-gray-900 mb-1",children:"Email"}),t.jsxs("p",{className:"text-gray-600",children:["hello@constructhub.ae",t.jsx("br",{}),"support@constructhub.ae"]})]})]})]}),t.jsxs("div",{className:"mt-8",children:[t.jsx("h4",{className:"font-bold text-gray-900 mb-4",children:"Business Hours"}),t.jsxs("div",{className:"text-gray-600 space-y-1",children:[t.jsx("p",{children:"Sunday - Thursday: 8:00 AM - 6:00 PM"}),t.jsx("p",{children:"Friday: 8:00 AM - 12:00 PM"}),t.jsx("p",{children:"Saturday: Closed"})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100",children:[t.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Send us a message"}),x?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:t.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),t.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-2",children:"Message Sent!"}),t.jsx("p",{className:"text-gray-600",children:"Thank you for your inquiry. We will respond within 24 hours."}),t.jsx("button",{onClick:()=>j(!1),className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Send Another Message"})]}):t.jsxs("form",{onSubmit:k,className:"space-y-6",children:[t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),t.jsx("input",{type:"text",id:"name",value:c.name,onChange:_=>E("name",_.target.value),className:`w-full px-4 py-3 rounded-lg border-2 focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all duration-200 ${m.name?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"Your full name"}),m.name&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.name})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),t.jsx("input",{type:"email",id:"email",value:c.email,onChange:_=>E("email",_.target.value),className:`w-full px-4 py-3 rounded-lg border-2 focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all duration-200 ${m.email?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"your.email@example.com"}),m.email&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.email})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"user_type",className:"block text-sm font-medium text-gray-700 mb-2",children:"I am a..."}),t.jsxs("select",{id:"user_type",value:c.user_type,onChange:_=>E("user_type",_.target.value),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all duration-200",children:[t.jsx("option",{value:"buyer",children:"Construction Professional / Contractor"}),t.jsx("option",{value:"seller",children:"Building Materials Supplier"}),t.jsx("option",{value:"other",children:"Other"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),t.jsx("input",{type:"text",id:"subject",value:c.subject,onChange:_=>E("subject",_.target.value),className:`w-full px-4 py-3 rounded-lg border-2 focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all duration-200 ${m.subject?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"How can we help you?"}),m.subject&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.subject})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),t.jsx("textarea",{id:"message",rows:5,value:c.message,onChange:_=>E("message",_.target.value),className:`w-full px-4 py-3 rounded-lg border-2 focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all duration-200 resize-none ${m.message?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"Tell us about your project or inquiry..."}),m.message&&t.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.message})]}),m.submit&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:t.jsx("p",{className:"text-sm",children:m.submit})}),t.jsx("button",{type:"submit",disabled:g.isPending,className:"w-full px-6 py-4 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:g.isPending?t.jsxs("span",{className:"flex items-center justify-center",children:[t.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending Message..."]}):"Send Message"})]})]})]})]})}),t.jsx("section",{className:"bg-blue-600 py-16 px-4",children:t.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[t.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Ready to Get Started?"}),t.jsx("p",{className:"text-xl text-blue-100 mb-8 leading-relaxed",children:"Join thousands of construction professionals who trust ConstructHub for their procurement needs."}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[t.jsx(Z,{to:"/register",className:"px-8 py-4 bg-white text-blue-600 rounded-lg font-semibold hover:bg-gray-100 transition-all duration-200 hover:scale-105 shadow-lg",children:"Start Free Trial"}),t.jsx(Z,{to:"/search",className:"px-8 py-4 bg-transparent text-white rounded-lg font-semibold border-2 border-white hover:bg-white hover:text-blue-600 transition-all duration-200",children:"Explore Platform"})]})]})})]})},H5=new G2({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),Gg=()=>t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),De=({children:e})=>{const s=W(n=>n.authentication_state.authentication_status.is_authenticated);return W(n=>n.authentication_state.authentication_status.is_loading)?t.jsx(Gg,{}):s?t.jsx(t.Fragment,{children:e}):t.jsx($f,{to:"/login",replace:!0})},W5=({children:e})=>{const s=Mr(),r=W(m=>m.authentication_state.authentication_status.is_authenticated),n=W(m=>m.app_preferences.language),a=["/","/search","/product","/compare","/bom","/shop/dashboard","/shop/inventory","/rfq","/profile","/map","/alerts","/categories","/trip","/shop/settings","/orders","/bom-library","/saved-searches","/settings","/shop/analytics","/community","/help"],i=["/","/search","/product","/compare","/bom","/shop/dashboard","/shop/inventory","/rfq","/profile","/map","/alerts","/categories","/trip","/orders","/bom-library","/community"],l=["/search","/product","/compare","/categories","/map","/scan"],o=a.some(m=>m==="/"?s.pathname==="/":s.pathname.startsWith(m)),c=i.some(m=>m==="/"?s.pathname==="/":s.pathname.startsWith(m)),d=r&&l.some(m=>s.pathname.startsWith(m));return t.jsxs("div",{className:`min-h-screen bg-gray-50 ${n==="ar"?"rtl":"ltr"}`,children:[o&&t.jsx($w,{}),t.jsx("main",{className:`${o?"pt-16":""} ${c?"pb-16 md:pb-0":""}`,children:e}),c&&t.jsx("div",{className:"md:hidden",children:t.jsx(hN,{})}),d&&t.jsx(yN,{})]})},Q5=()=>{const e=W(r=>r.authentication_state.authentication_status.is_loading),s=W(r=>r.initialize_auth);return u.useEffect(()=>{s()},[s]),e?t.jsx(Gg,{}):t.jsx(_2,{children:t.jsx(Y2,{client:H5,children:t.jsx(W5,{children:t.jsxs(f2,{children:[t.jsx(ke,{path:"/",element:t.jsx(bN,{})}),t.jsx(ke,{path:"/register",element:t.jsx(i5,{})}),t.jsx(ke,{path:"/login",element:t.jsx(l5,{})}),t.jsx(ke,{path:"/categories/:category_path?",element:t.jsx(E5,{})}),t.jsx(ke,{path:"/help",element:t.jsx(z5,{})}),t.jsx(ke,{path:"/terms",element:t.jsx(D5,{})}),t.jsx(ke,{path:"/privacy",element:t.jsx(U5,{})}),t.jsx(ke,{path:"/about",element:t.jsx(V5,{})}),t.jsx(ke,{path:"/search",element:t.jsx(De,{children:t.jsx(o5,{})})}),t.jsx(ke,{path:"/product/:product_id",element:t.jsx(De,{children:t.jsx(c5,{})})}),t.jsx(ke,{path:"/compare",element:t.jsx(De,{children:t.jsx(f5,{})})}),t.jsx(ke,{path:"/bom/:bom_id?",element:t.jsx(De,{children:t.jsx(g5,{})})}),t.jsx(ke,{path:"/bom-library",element:t.jsx(De,{children:t.jsx(F5,{})})}),t.jsx(ke,{path:"/shop/dashboard",element:t.jsx(De,{children:t.jsx(y5,{})})}),t.jsx(ke,{path:"/shop/inventory",element:t.jsx(De,{children:t.jsx(b5,{})})}),t.jsx(ke,{path:"/shop/settings",element:t.jsx(De,{children:t.jsx(R5,{})})}),t.jsx(ke,{path:"/shop/analytics",element:t.jsx(De,{children:t.jsx(B5,{})})}),t.jsx(ke,{path:"/rfq",element:t.jsx(De,{children:t.jsx(v5,{})})}),t.jsx(ke,{path:"/profile",element:t.jsx(De,{children:t.jsx(j5,{})})}),t.jsx(ke,{path:"/map",element:t.jsx(De,{children:t.jsx(S5,{})})}),t.jsx(ke,{path:"/alerts",element:t.jsx(De,{children:t.jsx(C5,{})})}),t.jsx(ke,{path:"/scan",element:t.jsx(De,{children:t.jsx(P5,{})})}),t.jsx(ke,{path:"/trip",element:t.jsx(De,{children:t.jsx(A5,{})})}),t.jsx(ke,{path:"/orders",element:t.jsx(De,{children:t.jsx(L5,{})})}),t.jsx(ke,{path:"/saved-searches",element:t.jsx(De,{children:t.jsx(O5,{})})}),t.jsx(ke,{path:"/settings",element:t.jsx(De,{children:t.jsx($5,{})})}),t.jsx(ke,{path:"/community",element:t.jsx(De,{children:t.jsx(q5,{})})}),t.jsx(ke,{path:"*",element:t.jsx($f,{to:"/",replace:!0})})]})})})})},Z5=()=>t.jsx(t.Fragment,{children:t.jsx(Q5,{})});Sf(document.getElementById("root")).render(t.jsx(Z5,{}));
